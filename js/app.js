function MaxMe(a){var b=a.style.height.split("p")[0],c=$(dyn_content_import),d=c.find(".dyn-content-import-send");""!==a.style.height&&(b>=50||25>b)||(""==a.value.replace(/\s/g,"")?(a.style.height="25px",d.removeClass("active")):d.hasClass("active")||d.addClass("active"),a.style.height=a.scrollTop+a.scrollHeight+"px")}!function(a,b){function c(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}function d(){return A++}function e(a){return a.match(D)[0]}function f(a){for(a=a.replace(E,"/"),a=a.replace(G,"$1/");a.match(F);)a=a.replace(F,"/");return a}function g(a){var b=a.length-1,c=a.charCodeAt(b);return 35===c?a.substring(0,b):".js"===a.substring(b-2)||a.indexOf("?")>0||47===c?a:a+".js"}function h(a){var b=v.alias;return b&&x(b[a])?b[a]:a}function i(a){var b,c=v.paths;return c&&(b=a.match(H))&&x(c[b[1]])&&(a=c[b[1]]+b[2]),a}function j(a){var b=v.vars;return b&&a.indexOf("{")>-1&&(a=a.replace(I,function(a,c){return x(b[c])?b[c]:a})),a}function k(a){var b=v.map,c=a;if(b)for(var d=0,e=b.length;e>d;d++){var f=b[d];if(c=z(f)?f(a)||a:a.replace(f[0],f[1]),c!==a)break}return c}function l(a,b){var c,d=a.charCodeAt(0);if(J.test(a))c=a;else if(46===d)c=(b?e(b):v.cwd)+a;else if(47===d){var g=v.cwd.match(K);c=g?g[0]+a.substring(1):a}else c=v.dir_app+a;return 0===c.indexOf("//")&&(c=location.protocol+c),f(c)}function m(a,b){if(!a)return"";a=h(a),a=i(a),a=h(a),a=j(a),a=h(a),a=g(a),a=h(a);var c=l(a,b);return c=h(c),c=k(c)}function n(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function o(a,b){var c;try{importScripts(a)}catch(d){c=d}b(c)}function p(a,b,c){var d=Y.createElement("script");if(c){var e=z(c)?c(a):c;e&&(d.charset=e)}q(d,b,a),d.async=!0,d.src=a,_=d,bb?ab.insertBefore(d,bb):ab.appendChild(d),_=null}function q(a,b,c){function d(c){a.onload=a.onerror=a.onreadystatechange=null,v.debug||ab.removeChild(a),a=null,b(c)}var e="onload"in a;e?(a.onload=d,C("error",{uri:c,node:a}),a.onerror=function(){C("error",{uri:c,node:a}),d(!0)}):a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&d()}}function r(){if(_)return _;if(cb&&"interactive"===cb.readyState)return cb;for(var a=ab.getElementsByTagName("script"),b=a.length-1;b>=0;b--){var c=a[b];if("interactive"===c.readyState)return cb=c}}function s(a){function b(){k=a.charAt(l++)}function c(){return/\s/.test(k)}function d(){return'"'==k||"'"==k}function e(){var c=l,d=k,e=a.indexOf(d,c);if(-1==e)l=m;else if("\\"!=a.charAt(e-1))l=e+1;else for(;m>l;)if(b(),"\\"==k)l++;else if(k==d)break;o&&(r.push(a.slice(c,l-1)),o=0)}function f(){for(l--;m>l;)if(b(),"\\"==k)l++;else{if("/"==k)break;if("["==k)for(;m>l;)if(b(),"\\"==k)l++;else if("]"==k)break}}function g(){return/[a-z_$]/i.test(k)}function h(){var b=a.slice(l-1),c=/^[\w$]+/.exec(b)[0];p={"if":1,"for":1,"while":1,"with":1}[c],n={"break":1,"case":1,"continue":1,"debugger":1,"delete":1,"do":1,"else":1,"false":1,"if":1,"in":1,"instanceof":1,"return":1,"typeof":1,"void":1}[c],o=/^require\s*\(\s*(['"]).+?\1\s*\)/.test(b),o?(c=/^require\s*\(\s*['"]/.exec(b)[0],l+=c.length-2):l+=/^[\w$]+(?:\s*\.\s*[\w$]+)*/.exec(b)[0].length-1}function i(){return/\d/.test(k)||"."==k&&/\d/.test(a.charAt(l))}function j(){var b,c=a.slice(l-1);b="."==k?/^\.\d+(?:E[+-]?\d*)?\s*/i.exec(c)[0]:/^0x[\da-f]*/i.test(c)?/^0x[\da-f]*\s*/i.exec(c)[0]:/^\d+\.?\d*(?:E[+-]?\d*)?\s*/i.exec(c)[0],l+=b.length-1,n=0}if(-1==a.indexOf("require"))return[];for(var k,l=0,m=a.length,n=1,o=0,p=0,q=[],r=[];m>l;)b(),c()||(d()?(e(),n=1):"/"==k?(b(),"/"==k?(l=a.indexOf("\n",l),-1==l&&(l=a.length)):"*"==k?(l=a.indexOf("*/",l),-1==l?l=m:l+=2):n?(f(),n=0):(l--,n=1)):g()?h():i()?j():"("==k?(q.push(p),n=1):")"==k?n=q.pop():(n="]"!=k,o=0));return r}function t(a,b){this.uri=a,this.dependencies=b||[],this.deps={},this.status=0,this._entry=[]}if(!a.seajs){var u=a.seajs={version:"3.0.0"},v=u.data={},w=c("Object"),x=c("String"),y=Array.isArray||c("Array"),z=c("Function"),A=0,B=v.events={};u.on=function(a,b){var c=B[a]||(B[a]=[]);return c.push(b),u},u.off=function(a,b){if(!a&&!b)return B=v.events={},u;var c=B[a];if(c)if(b)for(var d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);else delete B[a];return u};var C=u.emit=function(a,b){var c=B[a];if(c){c=c.slice();for(var d=0,e=c.length;e>d;d++)c[d](b)}return u},D=/[^?#]*\//,E=/\/\.\//g,F=/\/[^/]+\/\.\.\//,G=/([^:/])\/+\//g,H=/^([^/:]+)(\/.+)$/,I=/{([^{]+)}/g,J=/^\/\/.|:\//,K=/^.*?\/\/.*?\//;u.resolve=m;var L,M,N="undefined"==typeof window&&"undefined"!=typeof importScripts&&z(importScripts),O=/^(about|blob):/,P=!location.href||O.test(location.href)?"":e(location.href);if(N){var Q;try{var R=new Error;throw R}catch(S){Q=S.stack.split("\n")}Q.shift();for(var T,U=/.*?((?:http|https|file)(?::\/{2}[\w]+)(?:[\/|\.]?)(?:[^\s"]*)).*?/i,V=/(.*?):\d+:\d+\)?$/;Q.length>0;){var W=Q.shift();if(T=U.exec(W),null!=T)break}var X;if(null!=T)var X=V.exec(T[1])[1];M=X,L=e(X||P),""===P&&(P=L)}else{var Y=document,Z=Y.scripts,$=Y.getElementById("seajsnode")||Z[Z.length-1];M=n($),L=e(M||P)}if(N)u.request=o;else{var _,Y=document,ab=Y.head||Y.getElementsByTagName("head")[0]||Y.documentElement,bb=ab.getElementsByTagName("base")[0];u.request=p}var cb,db,eb=u.cache={},fb={},gb={},hb={},ib=t.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6,ERROR:7};t.prototype.resolve=function(){for(var a=this,b=a.dependencies,c=[],d=0,e=b.length;e>d;d++)c[d]=t.resolve(b[d],a.uri);return c},t.prototype.pass=function(){for(var a=this,b=a.dependencies.length,c=0;c<a._entry.length;c++){for(var d=a._entry[c],e=0,f=0;b>f;f++){var g=a.deps[a.dependencies[f]];g.status<ib.LOADED&&!d.history.hasOwnProperty(g.uri)&&(d.history[g.uri]=!0,e++,g._entry.push(d),g.status===ib.LOADING&&g.pass())}e>0&&(d.remain+=e-1,a._entry.shift(),c--)}},t.prototype.load=function(){var a=this;if(!(a.status>=ib.LOADING)){a.status=ib.LOADING;var b=a.resolve();C("load",b);for(var c=0,d=b.length;d>c;c++)a.deps[a.dependencies[c]]=t.get(b[c]);if(a.pass(),a._entry.length)return void a.onload();var e,f={};for(c=0;d>c;c++)e=eb[b[c]],e.status<ib.FETCHING?e.fetch(f):e.status===ib.SAVED&&e.load();for(var g in f)f.hasOwnProperty(g)&&f[g]()}},t.prototype.onload=function(){var a=this;a.status=ib.LOADED;for(var b=0,c=(a._entry||[]).length;c>b;b++){var d=a._entry[b];0===--d.remain&&d.callback()}delete a._entry},t.prototype.error=function(){var a=this;a.onload(),a.status=ib.ERROR},t.prototype.exec=function(){function a(b){var d=c.deps[b]||t.get(a.resolve(b));if(d.status==ib.ERROR)throw new Error("module was broken: "+d.uri);return d.exec()}var c=this;if(c.status>=ib.EXECUTING)return c.exports;if(c.status=ib.EXECUTING,c._entry&&!c._entry.length&&delete c._entry,!c.hasOwnProperty("factory"))return void(c.non=!0);var e=c.uri;a.resolve=function(a){return t.resolve(a,e)},a.async=function(b,c){return t.use(b,c,e+"_async_"+d()),a};var f=c.factory,g=z(f)?f(a,c.exports={},c):f;return g===b&&(g=c.exports),delete c.factory,c.exports=g,c.status=ib.EXECUTED,C("exec",c),c.exports},t.prototype.fetch=function(a){function b(){u.request(f.requestUri,f.onRequest,f.charset)}function c(a){delete fb[g],gb[g]=!0,db&&(t.save(e,db),db=null);var b,c=hb[g];for(delete hb[g];b=c.shift();)a===!0?b.error():b.load()}var d=this,e=d.uri;d.status=ib.FETCHING;var f={uri:e};C("fetch",f);var g=f.requestUri||e;return!g||gb.hasOwnProperty(g)?void d.load():fb.hasOwnProperty(g)?void hb[g].push(d):(fb[g]=!0,hb[g]=[d],C("request",f={uri:e,requestUri:g,onRequest:c,charset:z(v.charset)?v.charset(g)||"utf-8":v.charset}),void(f.requested||(a?a[f.requestUri]=b:b())))},t.resolve=function(a,b){var c={id:a,refUri:b};return C("resolve",c),c.uri||u.resolve(c.id,b)},t.define=function(a,c,d){var e=arguments.length;1===e?(d=a,a=b):2===e&&(d=c,y(a)?(c=a,a=b):c=b),!y(c)&&z(d)&&(c="undefined"==typeof s?[]:s(d.toString()));var f={id:a,uri:t.resolve(a),deps:c,factory:d};if(!N&&!f.uri&&Y.attachEvent&&"undefined"!=typeof r){var g=r();g&&(f.uri=g.src)}C("define",f),f.uri?t.save(f.uri,f):db=f},t.save=function(a,b){var c=t.get(a);c.status<ib.SAVED&&(c.id=b.id||a,c.dependencies=b.deps||[],c.factory=b.factory,c.status=ib.SAVED,C("save",c))},t.get=function(a,b){return eb[a]||(eb[a]=new t(a,b))},t.use=function(b,c,d){var e=t.get(d,y(b)?b:[b]);e._entry.push(e),e.history={},e.remain=1,e.callback=function(){for(var b=[],d=e.resolve(),f=0,g=d.length;g>f;f++)b[f]=eb[d[f]].exec();c&&c.apply(a,b),delete e.callback,delete e.history,delete e.remain,delete e._entry},e.load()},u.use=function(a,b){return t.use(a,b,v.cwd+"_use_"+d()),u},t.define.cmd={},a.define=t.define,u.Module=t,v.fetchedList=gb,v.cid=d,u.require=function(a){var b=t.get(t.resolve(a));return b.status<ib.EXECUTING&&(b.onload(),b.exec()),b.exports},v.dir_app=L,v.dir=L,v.loader=M,v.cwd=P,v.charset="utf-8",u.config=function(a){for(var b in a){var c=a[b],d=v[b];if(d&&w(d))for(var e in c)d[e]=c[e];else y(d)?c=d.concat(c):"base"===b&&("/"!==c.slice(-1)&&(c+="/"),c=l(c)),v[b]=c}return C("config",a),u}}}(this),define("app",["core/selector","core/lang","core/tpl","core/config","widget/common","widget/alert","widget/query_box","widget/ui","widget/upload","widget/lc_upload","core/agent","core/event","core/cookie","core/net","core/time","widget/img_view","widget/banner_is5","widget/iscroll5","core/fastclick","net","core/page","widget/wx","widget/jweixin-1.0.0"],function(a,b){"use strict";if(-1!==navigator.userAgent.toLowerCase().indexOf("safari"))try{localStorage.setItem("localStorage",1),localStorage.removeItem("localStorage")}catch(c){Storage.prototype._setItem=Storage.prototype.setItem,Storage.prototype.setItem=function(){},alert("浏览此网站前，请先关闭无痕浏览")}window.$=a("core/selector.js"),window.lang=a("core/lang.js"),window.sys=lang.sys(),window.tpl=a("core/tpl.js"),window.C=a("core/config.js"),window.common=a("widget/common.js"),window.agent=a("core/agent.js"),window.cookie=a("core/cookie.js");var d=a("core/net.js");window.net=new d({onAllStart:function(){common.loadShow()},onAllSuccess:function(){common.loadHide()},onAllError:function(){common.loadHide(),common.alert("网络错误，请检查网络！")}}),function(){var a=$("html"),b=a.width();480>=b?b*=1:b=480,a.css("font-size",b+"px")}(),a("core/time"),setTimeout(function(){a("widget/img_view")},66);{var e=a("core/fastclick.js");a("net")}new e(document.body);var f=a("core/page.js");window.my_wx=a("widget/wx"),common.is_weixn()&&(window.my_wx=a("widget/wx")),setTimeout(function(){$("#top-nav").find(".set-city .top-item-text").text(common.getCity().name)},10);var g=$("#dyn-content-import");f.onHide(function(){common.loadHide(),common.wx_set_share({}),g.removeClass("active")}),b.start=function(){navigator.control&&navigator.control.gesture&&navigator.control.gesture(!1),C.city=common.getCity(),f.start("home"),document.body.scrollWidth>1004&&$("#ibody").css("min-height",document.body.scrollHeight)}}),define("core/agent",["./event","./lang"],function(a,b,c){"use strict";var d=a("./event");c.exports=new d}),define("core/config",[],function(a,b,c){var d,e,f={},g={};e=f.host="http://"+location.host,g.icon={_5851:"changjia",_5852:"zongdai",_5854:"fenxiao",_5855:"lingshou",_5857:"shouhou",_5856:"weixiu",_10276:"ershou"},g.icon_cn={"厂家":"changjia","总代":"zongdai","分销":"fenxiao","零售":"lingshou","售后":"shouhou","维修":"weixiu","二手":"ershou"},f.dir_app="app.php",d=lang.extend(g,f);var h=d.api={};h.login="?act=login",h.person_list="?act=person_list",h.attention="?act=attention",h.get_userinfo="?act=get_userinfo",h.step="?act=step",h.lianxiren_pl="?act=lianxiren_pl",h.favorite="?act=favorite",h.subject="?act=subject",h.get_demand_list="?act=get_demand_list",h.demand_comment="?act=demand_comment",h.demand="?act=demand",h.subject_list="?act=subject_list",h.search_subject_list="?act=search_subject_list",h.modify_mobile="?act=modify_mobile",h.register="?act=register",h.get_password="?act=get_password",h.myproduct="?act=myproduct",h.category="?act=category",h.userinfo="?act=userinfo",h.custom_made="?act=custom_made",h.subject_brand="?act=subject_brand",h.wxGetJsConfig="?act=wx_get_js_config",h.edit_user_info="?act=edit_user_info",h.person_edit_user_info="?act=person_edit_user_info",h.fans_top="?act=fans_top",h.demands="?act=demands",h.pageview="?act=pageview",h.get_comment_list="?act=get_comment_list",h.add_call_count="?act=add_call_count",h.category_new="?act=category_new&catid=all",h.category="?act=category",h.comp_person_list="?act=comp_person_list",h.get_adv="?act=get_adv",h.add_comment="?act=add_comment",h.search="?act=search&listkey=1",h.get_product_list="?act=get_product_list",function(){var a;for(a in h)h[a]=d.dir_app+h[a]}(),d.noface1="http://www.pccn.com.cn/static/images/noface1.png",d.subject_default="http://www.pccn.com.cn/uploads/brand/subject_default.jpg",d.alert_aet="网络请求失败~请稍后再试",d.alert_post="提交中. . .",d.alert_cs="更改成功!",d.alert_noData="没有数据啦!",d.alert_qxztp="请选择图片!",d.alert_mcbnwk="名称不能为空!",d.alert_zzhq="正在获取, 请稍后. . .",d.alert_zzhqdlwz="正在获取地理位置, 请稍后. . .",d.alert_dlwzcw="获取地理位置错误,请检查您的设备!",d.alert_qsrnr="请输入内容. . .",d.alert_tpzzclz="图片正在处理中,请稍后...",d.alert_bzcglx="不支持该类型!",d.alert_tjcg="提交成功!",d.mapKey="m4rpRNGws0FrqwUrAH9uo0Gh",d.ls=localStorage,f={},g={},c.exports=d}),define("core/cookie",[],function(a,b,c){"use strict";var d=function(a,b,c){if("undefined"==typeof b){var d=null;if(document.cookie&&""!=document.cookie)for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=$.trim(e[f]);if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}return d}c=c||{},null===b&&(b="",c.expires=-1);var h="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var i;"number"==typeof c.expires?(i=new Date,i.setTime(i.getTime()+24*c.expires*60*60*1e3)):i=c.expires,h="; expires="+i.toUTCString()}var j=c.path?"; path="+c.path:"",k=c.domain?"; domain="+c.domain:"",l=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),h,j,k,l].join("")};d.remove=function(a){d(a,0,{expires:-1})},c.exports=d}),define("core/data",[],function(a,b,c){"use strict";function d(a){a?this.ids=f(a):"",this.cache={},this.list=[]}function e(a,b){var c,d=a;if(h(d)){c=b;for(var e=0,f=d.length;f>e;e++)c=c[d[e]]}else c=b[d];return c}function f(a){var b="";return b=-1==a.indexOf(".")?a:a.split(".")}function g(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}d.prototype.get=function(a){var b=this.cache["_id"+a];return b?f(ids):void 0},d.prototype.add=function(a,b){var c,d=[],g=this.cache,h=this.list;c=b?f(b):this.ids;for(var i=0,j=a.length;j>i;i++){var k=a[i],l=e(c,k);if(void 0==g["_id"+l]){var m=g["_id"+l]={};m.data=k,h.push(m),m.i=h.length-1,d.push(m)}}return d},d.prototype.remove=function(a){var b=this.cache,c=this.list;a?(c.splice(b.i,1),delete b["_id"+a]):(this.cache={},this.list=[])},d.prototype.update=function(a,b){var c=this.cache,d=this.list;if(a){var e=c["_id"+a];d[e.i]=b,c["_id"+a]=b}};var h=Array.isArray||g("Array");c.exports=d}),define("core/event",["./lang"],function(a,b,c){"use strict";function d(a,b){var c=new b,d=a&&a.prototype||a||{};return f.extend(d,c),a}function e(a){return this.handlers={},null!=a?d(a,e):void 0}var f=a("./lang"),g=Array.prototype.slice,h=/\S+/g,i=function(){function a(a){var b=c[a]={};return f.each(a.match(h),function(a){b[a]=!0}),b}function b(b){this.options="string"==typeof b?c[b]||a(b):f.extend({},b),this.list=[],this.stack=!this.options.once&&[],this.dataCache=null,this.status=d.INIT,this.firingStart=this.firingLength=this.firingIndex=0}var c={},d={INIT:0,FIRING:1,FIRED:2};return b.prototype={_fire:function(a){var b=this.list,c=this.stack;for(this.firingIndex=this.firingStart||0,this.firingStart=0,this.firingLength=b.length,this.dataCache=this.options.memory&&a,this.status=d.FIRING;b&&this.firingIndex<this.firingLength;this.firingIndex++)b[this.firingIndex].apply(a[0],a[1]);this.status=d.FIRED,b&&(c?c.length&&this._fire(c.shift()):this.dataCache?this.empty():this.disable())},add:function(){var a=this;if(this.list){var b=this.list.length;!function c(b){f.each(b,function(b){var d=f.type(b);"function"===d?a.list.push(b):b&&b.length&&"string"!==d&&c(b)})}(arguments),this.status===d.FIRING?this.firingLength=this.list.length:this.dataCache&&(this.firingStart=b,this._fire(this.dataCache))}return this},remove:function(){return this.list&&f.each(arguments,function(a){for(var b=f.indexOf(this.list,a);b>-1;)this.list.splice(b,1),this.status===d.FIRING&&(b<=this.firingLength&&this.firingLength--,b<=this.firingIndex&&this.firingIndex--),b=f.indexOf(this.list,a,b)},this),this},has:function(a){var b=this.list;return a?f.indexOf(b,a)>-1:!(!b||!b.length)},empty:function(){return this.list.length=0,this.firingLength=0,this},disable:function(){return this.list=this.stack=this.dataCache=null,this},lock:function(){return this.stack=null,this.dataCache||this.disable(),this},fireWith:function(a,b){var c=this.status!==d.FIRED,e=this.status===d.FIRING,f=this.list,g=this.stack;return b=b||[],b=[a,b.slice?b.slice():b],f&&(c||g)&&(e?g.push(b):this._fire(b)),this},fire:function(){return this.fireWith(this,arguments),this}},b._optionsCache=c,b._createOptions=a,b}();i.prototype.constructor=i;var j=function(){function a(b){return this.handlers=[new i("once memory"),new i("once memory"),new i("memory")],this.status=c.INIT,f.each(e,function(a,b){var c=this,d=this.handlers[b],e=a[2];this[a[1]]=function(){return d.add.apply(d,arguments),this},e&&d.add(function(){c.status=e,c.handlers[1^b].disable(),c.handlers[2].lock()})},this),null!=b?d(b,a):void 0}function b(){var a=[],b=[],c=new j,d=c.resolve;return c._when=[],c._count=arguments.length,f.each(arguments,function(e,f){c._when.push(e.always(function(){a[f]||(a[f]=!0,b[f]=g.call(arguments),0===--c._count&&(a.length=0,d.apply(c,b)))}))}),c.then=c.done,f.each(["done","fail","progress","always","resolve","reject","notify"],function(a){delete c[a]}),f.extend(c,k),c}var c={INIT:0,RESOLVED:1,REJECTED:2},e=[["resolve","done",c.RESOLVED],["reject","fail",c.REJECTED],["notify","progress"]],h=a.prototype={then:function(){var a=arguments;return f.each(e,function(b,c){var d=a[c];"function"===f.type(d)&&this[b[1]](d)},this),this},always:function(a){return this.then(a,a),this}};f.each(e,function(a,b){h[a[0]]=function(){return this.handlers[b].fireWith(this,arguments),this}});var k={all:function(){var a=b.apply(this,this._when);return a},any:function(){var a=b.apply(this,this._when);return a._count=1,a},some:function(a){var c=b.apply(this,this._when);return c._count=a,c}};return a.when=b,a}();j.prototype.constructor=j,e.prototype.on=function(a){var b,c=g.call(arguments,1);return b=function(a,b){var c=this.handlers[a];c||(c=this.handlers[a]=new i),c.add.apply(c,b)},"string"==typeof a?f.each(a.match(h),function(a){b.call(this,a,c)},this):f.each(a,function(a,c){b.call(this,c,[a])},this),this},e.prototype.off=function(a){var b,c=g.call(arguments,1);return b=function(a,b){var c=this.handlers[a];c&&c.remove.apply(c,b)},"string"==typeof a?f.each(a.match(h),function(a){b.call(this,a,c)},this):f.each(a,function(a,c){b.call(this,c,[a])},this),this},e.prototype.trigger=function(a){var b=g.call(arguments,1);return f.each(a.match(h),function(a){var c=this.handlers[a];c&&c.fireWith(c,b)},this),this},e._mixin=d,e.Handlers=i,e.Promise=j,c.exports=e}),function(){"use strict";function a(b,d){function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(d=d||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=d.touchBoundary||10,this.layer=b,this.tapDelay=d.tapDelay||200,this.tapTimeout=d.tapTimeout||700,!a.notNeeded(b)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;j>i;i++)h[g[i]]=e(h[g[i]],h);c&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(f=b.onclick,b.addEventListener("click",function(a){f(a)},!1),b.onclick=null)}}var b=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!b,d=/iP(ad|hone|od)/.test(navigator.userAgent)&&!b,e=d&&/OS 4_\d(_\d)?/.test(navigator.userAgent),f=d&&/OS [6-7]_\d/.test(navigator.userAgent),g=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(d&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return c&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var b;d&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,f;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],d){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed)return!0;if(!e){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},a.prototype.onTouchMove=function(a){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,g,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,g=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,f&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),h=k.tagName.toLowerCase(),"label"===h){if(b=this.findControl(k)){if(this.focus(k),c)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-g>100||d&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),d&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return d&&!e&&(i=k.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;c&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,d,e,f;if("undefined"==typeof window.ontouchstart)return!0;if(d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!c)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(d>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(g&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(b=document.querySelector("meta[name=viewport]"),b&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===a.style.touchAction||"manipulation"===a.style.touchAction?!0:!1)},a.attach=function(b,c){return new a(b,c)},"function"==typeof define?define("core/fastclick",[],function(){return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a}(),define("core/fn",[],function(a,b){"use strict";function c(a,b){var c=this;return this.init=!0,this.a=a,this.b=b,function(){c.init?c.a():c.b()}}b.toggle=c}),define("core/lang",[],function(a,b){"use strict";function c(a,b){this.out=0,this.fn=a||function(){},this.time=b||1e3}var d=Object.prototype,e=Array.prototype,f=d.toString,g=d.hasOwnProperty,h=e.slice,i=b,j=navigator.userAgent,k={},l={},m=j.match(/WebKit\/([\d.]+)/),n=j.match(/(Android)\s+([\d.]+)/),o=j.match(/(iPad).*OS\s([\d_]+)/),p=!o&&j.match(/(iPhone\sOS)\s([\d_]+)/),q=j.match(/Kindle\/([\d.]+)/),r=j.match(/Silk\/([\d._]+)/),s=j.match(/UC/);l.webkit=!!m,l.webkit&&(l.version=m[1]),n&&(k.android=!0,k.version=n[2]),p&&(k.ios=k.iphone=!0,k.version=p[2].replace(/_/g,".")),o&&(k.ios=k.ipad=!0,k.version=o[2].replace(/_/g,".")),q&&(k.kindle=!0,k.version=q[1]),r&&(l.silk=!0,l.version=r[1]),!r&&k.android&&j.match(/Kindle Fire/)&&(l.silk=!0),s&&(l.uc=!0),n||o||p||q||r||s||(l.desktop=!0),i.os=k,i.browser=l,i.type=function(a){var b;return null==a?b=String(a):(b=f.call(a).toLowerCase(),b=b.substring(8,b.length-1)),b},i.each=function(a,b,c){var d,e,f;if("object"==typeof a)if(f=i.type(a),c=c||a,"array"===f||"arguments"===f){for(d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===!1)return}else for(d in a)if(g.call(a,d)&&b.call(c,a[d],d,a)===!1)return},i.bind=function(a,b){var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},i.isPlainObject=function(a){var b;if(!a||"object"!==i.type(a)||a.nodeType||"setInterval"in a)return!1;if(a.constructor&&!g.call(a,"constructor")&&!g.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(b in a);return void 0===b||g.call(a,b)},i.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,j=arguments.length,k=!1;for("boolean"==typeof g&&(k=g,g=arguments[1]||{},h=2),"object"!=typeof g&&"function"!==i.type(g)&&(g={}),j===h&&(g=this,--h);j>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(k&&d&&(i.isPlainObject(d)||(e="array"===i.type(d)))?(e?(e=!1,f=c&&"array"===i.type(c)?c:[]):f=c&&i.isPlainObject(c)?c:{},g[b]=i.extend(k,f,d)):void 0!==d&&(g[b]=d));return g},i.indexOf=function(a,b,c){if(null==a)throw new TypeError;var d=Object(a),e=Number(d.length);if(e!==e||0===e)return-1;var f=0;if(arguments.length>1){if(f=Number(c),f!==f?f=0:0!==f&&1/0!==f&&f!==-1/0&&(f=(f>0||-1)*Math.floor(Math.abs(f))),f>=e)return-1;for(var g=f>=0?f:Math.max(e-Math.abs(f),0);e>g;g++)if(g in d&&d[g]===b)return g;return-1}},b.sys=function(){function a(){var a=g.match(/MSIE(.{0,2})/);l="pc",j="ie"+a[1].slice(1,2),i="ie",k="ms"}function b(){l="pc",h="Opera"}function c(){var a=g.match(/Firefox\/(.*)/);l="pc",j="firefox"+a[1],i="firefox",k="moz"}function d(){l="pc",i="webkit",k="webkit"}function e(){l="ios",i=m,k="webkit"}function f(){l="android",i=m,k="webkit",j=""}for(var g=navigator.userAgent,h={},i="",j="",k="",l="",m=["Android","iPhone","iPad","iPod","iPadmini","MSIE","Firefox","Opera","Safari","Chrome"],n=0;n<m.length;n++){var o=g.indexOf(m[n]);if(-1!=o){m=m[n];break}}switch(m){case"MSIE":a();break;case"Firefox":c();break;case"Safari":d();break;case"Opera":b();break;case"iPhone":e();break;case"iPad":e();break;case"iPod":e();break;case"iPadMini":e();break;case"Android":f()}return h.platform=l,h.name=i,h.ver=j,h.pf=k,h.bodyOffsetWidth=document.body.offsetWidth,h},c.prototype.start=function(){function a(){clearTimeout(b.out),b.out=setTimeout(function(){b.fn?b.fn():"",a()},b.time)}var b=this;a()},c.prototype.stop=function(){clearTimeout(this.out)},b.loop=c}),define("core/net",[],function(a,b,c){"use strict";function d(a){var b=this;b._config={},b.config(a),this.cache={},this.list={},this.lock=!1,this.concurrent=b._config.concurrent,this.saver=b.saverChange(b._config.saver)}var e={dataType:"json",type:"get",concurrent:1,cache:!0,saver:"ls",timeout:3e4,hasUri:!0,autoAbort:!0,cacheTimeout:0},f="_lc_",g=lang.extend,h={ls:localStorage,ss:sessionStorage};d.prototype.send=function(a){return this.transmit(a)},d.prototype.upload=function(a){return this.transmit(a,"upload")},d.prototype.transmit=function(a,b){function c(){e.runEvent("Error",d,h),clearTimeout(m),e.clear(h,d.autoAbort)}var d,e=this,h=new XMLHttpRequest,i="upload"===b?h.upload:h;if((a.type&&"get"!=a.type&&void 0==a.cache||"upload"===b)&&(a.cache=!1),"upload"===b&&(a.type="post"),d=e.option(g(!0,{},e._config,a)),d.xhr=h,h.opt=d,e._lock)return e.runEvent("Refuse",d,h),!1;if(!e.concurrentFn(d))return e.runEvent("Refuse",d,h),!1;i.onprogress=function(a){var b=a.loaded||a.position,c=a.total;h.pex=0>=c?100:Math.round(b/c*100),e.runEvent("Progress",d,h)},e.runEvent("Start",d,h);var j,k=e.checkCache(d),l=!1;j=e.getCache(d),k&&j&&(setTimeout(function(){h.data=j,e.runEvent("Success",d,h)},d.cacheTimeout),l=!0),h.onreadystatechange=function(a){var b,g=h.readyState,i=h.status,j=h.responseText||h.response;4===g&&(200==i||302==i?(h.data=e.resDate(a,d),b=e.saver[f+d.url],k&&j!==b&&(b&&d.onUpdate&&d.onUpdate(h),e.saveCache(h,d)),l||e.runEvent("Success",d,h),clearTimeout(m),e.clear(h,d.autoAbort)):c())};var m=0;return m=setTimeout(function(){e.runEvent("Timeout",d,h),e.clear(h,d.autoAbort)},d.timeout),i.onabort=function(){e.runEvent("Abort",d,h),clearTimeout(m)
},h.open(d.type,d.url,!0),h.send(d.data),h},d.prototype.runEvent=function(a,b,c){var d=b["onAll"+a],e=!b.stopEvent,f=b["on"+a];e&&!b["stopAll"+a]&&d?d(c):"",e&&!b["stop"+a]&&f?f(c):""},d.prototype.concurrentFn=function(a){var b=this,c=b.list,d=a.url,e=!0,f=a.concurrent,g=c[d];return g?g.length<f?c[d].push(a.xhr):e=!1:c[d]=[a.xhr],e},d.prototype.clear=function(a,b){var c,d,e,f,g,h=this,i=h.list;if(a)d=a.opt,a.opt&&(c=d.url,e=i[c],e&&e.length>0&&(b&&e[0].abort(),e.splice(0,1)));else{if(b)for(f in i){g=i[f];for(var j=0,k=g.length-1;k>=j;j++)g[j].abort()}h.list=[]}},d.prototype.abort=function(a){this.clear(a,!0)},d.prototype.urlFn=function(a){var b,c=[],d=a.url,e=a.data;if(!d)return"";if(d=d.replace(/\{.*\}/g,function(a){var b,c=a.replace(/\{|\}/g,"");return e[c]&&(b=e[c],delete e[c]),b||0}),a.hasUri){for(b in e)c.push(b+"="+e[b]);c=c.join("&"),c.length>0&&(d=(-1==d.indexOf("?")?d+"?":d+"&")+c)}return d},d.prototype.resDate=function(a,b){var c,d=this,e=a.target,f=b.dataType||"json",g=e.responseText||e.response;switch(f){case"text":c=g;default:d._try(function(){c=JSON.parse(g)},function(){c=g})}return c},d.prototype.option=function(a){function b(b){var e=null;return b&&(e="get"==a.type?c(b):d(b)),e}function c(){return null}function d(a){var b,c,d=new FormData;for(b in a)a[b].constructor===File?c=a[b]:JSON.stringify(c=a[b]),d.append(b,c);return d}var e=this;return a?(a.success=a.success||function(){},a.type=a.type||"get",a.url=e.urlFn(a),a.data=b(a.data),a):void 0},d.prototype.checkCache=function(a){var b=this,c=a.cache,d=b.saver;return c&&d?!0:!1},d.prototype.saveCache=function(a,b){var c=this,d=a.responseText||a.response;c.checkCache(b)&&(c.saverChange(b.saver),c.saver[f+b.url]=d)},d.prototype.getCache=function(a){var b,c,d=this;return d.checkCache(a)&&(d.saverChange(a.saver),c=f+a.url,b=d.cache[c]?d.cache[c]:d.saver[c]?d._try(function(){return JSON.parse(d.saver[c])},function(){d.saver[c]}):null),b},d.prototype.saverChange=function(a){var b=this;return b.saver=h[a],b.saver},d.prototype.lock=function(){this._lock=!0},d.prototype.unLock=function(){this._lock=!1},d.prototype._try=function(a,b){try{return a()}catch(c){b()}},d.prototype.config=function(a){g(!0,this._config,e,a)},c.exports=d}),define("core/page",[],function(a,b){"use strict";function c(a){if(h){var b=d(a.oldURL),c=d(a.newURL);if(g&&b.page===c.page)return void g.show(c.state);if(!g&&b.page){var f=document.getElementById("page-"+b.page);f&&(f.style.display="none")}e(c.page,c.state)}}function d(a){a=a||"";for(var b=window.decodeURIComponent,c=a.indexOf("#/"),d=c>=0?a.slice(c+2):"",e=d.indexOf("?"),f=e>=0?d.slice(e+1):"",g=e>=0?d.slice(0,e):d,h=f.split("!!"),i={},j=0;j<h.length;j++){var k=h[j].replace(/\+/g,"%20"),l=k.indexOf("="),m=~l?k.slice(0,l):k,n=~l?k.slice(l+1):"";try{m=b(m),n=b(n)}catch(o){console.log(o)}i[m]=n}return{url:a,page:g,state:i}}function e(a,b){return m?m(b):"",""===a?void f():void seajs.use("page/"+a,function(a){a?(g&&g.hide&&(k?k(b):"",g.hide()),a.show&&(l?l(b):"",a.show(b)),g=a):f()})}var f,g,h=!1,i="onhashchange"in window,j="addEventListener"in window;b.start=function(a){h||(j?window.addEventListener("hashchange",c,!1):i&&(window.onhashchange=c),h=!0,"string"==typeof a&&(f=function(){location.replace("#/"+a)}),c({newURL:window.location.href}))};var k,l,m;b.onHide=function(a){k=a},b.onShow=function(a){l=a},b.onChange=function(a){m=a}}),define("core/promise",["core/event","core/lang"],function(a,b,c){"use strict";var d=a("core/event");c.exports=d.Promise});var Zepto=function(){function a(a){return null==a?String(a):V[W.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&Object.getPrototypeOf(a)==Object.prototype}function g(a){return a instanceof Array}function h(a){return"number"==typeof a.length}function i(a){return E.call(a,function(a){return null!=a})}function j(a){return a.length>0?y.fn.concat.apply([],a):a}function k(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(a){return a in H?H[a]:H[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function m(a,b){return"number"!=typeof b||I[k(a)]?b:b+"px"}function n(a){var b,c;return G[a]||(b=F.createElement(a),F.body.appendChild(b),c=getComputedStyle(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),G[a]=c),G[a]}function o(a){return"children"in a?D.call(a.children):y.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function p(a,b,c){for(x in b)c&&(f(b[x])||g(b[x]))?(f(b[x])&&!f(a[x])&&(a[x]={}),g(b[x])&&!g(a[x])&&(a[x]=[]),p(a[x],b[x],c)):b[x]!==w&&(a[x]=b[x])}function q(a,b){return null==b?y(a):y(a).filter(b)}function r(a,c,d,e){return b(c)?c.call(a,d,e):c}function s(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function t(a,b){var c=a.className,d=c&&c.baseVal!==w;return b===w?d?c.baseVal:c:void(d?c.baseVal=b:a.className=b)}function u(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:/^0/.test(a)||isNaN(b=Number(a))?/^[\[\{]/.test(a)?y.parseJSON(a):a:b):a}catch(c){return a}}function v(a,b){b(a);for(var c in a.childNodes)v(a.childNodes[c],b)}var w,x,y,z,A,B,C=[],D=C.slice,E=C.filter,F=window.document,G={},H={},I={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},J=/^\s*<(\w+|!)[^>]*>/,K=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,N=/([A-Z])/g,O=["val","css","html","text","data","width","height","offset"],P=["after","prepend","before","append"],Q=F.createElement("table"),R=F.createElement("tr"),S={tr:F.createElement("tbody"),tbody:Q,thead:Q,tfoot:Q,td:R,th:R,"*":F.createElement("div")},T=/complete|loaded|interactive/,U=/^[\w-]*$/,V={},W=V.toString,X={},Y=F.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};return X.matches=function(a,b){if(!b||!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=Y).appendChild(a),d=~X.qsa(e,b).indexOf(a),f&&Y.removeChild(a),d},A=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},B=function(a){return E.call(a,function(b,c){return a.indexOf(b)==c})},X.fragment=function(a,b,c){var d,e,g;return K.test(a)&&(d=y(F.createElement(RegExp.$1))),d||(a.replace&&(a=a.replace(L,"<$1></$2>")),b===w&&(b=J.test(a)&&RegExp.$1),b in S||(b="*"),g=S[b],g.innerHTML=""+a,d=y.each(D.call(g.childNodes),function(){g.removeChild(this)})),f(c)&&(e=y(d),y.each(c,function(a,b){O.indexOf(a)>-1?e[a](b):e.attr(a,b)})),d},X.Z=function(a,b){return a=a||[],a.__proto__=y.fn,a.selector=b||"",a},X.isZ=function(a){return a instanceof X.Z},X.init=function(a,c){var d;if(!a)return X.Z();if("string"==typeof a)if(a=a.trim(),"<"==a[0]&&J.test(a))d=X.fragment(a,RegExp.$1,c),a=null;else{if(c!==w)return y(c).find(a);d=X.qsa(F,a)}else{if(b(a))return y(F).ready(a);if(X.isZ(a))return a;if(g(a))d=i(a);else if(e(a))d=[a],a=null;else if(J.test(a))d=X.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==w)return y(c).find(a);d=X.qsa(F,a)}}return X.Z(d,a)},y=function(a,b){return X.init(a,b)},y.extend=function(a){var b,c=D.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){p(a,c,b)}),a},X.qsa=function(a,b){var c,e="#"==b[0],f=!e&&"."==b[0],g=e||f?b.slice(1):b,h=U.test(g);return d(a)&&h&&e?(c=a.getElementById(g))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:D.call(h&&!e?f?a.getElementsByClassName(g):a.getElementsByTagName(b):a.querySelectorAll(b))},y.contains=function(a,b){return a!==b&&a.contains(b)},y.type=a,y.isFunction=b,y.isWindow=c,y.isArray=g,y.isPlainObject=f,y.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},y.inArray=function(a,b,c){return C.indexOf.call(b,a,c)},y.camelCase=A,y.trim=function(a){return null==a?"":String.prototype.trim.call(a)},y.uuid=0,y.support={},y.expr={},y.map=function(a,b){var c,d,e,f=[];if(h(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return j(f)},y.each=function(a,b){var c,d;if(h(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},y.grep=function(a,b){return E.call(a,b)},window.JSON&&(y.parseJSON=JSON.parse),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()}),y.fn={forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(a){return y(y.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return y(D.apply(this,arguments))},ready:function(a){return T.test(F.readyState)&&F.body?a(y):F.addEventListener("DOMContentLoaded",function(){a(y)},!1),this},get:function(a){return a===w?D.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return C.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):y(E.call(this,function(b){return X.matches(b,a)}))},add:function(a,b){return y(B(this.concat(y(a,b))))},is:function(a){return this.length>0&&X.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==w)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):h(a)&&b(a.item)?D.call(a):y(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return y(c)},has:function(a){return this.filter(function(){return e(a)?y.contains(this,a):y(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:y(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:y(a)},find:function(a){var b,c=this;return b="object"==typeof a?y(a).filter(function(){var a=this;return C.some.call(c,function(b){return y.contains(b,a)})}):1==this.length?y(X.qsa(this[0],a)):this.map(function(){return X.qsa(this,a)})},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=y(a));c&&!(e?e.indexOf(c)>=0:X.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return y(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=y.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return q(b,a)},parent:function(a){return q(B(this.pluck("parentNode")),a)},children:function(a){return q(this.map(function(){return o(this)}),a)},contents:function(){return this.map(function(){return D.call(this.childNodes)})},siblings:function(a){return q(this.map(function(a,b){return E.call(o(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return y.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=n(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=y(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){y(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){y(this[0]).before(a=y(a));for(var b;(b=a.children()).length;)a=b.first();y(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=y(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){y(this).replaceWith(y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=y(this);(a===w?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return y(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return y(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(b){var c=this.innerHTML;y(this).empty().append(r(this,a,b,c))})},text:function(a){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=a===w?"":""+a})},attr:function(a,b){var c;return"string"==typeof a&&b===w?0==this.length||1!==this[0].nodeType?w:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:this.each(function(c){if(1===this.nodeType)if(e(a))for(x in a)s(this,x,a[x]);else s(this,a,r(this,b,c,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&s(this,a)})},prop:function(a,b){return a=Z[a]||a,b===w?this[0]&&this[0][a]:this.each(function(c){this[a]=r(this,b,c,this[a])})},data:function(a,b){var c=this.attr("data-"+a.replace(N,"-$1").toLowerCase(),b);return null!==c?u(c):w},val:function(a){return 0===arguments.length?this[0]&&(this[0].multiple?y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(b){this.value=r(this,a,b,this.value)})},offset:function(a){if(a)return this.each(function(b){var c=y(this),d=r(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(0==this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2){var d=this[0],e=getComputedStyle(d,"");if(!d)return;if("string"==typeof b)return d.style[A(b)]||e.getPropertyValue(b);if(g(b)){var f={};return y.each(g(b)?b:[b],function(a,b){f[b]=d.style[A(b)]||e.getPropertyValue(b)}),f}}var h="";if("string"==a(b))c||0===c?h=k(b)+":"+m(b,c):this.each(function(){this.style.removeProperty(k(b))});else for(x in b)b[x]||0===b[x]?h+=k(x)+":"+m(x,b[x])+";":this.each(function(){this.style.removeProperty(k(x))});return this.each(function(){this.style.cssText+=";"+h})},index:function(a){return a?this.indexOf(y(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return a?C.some.call(this,function(a){return this.test(t(a))},l(a)):!1},addClass:function(a){return a?this.each(function(b){z=[];var c=t(this),d=r(this,a,b,c);d.split(/\s+/g).forEach(function(a){y(this).hasClass(a)||z.push(a)},this),z.length&&t(this,c+(c?" ":"")+z.join(" "))}):this},removeClass:function(a){return this.each(function(b){return a===w?t(this,""):(z=t(this),r(this,a,b,z).split(/\s+/g).forEach(function(a){z=z.replace(l(a)," ")}),t(this,z.trim()),void 0)})},toggleClass:function(a,b){return a?this.each(function(c){var d=y(this),e=r(this,a,c,t(this));e.split(/\s+/g).forEach(function(a){(b===w?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})}):this},scrollTop:function(a){if(this.length){var b="scrollTop"in this[0];return a===w?b?this[0].scrollTop:this[0].pageYOffset:this.each(b?function(){this.scrollTop=a}:function(){this.scrollTo(this.scrollX,a)})}},scrollLeft:function(a){if(this.length){var b="scrollLeft"in this[0];return a===w?b?this[0].scrollLeft:this[0].pageXOffset:this.each(b?function(){this.scrollLeft=a}:function(){this.scrollTo(a,this.scrollY)})}},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=M.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(y(a).css("margin-top"))||0,c.left-=parseFloat(y(a).css("margin-left"))||0,d.top+=parseFloat(y(b[0]).css("border-top-width"))||0,d.left+=parseFloat(y(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||F.body;a&&!M.test(a.nodeName)&&"static"==y(a).css("position");)a=a.offsetParent;return a})}},y.fn.detach=y.fn.remove,["width","height"].forEach(function(a){var b=a.replace(/./,function(a){return a[0].toUpperCase()});y.fn[a]=function(e){var f,g=this[0];return e===w?c(g)?g["inner"+b]:d(g)?g.documentElement["scroll"+b]:(f=this.offset())&&f[a]:this.each(function(b){g=y(this),g.css(a,r(this,e,b,g[a]()))})}}),P.forEach(function(b,c){var d=c%2;y.fn[b]=function(){var b,e,f=y.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:X.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null,f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return y(a).remove();v(e.insertBefore(a,b),function(a){null!=a.nodeName&&"SCRIPT"===a.nodeName.toUpperCase()&&(!a.type||"text/javascript"===a.type)&&!a.src&&window.eval.call(window,a.innerHTML)})})})},y.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return y(a)[b](this),this}}),X.Z.prototype=y.fn,X.uniq=B,X.deserializeValue=u,y.zepto=X,y}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(a){function b(a){return a._zid||(a._zid=m++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(q[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!h.test(a.ns)||f&&b(a.fn)!==b(f)||g&&a.sel!=g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(a,b){return a.del&&!s&&a.e in t||!!b}function g(a){return u[a]||s&&t[a]||a}function h(c,e,h,i,k,m,n){var o=b(c),p=q[o]||(q[o]=[]);e.split(/\s/).forEach(function(b){if("ready"==b)return a(document).ready(h);var e=d(b);e.fn=h,e.sel=k,e.e in u&&(h=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?e.fn.apply(this,arguments):void 0}),e.del=m;var o=m||h;e.proxy=function(a){if(a=j(a),!a.isImmediatePropagationStopped()){a.data=i;var b=o.apply(c,a._args==l?[a]:[a].concat(a._args));return b===!1&&(a.preventDefault(),a.stopPropagation()),b}},e.i=p.length,p.push(e),"addEventListener"in c&&c.addEventListener(g(e.e),e.proxy,f(e,n))})}function i(a,d,e,h,i){var j=b(a);(d||"").split(/\s/).forEach(function(b){c(a,b,e,h).forEach(function(b){delete q[j][b.i],"removeEventListener"in a&&a.removeEventListener(g(b.e),b.proxy,f(b,i))})})}function j(b,c){return(c||!b.isDefaultPrevented)&&(c||(c=b),a.each(y,function(a,d){var e=c[a];b[a]=function(){return this[d]=v,e&&e.apply(c,arguments)},b[d]=w}),(c.defaultPrevented!==l?c.defaultPrevented:"returnValue"in c?c.returnValue===!1:c.getPreventDefault&&c.getPreventDefault())&&(b.isDefaultPrevented=v)),b}function k(a){var b,c={originalEvent:a};for(b in a)!x.test(b)&&a[b]!==l&&(c[b]=a[b]);return j(c,a)}var l,m=(a.zepto.qsa,1),n=Array.prototype.slice,o=a.isFunction,p=function(a){return"string"==typeof a},q={},r={},s="onfocusin"in window,t={focus:"focusin",blur:"focusout"},u={mouseenter:"mouseover",mouseleave:"mouseout"};r.click=r.mousedown=r.mouseup=r.mousemove="MouseEvents",a.event={add:h,remove:i},a.proxy=function(c,d){if(o(c)){var e=function(){return c.apply(d,arguments)};return e._zid=b(c),e}if(p(d))return a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b,c){return this.on(a,b,c)},a.fn.unbind=function(a,b){return this.off(a,b)},a.fn.one=function(a,b,c,d){return this.on(a,b,c,d,1)};var v=function(){return!0},w=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(a,b,c){return this.on(b,a,c)},a.fn.undelegate=function(a,b,c){return this.off(b,a,c)},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d,e,f){var g,j,m=this;return b&&!p(b)?(a.each(b,function(a,b){m.on(a,c,d,b,f)}),m):(!p(c)&&!o(e)&&e!==!1&&(e=d,d=c,c=l),(o(d)||d===!1)&&(e=d,d=l),e===!1&&(e=w),m.each(function(l,m){f&&(g=function(a){return i(m,a.type,e),e.apply(this,arguments)}),c&&(j=function(b){var d,f=a(b.target).closest(c,m).get(0);return f&&f!==m?(d=a.extend(k(b),{currentTarget:f,liveFired:m}),(g||e).apply(f,[d].concat(n.call(arguments,1)))):void 0}),h(m,b,e,d,c,j||g)}))},a.fn.off=function(b,c,d){var e=this;return b&&!p(b)?(a.each(b,function(a,b){e.off(a,c,b)}),e):(!p(c)&&!o(d)&&d!==!1&&(d=c,c=l),d===!1&&(d=w),e.each(function(){i(this,b,d,c)}))},a.fn.trigger=function(b,c){return b=p(b)||a.isPlainObject(b)?a.Event(b):j(b),b._args=c,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(b):a(this).triggerHandler(b,c)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k(p(b)?a.Event(b):b),e._args=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}}),this}}),a.Event=function(a,b){p(a)||(b=a,a=b.type);var c=document.createEvent(r[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0),j(c)}}(Zepto),function(a,b){function c(a){return a.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function d(a){return e?e+a:a.toLowerCase()}var e,f,g,h,i,j,k,l,m,n,o="",p={Webkit:"webkit",Moz:"",O:"o"},q=window.document,r=q.createElement("div"),s=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,t={};a.each(p,function(a,c){return r.style[a+"TransitionProperty"]!==b?(o="-"+a.toLowerCase()+"-",e=c,!1):void 0}),f=o+"transform",t[g=o+"transition-property"]=t[h=o+"transition-duration"]=t[j=o+"transition-delay"]=t[i=o+"transition-timing-function"]=t[k=o+"animation-name"]=t[l=o+"animation-duration"]=t[n=o+"animation-delay"]=t[m=o+"animation-timing-function"]="",a.fx={off:e===b&&r.style.transitionProperty===b,speeds:{_default:400,fast:200,slow:600},cssPrefix:o,transitionEnd:d("TransitionEnd"),animationEnd:d("AnimationEnd")},a.fn.animate=function(c,d,e,f,g){return a.isFunction(d)&&(f=d,e=b,d=b),a.isFunction(e)&&(f=e,e=b),a.isPlainObject(d)&&(e=d.easing,f=d.complete,g=d.delay,d=d.duration),d&&(d=("number"==typeof d?d:a.fx.speeds[d]||a.fx.speeds._default)/1e3),g&&(g=parseFloat(g)/1e3),this.anim(c,d,e,f,g)},a.fn.anim=function(d,e,o,p,q){var r,u,v,w={},x="",y=this,z=a.fx.transitionEnd,A=!1;if(e===b&&(e=a.fx.speeds._default/1e3),q===b&&(q=0),a.fx.off&&(e=0),"string"==typeof d)w[k]=d,w[l]=e+"s",w[n]=q+"s",w[m]=o||"linear",z=a.fx.animationEnd;else{u=[];for(r in d)s.test(r)?x+=r+"("+d[r]+") ":(w[r]=d[r],u.push(c(r)));x&&(w[f]=x,u.push(f)),e>0&&"object"==typeof d&&(w[g]=u.join(", "),w[h]=e+"s",w[j]=q+"s",w[i]=o||"linear")}return v=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(z,v)}else a(this).unbind(z,v);A=!0,a(this).css(t),p&&p.call(this)},e>0&&(this.bind(z,v),setTimeout(function(){A||v.call(y)},1e3*e+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=e&&setTimeout(function(){y.each(function(){v.call(this)})},0),this},r=null}(Zepto),function(a){function b(b,d){var i=b[h],j=i&&e[i];if(void 0===d)return j||c(b);if(j){if(d in j)return j[d];var k=g(d);if(k in j)return j[k]}return f.call(a(b),d)}function c(b,c,f){var i=b[h]||(b[h]=++a.uuid),j=e[i]||(e[i]=d(b));return void 0!==c&&(j[g(c)]=f),j}function d(b){var c={};return a.each(b.attributes||i,function(b,d){0==d.name.indexOf("data-")&&(c[g(d.name.replace("data-",""))]=a.zepto.deserializeValue(d.value))}),c}var e={},f=a.fn.data,g=a.camelCase,h=a.expando="Zepto"+ +new Date,i=[];a.fn.data=function(d,e){return void 0===e?a.isPlainObject(d)?this.each(function(b,e){a.each(d,function(a,b){c(e,a,b)})}):0==this.length?void 0:b(this[0],d):this.each(function(){c(this,d,e)})},a.fn.removeData=function(b){return"string"==typeof b&&(b=b.split(/\s+/)),this.each(function(){var c=this[h],d=c&&e[c];d&&a.each(b||d,function(a){delete d[b?g(this):a]})})},["remove","empty"].forEach(function(b){var c=a.fn[b];a.fn[b]=function(){var a=this.find("*");return"remove"===b&&(a=a.add(this)),a.removeData(),c.call(this)}})}(Zepto),function(a){function b(b){return b=a(b),!(!b.width()&&!b.height()||"none"===b.css("display"))}function c(a,b){a=a.replace(/=#\]/g,'="#"]');var c,d,e=h.exec(a);if(e&&e[2]in g&&(c=g[e[2]],d=e[3],a=e[1],d)){var f=Number(d);d=isNaN(f)?d.replace(/^["']|["']$/g,""):f}return b(a,c,d)}var d=a.zepto,e=d.qsa,f=d.matches,g=a.expr[":"]={visible:function(){return b(this)?this:void 0},hidden:function(){return b(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(a){return 0===a?this:void 0},last:function(a,b){return a===b.length-1?this:void 0},eq:function(a,b,c){return a===c?this:void 0},contains:function(b,c,d){return a(this).text().indexOf(d)>-1?this:void 0},has:function(a,b,c){return d.qsa(this,c).length?this:void 0}},h=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),i=/^\s*>/,j="Zepto"+ +new Date;d.qsa=function(b,f){return c(f,function(c,g,h){try{var k;!c&&g?c="*":i.test(c)&&(k=a(b).addClass(j),c="."+j+" "+c);var l=e(b,c)}catch(m){throw console.error("error performing selector: %o",f),m}finally{k&&k.removeClass(j)}return g?d.uniq(a.map(l,function(a,b){return g.call(a,b,l,h)})):l})},d.matches=function(a,b){return c(b,function(b,c,d){return!(b&&!f(a,b)||c&&c.call(a,null,d)!==a)})}}(Zepto),define("core/selector",[],function(a,b,c){"use strict";c.exports=Zepto}),define("core/time",[],function(){"use strict";window.time={},time.diff=function(a,b){var c=b?b:(new Date).getTime(),d=c-a,e="",f=6e4,g=60*f,h=24*g,i=30*h,j=12*i,k=d/j,l=d/i,m=d/(7*h),n=d/h,o=d/g,p=d/f;return e=k>=1?parseInt(k)+"年前":l>=1?parseInt(l)+"个月前":m>=1?parseInt(m)+"周前":n>=1?parseInt(n)+"天前":o>=1?parseInt(o)+"个小时前":p>=1?parseInt(p)+"分钟前":"刚刚"},time.format=function(a,b){function c(){var a=e.getFullYear(),b=e.getMonth()+1,c=e.getDate();return a+"-"+b+"-"+c}function d(){var a=e.getHours(),b=e.getMinutes(),c=e.getSeconds();return a+":"+b+":"+c}var a=a+"";a=1*a.replace(/000$/,""),a*=1e3;var e=new Date(a),f="";return b?("date"==b&&(f=year+"-"+month+"-"+date),"time"==b&&(f=hour+":"+minute+":"+second)):f=c()+" "+d(),f}}),ejs=function(){function a(b){if("fs"==b)return{};if("path"==b)return{};var c=a.resolve(b),d=a.modules[c];if(!d)throw new Error('failed to require "'+b+'"');return d.exports||(d.exports={},d.call(d.exports,d,d.exports,a.relative(c))),d.exports}return a.modules={},a.resolve=function(b){var c=b,d=b+".js",e=b+"/index.js";return a.modules[d]&&d||a.modules[e]&&e||c},a.register=function(b,c){a.modules[b]=c},a.relative=function(b){return function(c){if("."!=c.substr(0,1))return a(c);var d=b.split("/"),e=c.split("/");d.pop();for(var f=0;f<e.length;f++){var g=e[f];".."==g?d.pop():"."!=g&&d.push(g)}return a(d.join("/"))}},a.register("ejs.js",function(a,b,c){function d(a){return a.substr(1).split("|").reduce(function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"filters."+d+"("+a+e+")"})}function e(a,b,c,d){var e=b.split("\n"),f=Math.max(d-3,0),g=Math.min(e.length,d+3),h=e.slice(f,g).map(function(a,b){var c=b+f+1;return(c==d?" >> ":"    ")+c+"| "+a}).join("\n");throw a.path=c,a.message=(c||"ejs")+":"+d+"\n"+h+"\n\n"+a.message,a}function f(a,b){var c=k(i(b),a),d=j(a);return d||(c+=".ejs"),c}var g=c("./utils"),h=c("path"),i=h.dirname,j=h.extname,k=h.join,l=c("fs"),m=l.readFileSync,n=b.filters=c("./filters"),o={};b.clearCache=function(){o={}};var p=(b.parse=function(a,c){var c=c||{},e=c.open||b.open||"<%",g=c.close||b.close||"%>",h=c.filename,i=c.compileDebug!==!1,j="";j+="var buf = [];",!1!==c._with&&(j+="\nwith (locals || {}) { (function(){ "),j+="\n buf.push('";for(var k=1,l=!1,n=0,o=a.length;o>n;++n){var p=a[n];if(a.slice(n,e.length+n)==e){n+=e.length;var q,r,s=(i?"__stack.lineno=":"")+k;switch(a[n]){case"=":q="', escape(("+s+", ",r=")), '",++n;break;case"-":q="', ("+s+", ",r="), '",++n;break;default:q="');"+s+";",r="; buf.push('"}var t=a.indexOf(g,n),u=a.substring(n,t),v=n,w=null,x=0;if("-"==u[u.length-1]&&(u=u.substring(0,u.length-2),l=!0),0==u.trim().indexOf("include")){var y=u.trim().slice(7).trim();if(!h)throw new Error("filename option is required for includes");var z=f(y,h);w=m(z,"utf8"),w=b.parse(w,{filename:z,_with:!1,open:e,close:g,compileDebug:i}),j+="' + (function(){"+w+"})() + '",u=""}for(;~(x=u.indexOf("\n",x));)x++,k++;":"==u.substr(0,1)&&(u=d(u)),u&&(u.lastIndexOf("//")>u.lastIndexOf("\n")&&(u+="\n"),j+=q,j+=u,j+=r),n+=t-v+g.length-1}else"\\"==p?j+="\\\\":"'"==p?j+="\\'":"\r"==p||("\n"==p?l?l=!1:(j+="\\n",k++):j+=p)}return j+=!1!==c._with?"'); })();\n} \nreturn buf.join('');":"');\nreturn buf.join('');"},b.compile=function(a,c){c=c||{};var d=c.escape||g.escape,f=JSON.stringify(a),h=c.compileDebug!==!1,i=c.client,j=c.filename?JSON.stringify(c.filename):"undefined";a=h?["var __stack = { lineno: 1, input: "+f+", filename: "+j+" };",e.toString(),"try {",b.parse(a,c),"} catch (err) {","  rethrow(err, __stack.input, __stack.filename, __stack.lineno);","}"].join("\n"):b.parse(a,c),c.debug&&console.log(a),i&&(a="escape = escape || "+d.toString()+";\n"+a);try{var k=new Function("locals, filters, escape, rethrow",a)}catch(l){throw"SyntaxError"==l.name&&(l.message+=c.filename?" in "+j:" while compiling ejs"),l}return i?k:function(a){return k.call(this,a,n,d,e)}});b.render=function(a,b){var c,b=b||{};if(b.cache){if(!b.filename)throw new Error('"cache" option requires "filename".');c=o[b.filename]||(o[b.filename]=p(a,b))}else c=p(a,b);return b.__proto__=b.locals,c.call(b.scope,b)},b.renderFile=function(a,c,d){var e=a+":string";"function"==typeof c&&(d=c,c={}),c.filename=a;var f;try{f=c.cache?o[e]||(o[e]=m(a,"utf8")):m(a,"utf8")}catch(g){return void d(g)}d(null,b.render(f,c))},b.__express=b.renderFile,c.extensions?c.extensions[".ejs"]=function(a,b){b=b||a.filename;var c={filename:b,client:!0},d=l.readFileSync(b).toString(),e=p(d,c);a._compile("module.exports = "+e.toString()+";",b)}:c.registerExtension&&c.registerExtension(".ejs",function(a){return p(a,{})})}),a.register("filters.js",function(a,b){b.first=function(a){return a[0]},b.last=function(a){return a[a.length-1]},b.capitalize=function(a){return a=String(a),a[0].toUpperCase()+a.substr(1,a.length)},b.downcase=function(a){return String(a).toLowerCase()},b.upcase=function(a){return String(a).toUpperCase()},b.sort=function(a){return Object.create(a).sort()},b.sort_by=function(a,b){return Object.create(a).sort(function(a,c){return a=a[b],c=c[b],a>c?1:c>a?-1:0})},b.size=b.length=function(a){return a.length},b.plus=function(a,b){return Number(a)+Number(b)},b.minus=function(a,b){return Number(a)-Number(b)},b.times=function(a,b){return Number(a)*Number(b)},b.divided_by=function(a,b){return Number(a)/Number(b)},b.join=function(a,b){return a.join(b||", ")},b.truncate=function(a,b,c){return a=String(a),a.length>b&&(a=a.slice(0,b),c&&(a+=c)),a},b.truncate_words=function(a,b){var a=String(a),c=a.split(/ +/);return c.slice(0,b).join(" ")},b.replace=function(a,b,c){return String(a).replace(b,c||"")},b.prepend=function(a,b){return Array.isArray(a)?[b].concat(a):b+a},b.append=function(a,b){return Array.isArray(a)?a.concat(b):a+b},b.map=function(a,b){return a.map(function(a){return a[b]})},b.reverse=function(a){return Array.isArray(a)?a.reverse():String(a).split("").reverse().join("")
},b.get=function(a,b){return a[b]},b.json=function(a){return JSON.stringify(a)}}),a.register("utils.js",function(a,b){b.escape=function(a){return String(a).replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}}),a("ejs")}(),define("core/tpl",[],function(a,b){"use strict";b.render=ejs.render,b.compile=ejs.compile}),define("data/home_menu_data",[],function(a,b,c){var d=[[{title:"分类",icon:"fa-s-fenlei ",color:"#4fd2be","font-size":"25px",catid:"4796",se_catid:"7882"},{title:"手机",icon:"fa-s-iphone",color:"#3fd5ba","font-size":"32px",catid:"222"},{title:"打印机",icon:"fa-s-dayinji ",color:"#24bd8e","font-size":"28px",catid:"122"},{title:"投影仪",icon:"fa-s-touying",color:"#8ebb22","font-size":"28px",catid:"5280"},{title:"云导航仪",icon:"fa-s-icon ",color:"#f3ba23","font-size":"32px",catid:"235",se_catid:"235"},{title:"笔记本",icon:"fa-uniE91B",color:"#00a1f2","font-size":"18px",catid:"4792",se_catid:"4792"},{title:"无线路由",icon:"fa-s-luyouqi",color:"#9e67e6","font-size":"30px",catid:"200",se_catid:"200"},{title:"监控枪",icon:"fa-uniE915 fa-flag",color:"#e59864","font-size":"",catid:"3004",se_catid:"3004"}],[{title:"智能手表",icon:"fa-uniE919 fa-flag",color:" #0dc1e4","font-size":"",catid:"7913"},{title:"集团电话",icon:"fa-s-dianhua ",color:"#ff8822","font-size":"29px",catid:"3297"},{title:"扫描枪",icon:"fa-uniE917 fa-flag",color:"#7a89e5","font-size":"",catid:"156"},{title:"服务器",icon:"fa-s-9292 ",color:" #22e49d","font-size":"34px",catid:"2921"},{title:"综合布线",icon:"fa-uniE91A fa-flag",color:"#f5716e","font-size":"",catid:"178"},{title:"门禁电锁",icon:"fa-uniE916 fa-flag",color:"#66ccee","font-size":"",catid:"5141"},{title:"报警系统",icon:"fa-uniE914 fa-flag",color:"#ff8822","font-size":"",catid:"2963"},{title:"条码打印机",icon:"fa-uniE918 fa-flag",color:"#f7ba5b","font-size":"",catid:"154"}]];c.exports=d}),define("page/add_product_list",["tpl/add_product_list.tpl"],function(a,b){"use strict";var c=a("tpl/add_product_list.tpl"),d=a("head2"),e=$(document),f="#page-add-product-list",g=$(f);e.on("click",f+" .addPL-item",function(){var a=$(this),b=common.query_box;b.ok=function(){function b(b){200==b.data.status?(a.remove(),agent.trigger("home:filterBar:update")):c(),common.alert(b.data.error_msg)}function c(){common.alert(C.alert_aet)}common.alert(C.alert_post),net.send({type:"post",url:C.api.custom_made+"&op=del&uid="+common.getUserInfo().uid,data:{cid:a.attr("cid")},isOnFront:0,onSuccess:b,onError:c})},b.show("您确定要删除该项吗?")}),agent.on("addProductList:update",function(){function a(a){if(200==a.data.status){var e=lang.extend(a.data,{head2:{title:"已关注的行业",right:'<div data-href="#/sel_product"  class="j-href fa fa-plus addPL-add"></div>'}});g.html(""),g.html(tpl.render(d+c,e.data))}else b()}function b(){common.alert(C.aet)}net.send({url:C.api.attention,onSuccess:a,onError:b})}),agent.trigger("addProductList:update"),b.show=function(){g.show()},b.hide=function(){g.hide()}}),define("page/blank",[],function(a,b){"use strict";b.show=function(){},b.hide=function(){}}),define("page/classify",["tpl/classify.tpl","widget/iscroll"],function(a,b){"use strict";function c(a){var b=f.find(".classify-t-inp"),c=b.val();return c.length<=0?void common.alert("请输入您要搜索的内容"):(b.val(""),location.hash="#/search_rst?kw="+encodeURIComponent(c),a.stopPropagation(),void a.preventDefault())}function d(a){var b=$(a.target||a),c=b.siblings();g?net.clear(g,!0):"",c.removeClass("active"),b.addClass("active"),g=net.send({url:C.api.category,data:{catid:b.attr("catid")},stopAllError:!0,onSuccess:function(a){var b=a.data.categories;b.splice(0,1),e.html(tpl.render(k,{data:b}))}})}{var e,f,g,h=$("#page-classify"),i=a("tpl/classify.tpl"),j=a("tpl/classify_list_l.tpl"),k=a("tpl/classify_list_r.tpl");a("widget/iscroll")}h.append(tpl.render(i,{})),e=h.find(".classify-lr-scroll"),f=h.find(".classify-t-r"),net.send({url:C.api.category,data:{},onSuccess:function(a){var b=a.data.categories;b.splice(0,1),h.find(".classify-ll-scroll").append(tpl.render(j,{categories:b})),console.log(b),d(h.find(".classify-ll-item").eq(0))}}),f.on("submit",c),h.on("click",".classify-ll-item",d),h.on("click",".classify-t-icon",c),b.show=function(){h.show()},b.hide=function(){h.hide()}}),define("page/company",["tpl/company.tpl"],function(a,b){"use strict";function c(){net.send({url:C.api.pageview,cache:!1,data:{uid:common.getUserInfo().uid,sid:h},success:function(){}})}function d(){net.send({url:C.api.get_userinfo,cache:!1,data:{uid:i},onSuccess:function(a){var b=a.data.userinfo||{},c=u.find(".company-info-attention-btn"),d=u.find(".company-mi-like-num");d.text(b.likes_num||""),0!=c.length&&(c[0].ajax_data={id:i}),"1"==b.follow_flag&&(c.text("已关注").attr("follow","1"),u.find(".company-atten-icon").addClass("score-nav-cor"));var e=u.find(".company-act-list");a.data.moving&&"0"!==a.data.moving.demand_count?""!==a.data.moving.pictures&&a.data.moving.pictures.length>0&&a.data.moving.pictures.forEach(function(a){var b='<div class="company-act-list-item"><img  src=" '+a+' " /></div>';e.append(b)}):e.text("暂无动态!"),u.find(".company-sign-item.city span").text(b.member_address),u.find(".company-sign-item.sign span").text(b.signature)}})}function e(a){function b(a){e.data("lock",!1);var b;b=a.data.num?a.data.num:a.data.lianxiren_likes_num,d.text(b),common.alert("操作成功!")}function c(){e.data("lock",!1)}var d,e=a.$this;if(d=e.find(".company-mi-like-num"),common.alert(C.alert_post),!e.data("lock")){e.data("lock",!0);var f={onSuccess:b,isCache:0,isOnFront:0,onError:c};try{net.send(lang.extend(f,a))}catch(g){c()}}}function f(a,b){n[b].page=1,n[b].init=!1,n[b].mlist=new x(a[0],{checkDOMChanges:!0,id:"company_comment_list"+b,onUpdate:function(a){n[b].mlist.end=a,agent.trigger("comment",b,"update")},onLoadMore:function(a){n[b].mlist.loadMore_end=a,agent.trigger("comment",b,"loadmore")}})}var g,h,i,j,k,l,m,n,o,p,q=a("tpl/company.tpl"),r=a("head2"),s=(a("favorite"),a("banner")),t=$(document),u=$("#page-company"),v=a("tpl/company_reviews.tpl"),w=a("tpl/company_reviews_list.tpl"),x=a("mList");t.on("click",".company-tel",function(){var a=common.query_box,b=$('<div class="company-tel-list"></div>'),c="";j._tel.forEach(function(a){c+='<a href="tel:'+a+'" class="company-tel-li">电话: '+a+"</a>"}),a.ok=function(){},a.show(b.append(c)[0].outerHTML)}),agent.on("company:update",function(){function a(a){if(!a.data.stores||""==a.data.stores)return common.alert("暂无数据"),void history.back();if(i=0!==a.data.stores.link_user.length?a.data.stores.link_user[0].uid:"",x=a.data.stores,j={},j._tel=[],x.c_mobile&&-1==x.c_mobile.indexOf(","))j._tel.push(x.c_mobile);else{var c=x.c_mobile.split(",");c.forEach(function(a){j._tel.push(a)})}if(x.c_telephone&&-1==x.c_telephone.indexOf(","))j._tel.push(x.c_telephone);else{var e=x.c_telephone.split(",");e.forEach(function(a){j._tel.push(a)})}if(200==a.data.status){l=a.data;var k=lang.extend(a.data,{head2:{title:x.name},sid:h});u.html(tpl.render(r+q,k)),o=JSON.parse(ss.company_share),p=o.back,p[0]&&(u.find(".head2 .head2-icon").removeClass("j-back").addClass("lc-back"),common.lc_back("home")),u.find(".company-score-list").find(".company-score-tab.list-box").append(tpl.render(v)),m=u.find(".com-score-nav .score-nav-item"),n=u.find(".company-assess-tab-main .list"),u.find(".company-assess-tab-main").height($(window).height()-91),n.each(function(a){var b=$(this);setTimeout(function(){f(b,a)},30)}),setTimeout(function(){agent.trigger("comment:control:click")},100);var t="#/company_assess_add?sid="+h+"!!name="+encodeURIComponent(a.data.stores.name);u.find(".com-nav-item.j-href").attr("data-href",t),common.head_bcn(u),u.removeClass("bcn"),d(),x.album_list.length>0&&setTimeout(function(){var a=document.body.clientWidth>1004?$("#ibody").width():!1;document.body.clientWidth>1004,g=new s("company-ad",{clientWidth:a})},100);var w,x=l.stores,y=x.brands[0];w=y?y.name+" "+y.pname+" "+y.str_c_type+" "+x.c_address:x.cat_name+" "+x.str_c_type+" "+x.c_address,common.wx_set_share({title:x.name,desc:w,link:location.href,imgUrl:x.album_list[0].filename||C.noface1})}else b()}function b(){}net.send({url:C.api.subject,data:{sid:h},onSuccess:a,onError:b})}),u.on("click",".isAgree-item",function(){var a,b=$(this);a={url:C.api.lianxiren_pl,isOnFront:0,data:{op:"like",uid:common.getUserInfo().uid,userid:i},$this:b,cache:!1},e(a)}),t.on("click",".company-tel-li",function(){net.send({url:C.api.add_call_count,data:{ruid:h,uid:common.getUserInfo().uid},onSuccess:function(){var a=u.find(".company-mi-tel-num");a.text(1*a.text()+1)}})});var y,z,A;u.on("click",".com-nav-item",function(){var a=$(this),b=a.index();y=u.find(".company-score-list"),A=y.find(".com-score-content"),z=y.find(".com-score-scroll");var c=y.find(".company-score-tab");if(2!=b&&(a.siblings().find(".com-nav-line").removeClass("active"),a.find(".com-nav-line").addClass("active"),c.removeClass("active"),c.eq(b).addClass("active")),1===b){var d=u.height();$("body").scrollTo({toT:d,durTime:600})}else 0===b&&c.eq(b).find(".com-score-tips").show()}),$.fn.scrollTo=function(a){var b={toT:0,durTime:500,delay:30,callback:null},c=lang.extend(b,a),d=null,e=this,f=e.scrollTop(),g=c.toT-f,h=0,i=Math.round(c.durTime/c.delay),j=function(a){h++;var b=Math.round(g/i);return h>=i?(e.scrollTop(a),window.clearInterval(d),void(c.callback&&"function"==typeof c.callback&&c.callback())):void e.scrollTop(f+h*b)};return d=window.setInterval(function(){j(c.toT)},c.delay),e},agent.on("comment",function(a,b){var c,d,b=b||"loadmore";"update"==b?(d=1,n[a].page=1):d=n[a].page;var e=n[a].mlist.end||"",f=n[a].mlist.loadMore_end||"",g=n.eq(a).find(".list-box"),i=n.eq(a).find(".list-tip");switch(a){case 0:c=1;break;case 1:c=2;break;case 2:c=0}net.send({url:C.api.get_comment_list,data:{sid:h,page:d,best:c},onSuccess:function(c){function d(a,b){for(var c=0;a>=c&&(b++,c!=a);c+=.5);return 7*b}function h(a,b,c,d,e){var f=a.indexOf(b,a.indexOf(b)+d)+b.length,g=a.indexOf(c,f+e),h=a.slice(f,g);return 10>h?"0"+h:h}switch($(".score-nav-num").eq(0).text(c.data.positive_num),$(".score-nav-num").eq(1).text(c.data.moderate_num),$(".score-nav-num").eq(2).text(c.data.negative_num),b){case"loadmore":0!==c.data.comment_list.length?(g.append(tpl.render(w,c.data)),n[a].page++,n[a].init=!0):common.alert("已加载全部评论"),""!==f?f():"";break;case"update":g.html(tpl.render(w,c.data)),0!==c.data.comment_list.length?(i.hide(),n[a].page=2):i.show(),""!==e?e():""}for(var j=c.data.comment_list,k=0;k<j.length;k++){var l=j[k],m=-1,o=l.posttime,p=new Date;p.setTime(1e3*o);var q=p.toLocaleString(),r=q.replace(/年|月|\//g,"-").replace(/日/g," ").replace(/上午|下午|晚上/g,"")+" ",s=r.substring(0,4)+"-"+h(r,"-","-",0,0)+"-"+h(r,"-"," ",1,1)+" "+h(r," ",":",0,0)+":"+h(r,":",":",0,0)+":"+h(r,":"," ",1,0),t=u.find(".com-reviews-item").eq(k);t.find(".com-profession-xing").css("width",d(l.sort2,m)+"px !important"),t.find(".com-service-xing").css("width",d(l.sort3,m)+"px !important"),t.find(".com-evalu-time").text(s)}}})}),u.on("click",".com-score-nav .score-nav-item",function(){var a=$(this),b=a.index();2==b?b=1:4==b&&(b=2),m.removeClass("active"),n.removeClass("active"),n.eq(b).addClass("active"),a.addClass("active"),agent.trigger("comment",b,"update")}),agent.on("comment:control:click",function(){m.removeClass("active"),n.removeClass("active"),n.eq(0).addClass("active"),m.eq(0).addClass("active"),agent.trigger("comment",0,"update")}),b.show=function(a){return window.search_rstEmp=!0,u.addClass("bcn"),(h=a.sid)?(c(),u.show(),k=!0,void agent.trigger("company:update")):(common.alert("暂无数据"),void setTimeout(function(){history.go(-1)},1e3))},b.hide=function(){u.hide(),k=!1,common.clearHTML(u),n&&n.find(".list-box").empty(),p&&p[0]&&(u.find(".head2 .head2-icon").removeClass("lc-back").addClass("j-back"),p[0]=[],common.lc_back())}}),define("page/company_assess",["tpl/company_assess.tpl"],function(a,b){"use strict";function c(a,b){k[b].page=1,k[b].init=!1,k[b].mlist=new h(a[0],{checkDOMChanges:!0,id:"company_comment_list"+b,onUpdate:function(a){k[b].mlist.end=a,agent.trigger("comment",b,"update")},onLoadMore:function(a){k[b].mlist.loadMore_end=a,agent.trigger("comment",b,"loadmore")}})}var d,e=a("tpl/company_assess.tpl"),f=a("tpl/company_assess_list.tpl"),g=a("head2"),h=a("mList"),i=($(document),$("#company-assess"));i.html(tpl.render(g+e,{head2:{title:"企业点评"}}));var j=i.find(".company-assess-tab-control .list"),k=i.find(".company-assess-tab-main .list");k.each(function(a){var b=$(this);setTimeout(function(){c(b,a)},30)}),agent.on("comment",function(a,b){var c,e,b=b||"loadmore";"update"==b?(e=1,k[a].page=1):e=k[a].page;var g=k[a].mlist.end||"",h=k[a].mlist.loadMore_end||"",l=k.eq(a).find(".list-box"),m=k.eq(a).find(".list-tip");switch(a){case 0:c=1;break;case 1:c=2;break;case 2:c=0}net.send({url:C.api.get_comment_list,data:{sid:d,page:e,best:c},onSuccess:function(c){j.eq(0).find("span").text(c.data.positive_num),j.eq(1).find("span").text(c.data.moderate_num),j.eq(2).find("span").text(c.data.negative_num);var e="#/company_assess_add?sid="+d+"!!name="+encodeURIComponent(c.data.name);switch(i.find(".company-assess-tab-btn").attr("data-href",e),b){case"loadmore":0!==c.data.comment_list.length?(l.append(tpl.render(f,c.data)),k[a].page++,k[a].init=!0):common.alert("已加载全部评论"),""!==h?h():"";break;case"update":l.html(tpl.render(f,c.data)),0!==c.data.comment_list.length?(m.hide(),k[a].page=2):m.show(),""!==g?g():""}},onError:function(){}})}),i.on("click",".company-assess-tab-control .list",function(){var a=$(this),b=a.index();j.removeClass("active"),k.removeClass("active"),k.eq(b).addClass("active"),a.addClass("active"),agent.trigger("comment",b,"update")}),agent.on("comment:control:click",function(){j.removeClass("active"),k.removeClass("active"),k.eq(0).addClass("active"),j.eq(0).addClass("active"),agent.trigger("comment",0,"update"),i.find(".company-assess-tab-main").height($(window).height()-86)}),b.show=function(a){d=a.sid,i.show(),setTimeout(function(){agent.trigger("comment:control:click")},40)},b.hide=function(){i.hide(),k.find(".list-box").empty()}}),define("page/company_assess_add",["tpl/company_assess_add.tpl"],function(a,b){"use strict";function c(a,b,c){var d=b-k+3,e=Math.round(d/l);0>e?e=0:"",e>10?e=10:"",a.width(e*l),0==c?m=e/2:n=e/2}function d(a,b){o.length>=3||(p.onload=function(){o.push(this.result);var c="<div class='assess-add-item' style='background-image: url("+this.result+")'><div class='assess-img-close fa fa-error'></div></div>";j.find(".assess-add-img").append(c),a.length!=b+1&&d(a,b+1)},p.readAsDataURL(a[b]))}var e,f,g=a("tpl/company_assess_add.tpl"),h=(a("head2"),$(document)),i=common.getUserInfo(),j=$("#company-assess-add");j.html(tpl.render(g));var k,l,m,n;setTimeout(function(){k=j.find(".assess-add-list-item.xing").offset().left,l=j.find(".xing-list-item").width()/2},50),j.on("touchmove",".assess-add-list-item.xing",function(a){a.preventDefault();var b=a.changedTouches[0],d=b.pageX,e=$(this).find(".xing-list.ctop"),f=$(this).closest(".assess-add-list").index();c(e,d,f)}),j.on("click",".assess-add-list-item .xing-list",function(a){var b=a.clientX,d=$(this).closest(".assess-add-list-item.xing").find(".xing-list.ctop"),e=$(this).closest(".assess-add-list").index();c(d,b,e)});var o=[];j.on("click",".assess-add-btn",function(){if(!m)return void common.alert("请设置专业评分！");if(!n)return void common.alert("请设置服务评分！");var a=j.find(".assess-add-list-item.import textarea").val().replace(/\s/g,"");if(""==a)return void common.alert("请输入内容再在提交！");if(a.length<10)return void common.alert("请至少输入10个字符的内容！");var b={};o.forEach(function(a,c){var d="img["+c+"]";b[d]=o[c]}),b["review[content]"]=a,b["review[sort2]"]=m,b["review[sort3]"]=n,b["review[id]"]=e,b["review[idtype]"]="item_subject",b["review[best]"]="1",b["review[uid]"]=i.uid,net.send({url:C.api.add_comment,hasUri:0,type:"post",data:b,onSuccess:function(a){common.alert(a.data.error_msg)}})}),h.on("change","#pic-btn",function(){var a=$(this),b=Array.prototype.slice.call(this.files);a.val(""),d(b,0)});var p=new FileReader;h.on("click",".assess-img-close",function(){var a=$(this),b=a.closest(".assess-add-item"),c=b.index();b.remove(),o.splice(c,1)}),b.show=function(a){m=!1,n=!1,j.find(".xing-list.ctop").width(0),j.find(".assess-add-list-item.import textarea").val(""),e=a.sid,f=a.name,common.backTopShow(f),j.show()},b.hide=function(){o=[],j.find(".assess-add-img").empty(),j.hide(),common.backTopHide()}}),define("page/company_list",["tpl/company_list.tpl"],function(a,b){"use strict";var c,d,e=a("tpl/company_list.tpl"),f=a("tpl/company_item.tpl"),g=a("head2"),h=a("mList"),i={},j=1,k={},l=a("data"),m=$("#page-company-list");k=new l("sid"),agent.on("company_list",function(a,b){function l(d){if(200==d.data.status){var l=k.add(d.data.data),p=lang.extend(d.data,{head2:{title:"更多公司"},tpl_company_item:f});"init"==a?(m.html(tpl.render(g+e,p)),c=m.find(".company-list-main"),i=new h("company-list-wp",{vScrollbar:!0,id:"company_list",onUpdate:function(a){i.end=a,agent.trigger("company_list","update",a)},onLoadMore:function(a){i.loadMore_end=a,j++,agent.trigger("company_list","loadmore",a)}})):l.length>0?c[o](tpl.render(f,{companys:l})):common.alert(C.alert_noData),i.iScroll.refresh()}else n();b?b():""}function n(){common.alert(C.aet)}var o;o="update"==a?"prepend":"loadmore"==a?"append":"append",net.send({url:C.api.subject_list,data:lang.extend(d,{page:"update"==a?0:j,page_count:10}),isOnFront:0,onSuccess:l,onError:n})}),b.show=function(a){d={catid:a.catid,sub_catids:a.sub_catids,typeid:a.typeid,aid:C.city.aid,amap_lat:a.amap_lat,amap_lng:a.amap_lng},j=1,m.show(),agent.trigger("company_list","init"),k.remove()},b.hide=function(){m.hide(),common.clearHTML(m)}}),define("page/company_zs",["tpl/company_zs.tpl","widget/banner"],function(a,b){"use strict";var c,d,e=a("tpl/company_zs.tpl"),f=a("head2"),g=(a("widget/banner"),$("#page-company-zs"));agent.on("company_zs:init",function(){function a(a){if(200==a.data.status){var c=lang.extend(a.data,{head2:{title:"授权详情"}});g.html(tpl.render(f+e,c))}else b()}function b(){common.alert(C.aet)}net.send({url:C.api.subject_brand+"&op=get",type:"post",data:{sid:c,catid:d},onSuccess:a,onError:b})}),b.show=function(a){c=a.sid,d=a.catid,g.show(),agent.trigger("company_zs:init")},b.hide=function(){g.hide(),common.clearHTML(g)}}),define("page/download",["tpl/download.tpl"],function(a,b){"use strict";var c,d=$("#page-download"),e=a("tpl/download.tpl");d.css("margin-top","0"),d.append(tpl.render(e)),b.show=function(){c=$("body").css("background"),$("body").css("background","#fff"),d.show()},b.hide=function(){d.hide(),$("body").css("background",c)}}),define("page/dyn",["tpl/dyn.tpl"],function(a,b){"use strict";function c(){setTimeout(function(){e[0].mlist.iScroll.refresh()},100)}{var d,e,f,g=a("tpl/dyn.tpl"),h=$(document),i=a("mList"),j=a("data"),k=!1,l=a("tpl/dyn_content_item.tpl"),m=$("#page-dyn");common.eventChange("mousedown")}common.loadShow(),m.append(tpl.render(g)),d=m.find(".dyn-main"),f=d.find(".dyn-list"),f.each(function(a){var b=f.eq(a);b.data("page",1),b[0].datas=new j("did")});var n,o=0;h.on("keyup","#page-dyn .dyn-sh-input",function(){clearTimeout(o),o=setTimeout(function(){agent.trigger("dyn:sh:check")},100)}),agent.on("dyn:sh:check",function(){var a,b,d=m.find(".dyn-sh-input"),e=d.val();(e||k)&&(a=n.$root[0].datas,b=[],a.list.forEach(function(a){var c=a.data,d=c.all_type_name+"\n"+c.content+"\n"+c.realname,f=new RegExp(e,"g");f.test(d)&&b.push(c)}),k=e?!0:!1,n.$root.find(".dyn-main-scroll").html(tpl.render(l,{rows:b})),c())}),agent.on("head-tab:click",function(a){var b,c;0==a?(b="",c="dyn_all"):(b=222,c="dyn_my"),n={$root:f.eq(a),catid:b,index:a,mid:c},n.$root.data("init")||agent.trigger("dyn")}),agent.trigger("head-tab:click",0),agent.on("dyn",function(a,b){function d(d){if(200==d.data.status){var j=e[0].datas.add(d.data.rows);d.realname||(d.realname=d.username);var n=e.find(".dyn-main-scroll"),o=[];j.forEach(function(a){o.push(a.data)});var p=$(tpl.render(l,{rows:o,pageType:"dyn"}));if(!e.data("init")&&(n.html(p),common.loadHide(),d.data.rows.length>0)){e[0].mlist=new i(e[0],{id:"dyn",onBeforeScrollEnd:function(a){a.startY<a.y?common.head_top_show(m.find(".dyn-list")):a.y<=-45?common.head_top_hide(m.find(".dyn-list")):""},onUpdate:function(a){e[0].mlist.end=a,agent.trigger("dyn","update",a)},onLoadMore:function(a){e[0].mlist.loadMore_end=a;var b=e.data("page");e.data("page",++b),agent.trigger("dyn","loadmore",a)}});var q=f;q[0].mlist=e[0].mlist,e.data("init","1")}a&&(j.length>0?(k&&(n.html(""),k=!1),n[h](p)):common.alert(C.alert_noData)),setTimeout(function(){agent.trigger("dyn:sh:check")},20),setTimeout(function(){c()},2e3)}else g();setTimeout(function(){b?b():""},50)}function g(){common.alert(C.aet),b?b():""}var h;h="update"==a?"prepend":"append",e=n.$root,net.send({url:C.api.get_demand_list,data:{page:"update"==a?0:e.data("page"),page_count:"10",aid:C.city.aid,catid:n.catid},isOnFront:0,onSuccess:d,onError:g})}),agent.trigger("dyn"),agent.on("dyn_item:del",function(a){m.find('.dyn-item[did="'+a+'"]').remove(),c()}),b.show=function(){m.show(),common.navAct(1),setTimeout(function(){d.show()},20)},b.hide=function(){m.hide(),setTimeout(function(){d.hide()},20),common.navHide()}}),define("page/dyn_post",["tpl/dyn_post.tpl","widget/baiduMap"],function(a,b){"use strict";function c(){p={aid:s.aid,map_lat:t.lat||"0.0",map_lng:t.lng||"0.0"}}function d(a){function b(){g.text(common.comp_address())}common.alert_w.show({text:C.alert_zzhqdlwz}),h=new q,h.init(function(){h.getGeo(function(a){var c=a.data,d=c.address,e=c.point;lang.extend(p,{map_lat:e.lat,map_lng:e.lng}),common.setUserInfo({city:d.city,point:c.point,area:d.district,street:d.street,street_number:d.street_number}),common.alert_w.hide(),b()})}),agent.trigger("dpp-popup:notClass"),a&&!a.currentTarget?a():""}var e,f,g,h,i,j,k=a("tpl/dyn_post.tpl"),l=a("head2"),m=$(document),n=!1,o=a("form"),p={},q=a("widget/baiduMap"),r=$("#page-dyn-post"),s=common.getUserInfo(),t=s.point||{};t?c():d(c),agent.on("reg:init",function(){r.append(tpl.render(l+k,{head2:{title:"发布公司动态"}})),e=r.find(".dp-content"),f=r.find(".dpp-popup"),g=r.find(".dp-area-name"),j=r.find(".dyn-post-img"),n=!0,f.hide(),setTimeout(function(){i=new common.upload.init({$root:r.find(".dp-content-box"),input:"#page-dyn-post .kw-upload-file",box:"#page-sel-head .kw-upload-img",maxNum:3,onFront:function(){j.show()},imgCut:{dw:320,dh:null}})},50)});var u=0;agent.on("dpp-popup:notClass",function(){common.maskHide(),clearTimeout(u),u=setTimeout(function(){f.hide()},300),f.removeClass("active")}),m.on("input",".dp-content",function(){var a=this.style;a.height="auto",a.height=this.scrollHeight+"px"}),m.on("click",".dp-position",function(){common.maskShow(),f.show(),setTimeout(function(){f.addClass("active")},20)}),m.on("click",".dpp-popup-del",function(){lang.extend(p,{aid:""}),g.text("未知"),agent.trigger("dpp-popup:notClass")}),m.on("click",".dpp-popup-reget",d),m.on("click",".dpp-popup-cancel",function(){agent.trigger("dpp-popup:notClass")}),m.on("click",".dyn-post-ok",function(){function a(a){console.log(a.data),a&&200==a.data.status&&(location.hash="#/dyn",agent.trigger("dyn","update")),common.alert(a.data.error_msg||C.alert_aet)}function b(){common.alert(C.alert_aet)}var c=o.getFormData(r.find(".dp-content-box"));c[""]=void 0,lang.extend(p,c,{d_address:g.text()});var d=i.rst;if(d&&d.length>0&&d.forEach(function(a,b){p["demand_img"+b]=a,console.log(p)}),!p.content)return void common.alert(C.alert_qsrnr);common.alert(C.alert_post);try{net.send({hasUri:0,url:C.api.demand+"&op=add",type:"post",data:p,cache:0,onSuccess:a,onError:b})}catch(e){b()}}),agent.trigger("reg:init"),b.show=function(){r.show(),n&&common.loadHide()},b.hide=function(){r.hide()}}),define("page/forget_pw",["tpl/forget_pw.tpl"],function(a,b){"use strict";var c,d=a("tpl/forget_pw.tpl"),e=a("head2"),f=$(document),g=a("form"),h=$("#page-forget-password");agent.on("forget_pw:init",function(){h.append(tpl.render(e+d,{head2:{title:"找回密码"}})),c=h.find(".forget-pw-main")}),f.on("click",".forget-pw-confirm",function(){function a(a){a&&200==a.data.status&&(common.setUserInfo({password:d.password}),location.hash="#/login"),common.alert(a.data.error_msg)}function b(){common.alert(C.alert_aet)}var d=g.getFormData(c);if(""==d.mobile)return void common.alert("请输入手机号码..");if(""==d.password)return void common.alert("请输入密码..");if(""==d.serial)return void common.alert("请输入验证码..");common.alert(C.alert_post);try{net.send({url:C.api.get_password+"&op=update_password",type:"post",data:d,isCache:0,onSuccess:a,onError:b})}catch(e){b()}}),f.on("click",".forget-pw-getCode",function(){function a(a){a&&200==a.data.status,common.alert(a.data.error_msg)}function b(){common.alert(C.alert_aet)}var d=g.getFormData(c);common.alert(C.alert_post);try{net.send({url:C.api.get_password+"&op=send_verify",type:"post",data:{mobile:d.mobile},noCache:1,onSuccess:a,onError:b})}catch(e){b()}}),agent.trigger("forget_pw:init"),b.show=function(){h.show(),common.loadHide()},b.hide=function(){h.hide()}}),define("page/goodsVisitor",["tpl/goodsVisitor.tpl"],function(a,b){"use strict";function c(){e.html(tpl.render(f,{data:h})),d||setTimeout(function(){d=!0;var a=e.find(".goodsVisitor-scrollBox");new g(a[0],{onLoadMore:function(a){setTimeout(function(){a()},2e3)}})},10)}var d,e=$("#page-goodsVisitor"),f=a("tpl/goodsVisitor.tpl"),g=a("mList");e.css("marginTop","0");var h=[{date:"8月6日",data:[{url:"http://img01.store.sogou.com/app/a/10010016/dff11d611fd0cf9bfd5cb22e5de21965",name:"canye",time:"00:20",info:"查看报价（苹果国行）"},{url:"http://img01.store.sogou.com/app/a/10010016/dff11d611fd0cf9bfd5cb22e5de21965",name:"canye",time:"00:20",info:"查看报价（苹果国行）"}]},{date:"8月1日",data:[{url:"http://img01.store.sogou.com/app/a/10010016/dff11d611fd0cf9bfd5cb22e5de21965",name:"canye",time:"00:20",info:"查看报价（苹果国行）"}]}];b.show=function(a){var b;return a.id?(b=a.id,e.show(),void c(b)):void history.go(-1)},b.hide=function(){e.hide()}}),define("page/home",["tpl/home.tpl","data/home_menu_data"],function(a,b){"use strict";function c(){function a(a){if(200==a.data.status){g.prepend(tpl.render(l,a.data));var c=$("#home-ad img");c.eq(0).on("load",function(){d(),c.off("load")}),c.on("error",function(){$("#home-ad").html(""),c.off("error")}),h=new n("home-ad",{snapThreshold:50})}else b()}function b(){}net.send({url:C.api.get_adv,data:{width:640,type:0},onSuccess:a,onError:b,onUpdate:function(){}})}function d(){setTimeout(function(){s.iScroll.refresh()},500)}var e,f,g,h,i,j,k=a("tpl/home.tpl"),l=a("tpl/home_ad.tpl"),m=a("tpl/home_menu.tpl"),n=a("banner"),o=($(document),$("#page-home")),p=a("data/home_menu_data.js");o.append(tpl.render(k)),e=o.find("#home-expert-main"),f=e.find("#home-expert-wrap"),g=o.find(".content-item-company"),j=o.find(".home-company-main");var q=o.find(".home-menu-box");q.append(tpl.render(m,{data:p})),o.find(".home-menu-item-bkg").eq(0).attr("data-href","#/classify"),i=new n("home-menu",{snapThreshold:50,autoPlay:!1,onScrollMove:function(){var a=(i.iScroll.dirY,i.iScroll._bind,i.iScroll._unbind);a("touchmove",window),a("touchend",window),s.iScroll._bind("touchmove",window),s.iScroll._bind("touchend",window)}}),setTimeout(function(){o.find(".mlist-update").html("")},800);var r=$(".fa-flag");r.eq(0).css({position:"absolute","font-size":"83px",left:"-21px",top:"0px"}),r.eq(1).css({"font-size":"54px","margin-left":"-4px"}),r.eq(2).css({position:"absolute","font-size":"70px",left:"-19px",top:"-5px"}),r.eq(3).css({"font-size":"69px","margin-left":"-12px"}),r.eq(4).css({"font-size":"68px","margin-left":"-12px"}),r.eq(5).css({"font-size":"68px","margin-left":"-11px"}),r.eq(6).css({position:"absolute","font-size":"76px","margin-left":"-16px"}),$(".fa-s-fenlei,.fa-s-dayinji").css("font-weight","bold"),$(".home-pro-introduction:last").css("border-bottom","none"),$(".home-pro-advbox").eq(1).css({"margin-right":0,"padding-top":"1px"}),$(".home-pro-introduction-right").eq(1).css("padding-left","28px"),c();var s,t=a("mList");s=new t("home-content",{vScrollbar:!0,id:"home_expert",onBeforeScrollEnd:function(a){a.startY<a.y?common.head_top_show($("#home-content")):a.y<=-50?common.head_top_hide($("#home-content")):""},onUpdate:function(a){a()},onLoadMore:function(a){a()}}),b.show=function(){window.search_rstEmp=!1,o.show(),$(".top").css("background","#fff"),common.navAct()},b.hide=function(){o.hide(),document.lock["filterBar:hide"]=!0,common.navHide(),$(".top").css("background","none")}}),define("page/login",["tpl/login.tpl"],function(a,b){"use strict";var c,d=a("tpl/login.tpl"),e=a("head2"),f=$(document),g=$("body"),h=a("form"),i=$("#page-login");agent.on("login:init",function(){i.append(tpl.render(e+d,{head2:{title:"登陆"}})),c=i.find(".login-box")}),f.on("click",".login-btn",function(){function a(a){if(a&&200==a.data.status){common.setUserInfo({username:d.username,password:d.password,aid:a.data.aid,city:a.data.city,area:a.data.area,real_name:a.data.real_name,error_msg:a.data.error_msg,uid:a.data.uid,sid:a.data.sid_data.sid||""});var b=JSON.parse(ss.company_share),c=b.company_link;if(c[0])return location.hash=c[0].substring(c[0].indexOf("#/")),void(ss.company_share=JSON.stringify({back:[],company_link:[]}));location.hash="0"==a.user_product?"#/sel_head":"#/home",location.reload()}common.alert(a.data.error_msg)}function b(){common.alert(data.data.error_msg)}var d=h.getFormData(c);if(""==d.username)return void common.alert("请输入账号..");if(""==d.password)return void common.alert("请输入密码..");common.alert(C.alert_post);try{net.send({url:C.api.login,type:"post",stopAllStart:1,data:d,isCache:0,isOnFront:0,onSuccess:a,onError:b})}catch(e){b()}}),agent.trigger("login:init"),b.show=function(){i.show(),g.addClass("login-bg-color"),common.loadHide()},b.hide=function(){i.hide(),g.removeClass("login-bg-color")}}),define("page/login_wel",["tpl/login_wel.tpl"],function(a,b){"use strict";var c,d=a("tpl/login_wel.tpl"),e=a("banner"),f=$("#page-login-wel");agent.on("login_wel:init",function(){f.append(tpl.render(d)),c=new e("login-wel-wp",{autoTime:3e3,btns:"#page-login-wel .login-wel-focus"})}),agent.trigger("login_wel:init"),b.show=function(){f.show(),common.loadHide()},b.hide=function(){f.hide()}}),define("page/map",["tpl/map.tpl"],function(a,b){"use strict";function c(){var a=document.createElement("script");a.type="text/javascript",a.src="http://api.map.baidu.com/api?v=2.0&ak="+C.mapKey+"&callback=map_init",document.body.appendChild(a)}function d(){agent.trigger("map:update"),k=!0}var e,f,g,h,i=a("tpl/map.tpl"),j=a("head2"),k=($(document),!1),l=$("#page-map");l.html(tpl.render(j+i,{head2:{title:"公司位置"}})),window.map_init=d,c(),agent.on("map:update",function(){h=l.find(".map-main"),h.css("height",document.body.scrollHeight-45);var a=new BMap.Point(f,e),b=new BMap.Marker(a);g=new BMap.Map("map-main"),g.addOverlay(b),g.centerAndZoom(a,15);var c=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_LARGE,enableGeolocation:!0});g.addControl(c),g.enableScrollWheelZoom()}),b.show=function(a){e=1*a.map_lat,f=1*a.map_lng,l.show(),k&&agent.trigger("map:update")},b.hide=function(){l.hide(),setTimeout(function(){h.html("")},20)}}),define("page/me",["tpl/me.tpl","widget/wx","widget/jweixin-1.0.0"],function(a,b){"use strict";var c=a("tpl/me.tpl"),d=($(document),$("#page-me")),e=!1,f=a("widget/wx");agent.on("logout",function(){function a(a){200==a.data.status?(common.alert(a.data.error_msg),location.hash="#/login_wel",common.clearUserInfo(),location.reload()):b()}function b(){}common.alert(C.alert_post),net.send({url:C.api.login+"&op=logout",type:"post",isCache:0,onSuccess:a,onError:b})}),d.on("click",".logout",function(){return common.query_box.show("确认退出登录吗？"),common.query_box.ok=function(){agent.trigger("logout")},!1}),agent.on("me:init",function(){function a(a){200==a.data.status?(d.html(tpl.render(c,a.data)),e=1):b()}function b(){}net.send({url:C.api.get_userinfo,data:{uid:common.getUserInfo().uid},onSuccess:a,onError:b})}),d.on("click",".wx-scan-it",function(){f.scanQRCode()}),b.show=function(){agent.trigger("me:init"),d.show(),common.backTopShow("我"),$("body").css("background","rgba(240,242,245,1)")
},b.hide=function(){d.hide(),common.backTopHide(),$("body").css("background","#f8f8f8")}}),define("page/me_info",["tpl/me_info.tpl","widget/form"],function(a,b){"use strict";function c(){net.send({url:C.api.get_userinfo,data:{uid:i.uid},onSuccess:function(a){d.html(tpl.render(f+e,lang.extend(a.data,{head2:{title:"个人信息"}},i)))}})}var d=$("#page-me-info"),e=a("tpl/me_info.tpl"),f=a("head2"),g=a("widget/form"),h=!1,i=common.getUserInfo();d.on("change",".tx-upload",function(){var a=g.getFormData(d.find(".me-info"));a.uid=i.uid,a["profile[uid]"]=a.uid,a.face=this.files[0],net.send({hasUri:0,url:"http://m.pccn.com.cn/app.php?act=edit_user_info",data:a,type:"post",onSuccess:function(a){a.data}})}),d.on("click",".me-info-btn",function(){var a=g.getFormData(d.find(".me-info"));a.uid=i.uid,a["profile[uid]"]=a.uid,a["profile[realname]"]=a.realname,a["profile[gender]"]=a.gender,a["profile[signature]"]=a.signature,net.send({type:"post",url:C.api.person_edit_user_info,data:a,onSuccess:function(a){"200"==a.data.status&&common.alert(a.data.error_msg)}})}),b.show=function(){h||c(),d.show()},b.hide=function(){d.hide()}}),define("page/me_offer",["tpl/me_offer.tpl"],function(a,b){"use strict";var c=$("#page-me_offer"),d=a("tpl/me_offer.tpl");c.css("marginTop","0"),c.html(tpl.render(d,{})),b.show=function(){c.show()},b.hide=function(){c.hide()}}),define("page/msg",["tpl/recent.tpl"],function(a,b){"use strict";var c=a("tpl/recent.tpl"),d=$("#page-msg");d.append(tpl.render(c)),b.show=function(){d.show(),common.navAct(2)},b.hide=function(){d.hide(),common.navHide()}}),define("page/page_img_view",[],function(a,b){"use strict";var c=$("#page-img-view");b.show=function(){c.show()},b.hide=function(){c.hide(),setTimeout(function(){agent.trigger("img-view:hide")},5)}}),define("page/person",["tpl/person.tpl"],function(a,b){"use strict";function c(a){t="down"==a?1:t,1!=p.lock&&(p.lock=!0,net.send({url:C.api.get_demand_list,cache:!1,data:{uid:h,page:t,pageSize:10},onSuccess:function(b){d(b.data,a)},onError:g}))}function d(a,b){var c;"200"==a.status?0!==a.rows.length?(void 0==b?r.find(".per-nav-item").eq(1).removeClass("init-mlist"):"",1==t?n.html(tpl.render(s,a)):n.append(tpl.render(s,a)),"down"==b&&(c="更新成功",common.alert(c)),t++):("down"==b?(c="更新成功",r.find(".company-tips").show(),n.html(""),setTimeout(function(){r.find(".com-score-tips").show()},300)):c="已加载全部内容",common.alert(c)):common.alert(a.error_msg||"请求失败"),f(),e(n),p.lock=!1}function e(a){var b=a.find("img"),c=b.length,d=0;0!==c&&b.each(function(){return this.complete?void d++:void(this.onload=function(){f()})}),c==d&&f()}function f(){p.lock=!1,p.iScroll.refresh(),p.loadMore_end?p.loadMore_end():"",p.end?p.end():""}function g(){common.loadHide(),common.alert("网络错误，请检查网络！"),f()}var h,i,j,k,l,m,n,o,p,q=a("tpl/person.tpl"),r=($(document),a("favorite"),$("#page-person")),s=a("tpl/com_reviews_item.tpl"),t=1,u=a("mList");agent.on("person:update",function(){function a(a){if(200==a.data.status){j=a.data;var c=lang.extend(a.data,{head2:{title:"个人中心"}});r.html(tpl.render(q,c)),r.find(".j-favorite")[0].ajax_data={id:h},agent.trigger("person:dynamic")}else b()}function b(){common.alert(C.aet)}net.send({url:C.api.get_userinfo,cache:!1,data:{uid:h},onSuccess:a,onError:b})}),r.on("click",".per-nav-item",function(){var a=$(this),b=a.index(),c=r.find(".company-score-list").find(".per-list-box");a.siblings().find(".per-nav-line").removeClass("active"),a.find(".per-nav-line").addClass("active"),a.siblings().find(".per-nav-txt").removeClass("active"),a.find(".per-nav-txt").addClass("active"),c.removeClass("active"),c.eq(b).addClass("active"),1!==b&&c.eq(b).find(".company-tips").show()}),agent.on("person:dynamic",function(){m=r.find(".company-score-list"),o=m.find(".com-score-content"),n=m.find(".com-score-scroll"),o.height($(window).height()-91),p=new u(o[0],{id:"com_mlist",onUpdate:function(a){p.end=a,c("down")},onLoadMore:function(a){p.loadMore_end=a,c("up")}}),c()}),b.show=function(a){h=a.uid,r.show(),i=1,agent.trigger("person:update"),k=$("body"),l=k.find(".top-tit-box"),k.css("background","#fff"),common.backTopShow(),l.css({background:"none"}),l.find(".top-right-tit").addClass("fa-zhuanfa"),l.find(".top-tit-btn").css({color:"#fff"})},b.hide=function(){i=0,t=1,r.hide(),setTimeout(function(){r.html("")},20),common.backTopHide(),l.css("background","rgba(240,242,245,1)"),l.find(".top-right-tit").removeClass("fa-zhuanfa"),r.find(".company-tips").hide()}}),define("page/person_dyn",["tpl/person_dyn.tpl"],function(a,b){"use strict";var c,d,e=a("tpl/person_dyn.tpl"),f=a("head2"),g=1,h=$("#page-person-dyn"),i=a("mList"),j={},k={},l=a("data"),m=a("tpl/dyn_content_item.tpl");k=new l("did"),agent.on("person_dyn",function(a,b){function l(c){if(200==c.data.status){var l=k.add(c.data.rows);c.data.realname||(c.data.realname=c.data.username);var p=lang.extend(c.data,{head2:{title:"公司动态"},tpl_dci:m});p.pageType="person_dyn","init"==a?(h.html(tpl.render(f+e,p)),common.head_bcn(h),d=h.find(".dyn-content"),j=new i("persondyn-wp",{checkDOMChanges:!0,vScrollbar:!0,id:"person_dyn",onUpdate:function(a){j.end=a,agent.trigger("person_dyn","update",a)},onLoadMore:function(a){j.loadMore_end=a,g++,agent.trigger("person_dyn","loadmore",a)}})):l.length>0?d[o](tpl.render(m,c.data)):common.alert(C.alert_noData)}else n();b?b():""}function n(){common.alert("暂无数据"),b?b():""}var o;o="update"==a?"prepend":"loadmore"==a?"append":"append",net.send({url:C.api.get_demand_list,cache:!1,data:{uid:c,page:"update"==a?0:g,page_count:"10",aid:C.city.aid},isOnFront:0,onSuccess:l,onError:n})}),b.show=function(a){return window.search_rstEmp=!0,c=a.uid,""==c?(common.alert("暂无数据"),void setTimeout(function(){history.go(-1)},1e3)):(g=1,k.remove(),agent.trigger("person_dyn","init"),void h.show())},b.hide=function(){h.hide(),common.clearHTML(h)}}),define("page/person_replay_post",["tpl/person_reply_post.tpl"],function(a,b){"use strict";var c,d,e=a("tpl/person_reply_post.tpl"),f=a("head2"),g=$(document),h=!1,i=$("#page-person-reply-post");agent.on("prp:update",function(){var a={head2:{title:"发送评论",right:'<div class="prp-post" >确定</div>'}};i.html(tpl.render(f+e,a)),d=i.find(".prp-main-intext")}),g.on("click",".prp-post",function(){function a(a){console.log("test"),200==a.data.status?(h=!1,common.alert(a.data.error_msg),history.back(),agent.trigger("person_reply:comm")):common.alert(a.error_msg)}var b=d.val();return b?(common.alert(C.alert_post),void(h||(h=!0,net.send({url:C.api.demand_comment+"&op=add",type:"post",data:{uid:common.getUserInfo().uid,did:c,comment_type:"0",demand_id:c,content:b},cache:!1,isOnFront:0,isCache:0,onSuccess:a,onError:common.error})))):void common.alert(C.alert_qsrnr)}),b.show=function(a){c=a.did,i.show(),agent.trigger("prp:update")},b.hide=function(){i.hide(),setTimeout(function(){i.html("")},20)}}),define("page/person_reply",["tpl/person_reply.tpl"],function(a,b){"use strict";function c(){setTimeout(function(){var a=i.width(),b=i.find(".prpch-img-box"),c=b.width()+10,d=Math.floor(a/c);b=b.slice(d-1),b.remove()},100)}var d,e,f,g,h,i,j=a("tpl/person_reply.tpl"),k=a("head2"),l=a("tpl/dyn_content_item.tpl"),m=$(document),n=a("banner"),o=!1,p=(a("favorite"),a("ui")),q=$("#page-person-reply");agent.on("person_reply:update",function(){function a(a){if(200==a.data.status){h=a.data;var e=lang.extend(a.data,{head2:{title:"IT达人分享",right:'<div class="fa fa-ellipsis-h pson-rep-more"></div>'},did:f,tpl_dyn_item:l});q.html(tpl.render(k+j,e)),q.find(".j-favorite")[0].ajax_data={id:a.data.comment.uid},r=q.find(".prep-more-pl"),i=q.find(".prp-comm-per"),c(),a.data.comment.pictures&&(d=new n("prp-imgs-box",function(){})),setTimeout(function(){p.center(q.find("#prp-imgs-box .company-ad-btns"),{top:"88%"})},100)}else b()}function b(){common.alert(C.aet)}net.send({url:C.api.demand_comment,data:{uid:e,did:f},onSuccess:a,onError:b,onUpdate:function(){agent.trigger("person_reply:update")},cache:!1})});var r,s=document.unlock,t="person_reply:hide";m.on("click",".pson-rep-more",function(){s[t]=!0,r.show()}),agent.on("person_reply:hide",function(){r.hide(),s[t]=!1}),q.on("click",".prep-more-del",function(){function a(a){200==a.data.status?(common.alert(a.error_msg),location.hash="#/dyn",agent.trigger("dyn_item:del",f)):b(a.data)}function b(a){common.alert(a.data.error_msg)}common.alert(C.alert_post),net.send({url:C.api.demand+"&op=del",data:{uid:e,did:f},isOnFront:0,onSuccess:a,onError:b})}),agent.on("person_reply:comm",function(a){if(!a){var b=q.find(".prpb-like-num"),c=1*b.text();b.text(c++)}}),b.show=function(a){e=a.uid,f=a.did,g=a.k,o=!0,q.show(),agent.trigger("person_reply:update")},b.hide=function(){o=!1,q.hide(),common.clearHTML(q)}}),define("page/personal_home",["tpl/personal_home.tpl"],function(a,b){"use strict";function c(a){q="down"==a?1:q,1!=m.lock&&(m.lock=!0,net.send({url:"app.php?act=company-score-list",data:{page:q,pageSize:10},onSuccess:function(b){d(b.data,a)},onError:f}))}function d(a,b){var c;"1"==a.sta?(void 0==b?p.find(".per-nav-item").eq(1).removeClass("init-mlist"):"",1==q?k.html(tpl.render(o)):k.append(tpl.render(o)),"down"==b&&(c="更新成功",common.alert(c)),q++):(1==q?(c="更新成功",k.html(""),setTimeout(function(){p.find(".com-score-tips").show()},300)):c="已加载全部内容",common.alert(c)),e(),m.lock=!1}function e(){m.lock=!1,m.iScroll.refresh(),m.loadMore_end?m.loadMore_end():"",m.end?m.end():""}function f(){common.loadHide(),common.alert("网络错误，请检查网络！"),e()}var g,h,i,j,k,l,m,n=a("tpl/personal_home.tpl"),o=a("tpl/com_reviews_item.tpl"),p=($(document),$("#page-personal-home")),q=1,r=a("mList");p.html(tpl.render(n)),p.on("click",".per-nav-item",function(){var a=$(this),b=a.index();j=p.find(".company-score-list"),l=j.find(".com-score-content"),k=j.find(".com-score-scroll"),2!=b&&(a.siblings().find(".per-nav-line").removeClass("active"),a.find(".per-nav-line").addClass("active"),a.siblings().find(".per-nav-txt").removeClass("active"),a.find(".per-nav-txt").addClass("active")),1===b?(j.show(),a.hasClass("init-mlist")&&(m=new r(l[0],{id:"com_mlist",onUpdate:function(a){m.end=a,c("down")},onLoadMore:function(a){m.loadMore_end=a,c("up")}}),c())):j.hide()}),b.show=function(){p.show(),g=1,h=$("body"),i=h.find(".top-tit-box"),h.css("background","rgba(240,242,245,1)"),common.backTopShow(),i.css({background:"none"}),i.find(".top-right-tit").addClass("fa-zhuanfa"),i.find(".top-tit-btn").css({color:"#fff"})},b.hide=function(){g=0,p.hide(),common.backTopHide(),i.find(".top-right-tit").addClass("fa-zhuanfa")}}),define("page/productDetail",["tpl/productDetail.tpl"],function(a,b){"use strict";var c=a("tpl/productDetail.tpl"),d=(a("head2"),a("favorite"),a("banner")),e=$("#page-productDetail");e.css("marginTop","0"),e.html(tpl.render(c,{}));var f=e.find(".productDetail-head");new d(f[0]),b.show=function(){e.show()},b.hide=function(){e.hide()}}),define("page/product_offer",["tpl/product_offer.tpl"],function(a,b){"use strict";function c(a){net.send({url:C.api.get_product_list,data:{sid:a},type:"get",cache:0,onSuccess:function(a){var b=a.data;return 0==b.product_array.length?(history.go(-1),common.alert("暂无报价产品"),void(e=!1)):(f.html(tpl.render(g,b)),void(e=!0))}})}var d,e,f=$("#page-product-offer"),g=a("tpl/product_offer.tpl");f.css("marginTop","0"),f.on("click",".product-offer-head-item",function(){var a=f.find(".product-offer-head-mask"),b=f.find(".product-offer-head-box");a.show(),b.show()}),f.on("click",".product-offer-head-mask",function(){var a=f.find(".product-offer-head-mask"),b=f.find(".product-offer-head-box"),c=f.find(".prp-comment-tc-wrap");a.hide(),b.hide(),c.removeClass("active")}),f.on("click",".product-offer-head-box .list",function(){var a=($(this),f.find(".product-offer-head-mask")),b=f.find(".product-offer-head-box");a.hide(),b.hide()}),f.on("click",".product-offer-client-head .micon",function(){var a=f.find(".prp-comment-tc-wrap"),b=f.find(".product-offer-head-mask");a.addClass("active"),b.show()}),b.show=function(a){var b;return a.sid?(b=a.sid,f.show(),void(d==b&&e||(d=b,c(b)))):void history.go(-1)},b.hide=function(){f.hide()}}),define("page/product_release",["tpl/product_release.tpl"],function(a,b){"use strict";var c=$("#page-product-release"),d=a("tpl/product_release.tpl");c.css("marginTop","0"),c.html(tpl.render(d,{})),b.show=function(){c.show()},b.hide=function(){c.hide()}}),define("page/rank",["tpl/rank.tpl"],function(a,b){"use strict";var c=a("tpl/rank.tpl"),d=$("#page-rank"),e=a("head2");agent.on("rank:init",function(){function a(a){200==a.data.status?d.append(tpl.render(e+c,lang.extend(a.data,{head2:{title:"TOP 50"}}))):b()}function b(){common.alert(C.aet)}net.send({url:C.api.fans_top,onSuccess:a,onError:b})}),agent.trigger("rank:init"),b.show=function(){d.show()},b.hide=function(){d.hide()}}),define("page/reg",["tpl/reg.tpl"],function(a,b){"use strict";var c,d=a("tpl/reg.tpl"),e=a("head2"),f=$(document),g=!1,h=a("form"),i=$("#page-reg");agent.on("reg:init",function(){i.append(tpl.render(e+d,{head2:{title:"免费注册"}})),g=!0,c=i.find(".reg-main")}),f.on("click",".reg-confirm",function(){function a(a){a&&200==a.data.status&&(common.setUserInfo({password:d.password}),location.hash="#/login"),common.alert(a.data.error_msg)}function b(){common.alert(C.alert_aet)}var d=h.getFormData(c);if(""==d.mobile)return void common.alert("请输入手机号码..");if(""==d.password)return void common.alert("请输入密码..");if(""==d.serial)return void common.alert("请输入验证码..");common.alert(C.alert_post);try{net.send({url:C.api.register,type:"post",data:d,isCache:0,onSuccess:a,onError:b})}catch(e){b()}}),f.on("click",".reg-phone-getCode",function(){function a(a){a&&200==a.data.status,common.alert(a.data.error_msg)}function b(){common.alert(C.alert_aet)}var d=h.getFormData(c);common.alert(C.alert_post);try{net.send({url:C.api.register+"&op=check_mobile",type:"post",data:{mobile:d.mobile},isCache:0,isOnFronts:0,onSuccess:a,onError:b})}catch(e){b()}}),agent.trigger("reg:init"),b.show=function(){i.show(),g&&common.loadHide()},b.hide=function(){i.hide()}}),define("page/report",[],function(){"use strict"}),define("page/search_rst",["tpl/head2_gray.tpl","widget/lc_tag_drop_down","widget/iscroll"],function(a,b){"use strict";function c(){common.alert("暂无内容！")}function d(){m.iScroll.refresh()}function e(a){var b=h||a,c=b.curIndex,d=b.rst,e=d[b.curIndex]||"";return c>=2?(common.mask_hide(),b.unactive(),w.catid=+d[1],w.sub_catids=+d[2],location.hash="#/search_rst?catid="+d[1]+"!!sub_catids="+d[2],void g()):(c++,void f(e,function(a){h.updateList({index:y?c:0,tpl:tpl.render(s,a)}),y&&h.active(c),y=!0}))}function f(a,b){net.send({url:C.api.category,data:{catid:a},onSuccess:function(a){var c=a.data;b?b(c):""}})}function g(){function a(a){return a&&""!=a?void net.send({cache:0,url:C.api.search,data:{keyword:a},onSuccess:function(a){var d=a.data,e=w.catid=d.se_catid;w.sub_catids=d.sub_catid,agent.trigger("search_rst_int_ad"),b(),e||c()}}):void common.alert("请输入搜索内容！")}function b(a){net.send({cache:!0,url:C.api.search_subject_list,type:"post",data:{page:m.page,page_count:10,aid:C.city.aid,catid:w.catid,sub_catids:w.sub_catids,typeid:"5851,5852,5854,5855,5856,5857,10276,6000",amap_lat:"23.031898498535156",amap_lng:"113.32610321044922"},onSuccess:function(b){var e=b.data.data;!e||e.length<=0?c():(n.find(".search_rst_seller").append(tpl.render(q,b.data)),setTimeout(function(){d()},100)),"update"==a&&m.up_end(),"more"==a&&m.lo_end()}})}var e=$("#search_rst_mlist_box");e.html(""),i&&i.iScroll.destroy(),m&&m.iScroll.destroy(),e.append(t),j=n.find("#search-rst-banner"),k=n.find("#search_rst_mlist"),agent.on("search_rst_int_ad",function(){net.send({url:C.api.get_adv,data:{width:640,type:"cat",cat_id:w.catid,sub_catids:w.sub_catids},onSuccess:function(a){var b=a.data;j.empty(),i&&i.iScroll.destroy(),0==b.adv_list.length&&(b={adv_list:[{img_src:"http://www.pccn.com.cn/uploads/adv/2015-07/63_1436168437.jpg",img_sid:4159}]}),j.prepend(tpl.render(r,b)),i=new x("search-rst-banner",{}),n.find(".search_rst_call").css("display","-webkit-box")}})}),m={};m.page?m.page:1;m=new u("search_rst_mlist",{id:"search_rst_mlist",onUpdate:function(a){m.up_end=a,m.page=1,b("update")},onLoadMore:function(a){m.lo_end=a,m.page++,b("more")},onScrollStart:function(){},onScrollEnd:function(){}}),m.page=1,"kw"==l?a(w.kw):"tag"==l?(agent.trigger("search_rst_int_ad"),b()):c()}var h,i,j,k,l,m,n=$("#search-rst"),o=a("tpl/head2_gray.tpl"),p=a("tpl/search_rst.tpl"),q=a("tpl/search_rst_item.tpl"),r=a("tpl/search_adv.tpl"),s=a("tpl/tag_list_item.tpl"),t=a("tpl/search_rst_list.tpl"),u=a("mList"),v=a("widget/lc_tag_drop_down"),w={},x=a("banner");agent.on("commonMask:click",function(){h.unactive()}),n.append(tpl.render(o,{})),n.append(tpl.render(p,{}));var y=!1;h=null,h=new v(n.find(".lc-tag-drop-down"),{onInit:e,rootHeightOffset:1,maxListHeight:.5*screen.height,onSelect:e,onActive:common.mask_show,onNotActive:common.mask_hide}),n.on("click",".srsicb_tel",function(){var a=$(this),b=common.query_box,c="",d=a.attr("tel").split(",");d.forEach(function(a){a&&(c+='<a href="tel:'+a+'" class="company-tel-li">电话: '+a+"</a>")}),b.ok=function(){},b.show("<div>"+c+"</div>")}),b.show=function(a){function b(){w=a,g(),_isWx&&common.title(c),n.find(".head2-1-bg").text(c)}var c="孙海渠道";a.kw&&(l="kw",c=decodeURIComponent(a.kw),w.kw!=a.kw&&b()),a.se_catid&&(a.sub_catids=a.se_catid),a.catid&&(l="tag",w.catid!=a.catid&&b()),n.css("display","-webkit-box")},b.hide=function(){n.hide()}}),define("page/searchs",["head2","widget/iscroll"],function(a,b){"use strict";function c(a){a.removeClass("active"),i.removeClass("active"),j.text("说出您要找的产品")}function d(){var a=n.val();return""==a.replace(/\s/,"")?void common.alert("请输入搜索内容!"):(a=encodeURI(a),void(location.href="#/search_rst?kw="+a))}{var e=$("#page-searchs"),f=a("head2"),g=a("tpl/searchs.tpl");a("widget/iscroll")}e.css("margin-top","0.03rem"),e.html(tpl.render(f+g,{head2:{title:""}})),e.find(".head2").addClass("bcn").css("margin-top","0.03rem").find(".head2-icon-mask").remove(),e.find(".head2").find(".j-back").removeClass("j-back").addClass("j-href").attr("data-href","#/home"),e.find(".head2 .fa-return-left").css({color:"#bbb",fontSize:"25px"});var h,i=e.find(".searchs-box-hint"),j=e.find(".searchs-box-hint-tit"),k=e.find(".recordStart"),l=e.find(".recordEnd"),m=e.find(".recordSwitch");e.on("touchstart",".record-control-icon",function(){var a=$(this);return i.find(".searchs-box-hint-list").css("opacity","0"),a.hasClass("active")?(k[0].pause(),l[0].currentTime=0,l[0].play(),h=!0,setTimeout(function(){h&&(common.alert("语音转换失败，请重试!",2e3),c(a))},12e3),my_wx.stopRecord({success:function(b){j.text("语音转换中,请等待");var f=b.localId;my_wx.translateVoice({localId:f,isShowProgressTips:0,success:function(b){l[0].pause(),m[0].currentTime=0,m[0].play(),h=!1,c(a);var f=b.translateResult.replace(/[\！|\。|\,]/g,"");e.find(".searchs-box-inp input").val(f),d(f)}})},error:function(){common.alert("语音转换失败，请重试!",2e3),c(a)}})):(my_wx.startRecord(),a.addClass("active"),i.addClass("active"),j.text("正在录音，请说话"),common.alert("录音开始，再次点击停止录音!",2500),k[0].currentTime=0,k[0].play()),!1});var n=e.find(".searchs-box-inp input");e.on("click",".searchs-box-inp .fa-s-search",function(){d()}),e.on("submit",".searchs-box-inp",function(){return d(),!1}),b.show=function(){e.show(),window.search_rstEmp=!1},b.hide=function(){e.hide(),c(e.find(".record-control-icon"))}}),define("page/sel_brand",["tpl/sel_brand.tpl","widget/scroll_sel"],function(a,b){"use strict";function c(){var a,b=h.getFormData(i).cate_name;a=e?e.eq(b).attr("catid"):222,common.set_sel_sf({sub_catids:a})}var d,e,f=a("tpl/sel_brand.tpl"),g=a("head2"),h=(a("widget/scroll_sel"),a("form")),i=$("#page-sel-brand");i.on("click",".sel-brand-ok",c),agent.on("sel_brand:init",function(){function a(a){if(!a.data.categories||a.data.categories.length<=0)return common.alert("该类目暂时还没有品牌列表，请重新选择"),void(location.hash="#/sel_product?pageType=1");var b=lang.extend(a,{head2:{title:"选择品牌",right:'<div data-href="#/sel_city?pageType=1" class="j-href sel-brand-ok">确定</div>'}});i.html(tpl.render(g+f,b)),e=i.find(".sel-brand-item"),setTimeout(function(){h.ui(i),i.find(".sel-brand-item").eq(0).trigger("click")},50)}function b(){common.alert(C.aet)}net.send({url:C.dir_app,data:{act:"category",catid:common.get_sel_sf().catid},onSuccess:a,onError:b})}),b.show=function(a){d=a.stepVal,i.show(),common.loadHide(),agent.trigger("sel_brand:init")},b.hide=function(){i.hide(),setTimeout(function(){i.html("")},20)}}),define("page/sel_city",["tpl/city_list.tpl","widget/baiduMap"],function(a,b){"use strict";function c(a){var b=lang.extend(a.data,{head2:{title:"城市列表"},pageType:d,cityLength:18});g.html(tpl.render(f+e,b));var c=g.find(".sel-city-title-curCity"),h=c.find(".text");i.init(function(){h.text("定位中..."),i.getGeo(function(a){if(200==a.status){var b,d=a.data.address.city.replace(/市/,"");g.find(".sel-city-main-box .list").each(function(){var a=$(this);-1!==a.text().indexOf(d)&&(b=!0,h.text(d),c.attr("aid",a.attr("aid")))}),b?"":h.text("暂无")}else h.text("暂无")})})}var d,e=a("tpl/city_list.tpl"),f=a("head2"),g=(a("ui"),a("form"),$("#page-sel-city")),h=a("widget/baiduMap"),i=new h;net.send({url:C.dir_app,isCache:1,data:{act:"get_city_list1"},onSuccess:c}),g.on("click",".j-sel-city",function(){var a=$(this),b=a.attr("aid");if(b&&""!=b){var c={aid:b,name:a.text()};common.setCity(c),location.hash="#/home",location.reload()}}),b.show=function(){g.show(),common.loadHide()},b.hide=function(){g.hide()}}),define("page/sel_head",["tpl/sel_head.tpl"],function(a,b){"use strict";var c,d,e,f,g,h=a("tpl/sel_head.tpl"),i=a("head2"),j=a("form"),k=$("#page-sel-head");k.on("click",".sel-head-next",function(){function a(a){200==a.status&&(location.hash="#/sel_product?pageType=1")}function b(){common.alert(C.alert_aet)}var c=j.getFormData(k),d=(c.face,c.realname);return f.rst&&f.rst[0]?d?(common.alert(C.alert_post),void net.send({type:"post",dataType:"json",url:C.api.edit_user_info+"&profile[realname]="+d,data:{face:f.rst[0]},isOnFront:0,onSuccess:a,onerror:b})):void common.alert(C.alert_mcbnwk):void common.alert(C.alert_qxztp)}),agent.on("sel_head:init",function(){var a='<div class="sel-head-next">下一步</div>',b={};b.head2={title:"完善个人资料",right:a},k.html(tpl.render(i+h,b)),g=k.find(".sel-head-face-img"),e=k.find(".sel-head"),f=common.upload.init({$root:k.find(".sel-head"),input:"#page-sel-head .kw-upload-file",box:"#page-sel-head  .kw-upload-box",imgType:1})}),agent.trigger("sel_head:init"),b.show=function(a){c=a.stepVal,d=a.pageType||2,k.show(),common.loadHide()},b.hide=function(){k.hide()}}),define("page/sel_identity",["tpl/sel_identity.tpl","widget/scroll_sel"],function(a,b){"use strict";var c,d,e,f=a("tpl/sel_identity.tpl"),g=a("head2"),h=a("widget/scroll_sel"),i=a("form"),j=(a("ui"),!1),k=$("#page-sel-identity");k.on("click",".sel-sf-next",function(){var a=i.getFormData(k),b=a.company_name,d=a.company_addr;if(!b)return void common.alert("请输入公司名称!");if(!d)return void common.alert("请输入公司地址!");var f={c_type:e.eq(c.rst[0]).attr("typeid"),company_name:b,company_addr:d};common.set_sel_sf(f),location.hash="#/sel_product?pageType=1"}),agent.on("sel_identity:init",function(){function a(a){if(200==a.data.status){j=!0;var i=lang.extend(a.data,{head2:{title:"选择您的身份"}});k.html(tpl.render(g+f,i)),c=new h(k.find(".scroll-sel-root")),d=k.find(".scroll-sel-root"),e=k.find(".scroll-sel-li")}else b()}function b(){common.alert(C.aet)}net.send({url:C.dir_app,data:{act:"c_type"},onSuccess:a,onError:b})}),agent.trigger("sel_identity:init"),b.show=function(){k.show(),common.loadHide()},b.hide=function(){k.hide()}}),define("page/sel_product",["tpl/sel_product.tpl","widget/scroll_sel"],function(a,b){"use strict";function c(){var a=n.find(".scroll-sel-box"),b=e.rst,c=a.last().find(".scroll-sel-list").eq(b[0]).find(".scroll-sel-li").eq(e.rst[1]).attr("catid");return c}function d(){function a(a){200==a.data.status?(common.alert(a.data.error_msg),"提交成功"==a.data.error_msg&&(agent.trigger("addProductList:update"),agent.trigger("home:filterBar:update"),location.hash="#/home",2==h&&setTimeout(function(){location.hash="#/add_product_list"},50))):b()}function b(){common.alert(C.aet)}common.alert(C.alert_post),net.send({type:"post",url:C.api.custom_made+"&op=save&uid="+common.getUserInfo().uid,data:{batch_product:JSON.stringify([{catid:c()}])},onSuccess:a,onerror:b})}var e,f,g,h,i=a("tpl/sel_product.tpl"),j=a("head2"),k=a("widget/scroll_sel"),l=a("ui"),m={},n=$("#page-sel-product");n.on("click",".sel-sf-next",function(){d()}),n.on("click",".sel-product-ok",function(){d()}),agent.on("sel_product:init",function(){function a(a){if(200==a.data.status){var c;2==h&&(c='<div class="sel-product-ok">确定</div>');var d=lang.extend(a.data,{head2:{title:m.head2Title,right:c},pageType:h});n.html(tpl.render(j+i,d)),e=new k(n.find(".scroll-sel-root")),f=n.find(".scroll-sel-root"),l.center(f)}else b()}function b(){common.alert(C.aet)}net.send({url:C.dir_app,data:{act:"category_new",catid:"all"},onSuccess:a,onError:b})}),b.show=function(a){h=a.pageType||2,1==h?(g=a.stepVal,m.head2Title="选择您的产品"):m.head2Title="已关注的行业",n.show(),agent.trigger("sel_product:init")},b.hide=function(){n.hide(),setTimeout(function(){n.html("")},50)}}),define("tpl/add_product_list.tpl",[],'\n\n\n<div class="addPL-main">\n    <%\n        my_attention.forEach(function(v){\n    %>\n        <div cid="<%=v.cid %>" class="kw-wp kw-li addPL-item"><%=v.name %></div>\n    <%\n        })\n    %>\n</div>'),define("tpl/city_list.tpl",[],'<div class="sel-city">\n    <div class="sel-city-title">\n        <div class="sel-city-title-text">当前城市</div>\n        <div class="sel-city-title-curCity j-sel-city">\n            <div class="fa fa-map-marker"></div>\n            <div class="text">暂无</div>\n        </div>\n    </div>\n    <div class="sel-city-main">\n        <div class="sel-city-main-title">热门城市</div>\n        <div class="sel-city-main-box">\n\n            <%\n            var hotCity = [];\n            for (var i = 0, len = cities.length; i < len; i++){\n                hotCity = hotCity.concat(cities[i].city)\n                if(hotCity.length >= cityLength){\n                    break;\n                }\n            }\n            for (var i = 0, len = hotCity.length; i < len; i++){\n                var val = hotCity[i];\n            %>\n                <div aid="<%-val.aid %>" class="list j-sel-city"><%-val.name %></div>\n            <%\n            }\n            %>\n        </div>\n    </div>\n</div>'),define("tpl/classify.tpl",[],'\n\n\n<div class="classify-box">\n    <div class="classify-top">\n        <div class="j-back fa fa-return-left classify-t-item classify-t-l"></div>\n        <form class="classify-t-item classify-t-r">\n            <input  placeholder="搜索产品" class="classify-t-inp" type="search"  value=""/>\n            <span class="fa fa-s-search classify-t-icon"></span>\n        </form>\n    </div>\n\n    <div class="classify-tab">\n        <div class="classify-tab-item active">\n            <div class="classify-ti-text">渠道批发</div>\n            <div class="classify-ti-line"></div>\n        </div>\n        <div class="classify-tab-item">\n            <div class="classify-ti-text">零售服务</div>\n            <div class="classify-ti-line"></div>\n        </div>\n        <div class="classify-tab-item">\n            <div class="classify-ti-text">售后维修</div>\n            <div class="classify-ti-line"></div>\n        </div>\n        <div class="classify-tab-item">\n            <div class="classify-ti-text">二手</div>\n            <div class="classify-ti-line"></div>\n        </div>\n    </div>\n\n    <div class="classify-list">\n        <div class="classify-l-l">\n            <div class="classify-ll-scroll"></div>\n        </div>\n        <div class="classify-l-r">\n            <div class="classify-lr-scroll"></div>\n        </div>\n    </div>\n</div>'),define("tpl/classify_list_l.tpl",[],'\n\n<% categories.forEach(function(v,k){ %>\n<div catid="<%=v.catid %>" class="classify-ll-item"><%=v.name %></div>\n<% })%>\n'),define("tpl/classify_list_r.tpl",[],'\n\n\n<%\nvar list = [];\nlastI = -1;\ndata.forEach(function(v,k){\n    if(k%3==0){list.push([]);lastI++;}\n    if(!list[lastI]){list[lastI] = []}\n    list[lastI].push(v);\n});\n%>\n\n<%\nlist.forEach(function(v,k){\n%>\n<div class="classify-lr-line">\n    <% v.forEach(function(v,k){ %>\n        <div data-href="#/search_rst?catid=<%=v.catid %>" class="j-href classify-lr-item" catid="<%=v.catid %>">\n            <img src="http://www.pccn.com.cn<%=v.imgurl %>" class="classify-lri-img">\n            <div class="classify-lri-name"><%=v.name %></div>\n        </div>\n    <%}) %>\n\n</div>\n<%\n})\n%>\n\n'),define("tpl/com_reviews_item.tpl",[],'\n<%\nif(rows.length > 0){\nvar platform = lang.sys().platform;\nrows.forEach(function(v,k){\nvar dlike = v.demands_like;\nvar comment_list = v.comment_list;\nif(v.pictures && v.pictures.length <= 0){\nv.pictures = [C.subject_default];\n}\n\n\n\n\n\nvar d_time;\nvar interval = (new Date().getTime() - v.d_time*1 ) / 24 / 60 /60 / 1000;\ninterval >= 1 ? d_time = time.format(v.d_time*1) : d_time = time.diff(v.d_time*1);\n\n%>\n\n    <div class="com-reviews-item" did="<%=v.did %>">\n        <div class="pson-rep-top">\n            <div class="kw-box com-reviews-per">\n\n\n\n                <%\n                var link;\n                if(v.subject !== \'\'){\n                link = \'#/company?sid=\' + v.subject.sid\n                }else{\n                link = \'#/person?uid=\' + v.uid\n                }\n                %>\n                <!--<div  class="com-rev-header j-href" data-href=""">\n                    <img class="prpt-l-head" src="http://img0.imgtn.bdimg.com/it/u=2609450077,4178219781&fm=21&gp=0.jpg">\n                </div>-->\n                <div class="prpt-m kw-flex1">\n                    <div class="kw-txt-li">\n                        <div class="com-rev-name kw-text-over j-href" data-href="<%-link %>"><%=v.realname %></div>\n                        <!--<div class="com-reviews-score">\n                            <div class="com-rev-score-item" style="margin-right: 5px">\n                                <div class="com-rev-score-txt">专业水平</div>\n\n                                <div class="com-xing-box">\n                                    <div class="com-xing  xing-center">\n                                        <%\n                                        for(var i = 0;i < 5;i++){\n                                        %>\n                                        <div class="com-xing-item fa fa-xing1"></div>\n                                        <%\n                                        }\n                                        %>\n                                    </div>\n\n                                    <div class="com-xing  xing-center com-xing-pos">\n                                        <div class="com-xing-item fa fa-xing1 com-xing-cor"></div>\n\n\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="com-rev-score-item">\n                                <div class="com-rev-score-txt">服务态度</div>\n                                <div class="com-xing-box">\n                                    <div class="com-xing  xing-center">\n                                        <%\n                                        for(var i = 0;i < 5;i++){\n                                        %>\n                                        <div class="com-xing-item fa fa-xing1"></div>\n                                        <%\n                                        }\n                                        %>\n                                    </div>\n\n                                    <div class="com-xing  xing-center com-xing-pos">\n                                        <div class="com-xing-item fa fa-xing1 com-xing-cor"></div>\n\n\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>-->\n                        <div class="prpt-m-name-content <% if(v.content.length > 130){%> active <%}%>"  >\n                            <%=v.content %>\n                        </div>\n                        <div class="prpt-m-name-tip <% if(v.content.length > 130){%> active <%}%>">查看全文</div>\n                    </div>\n                </div>\n\n              <!--  <div class="prpt-r">\n                                        <div class="btn-green prpt-r-atten j-favorite" follow="1">关注</div>\n            </div>-->\n\n        </div>\n    </div>\n\n\n\n\n    <div class="com-score-imgs">\n        <div  class= prp-imgs-box">\n        <div class="prp-imgs-scroll imgView-data">\n            <%\n            var pictures;\n            if(v.pictures === \'\'){\n            pictures = [C.subject_default]\n            }else{\n            pictures = v.pictures\n            }\n            pictures.forEach(function(v,k){\n\n            %>\n\n            <%\n            if(pictures.length == 1 ){\n            %>\n            <div  class="prp-imgs-item j-imgView-data" imgView-data-src="<%=v %>" style="width: 180px;">\n                <img  src=\'<%=v %>\' />\n            </div>\n            <%\n            }\n            %>\n\n            <%\n            if(pictures.length == 2 ){\n            %>\n            <div class="prp-imgs-item j-imgView-data" imgView-data-src="<%=v %>" style="width:110px;height:110px;background-image:url(\'<%=v %>\')"></div>\n            <%\n            }\n            %>\n\n            <%\n            if(pictures.length >= 3 ){\n            %>\n            <div class="prp-imgs-item j-imgView-data" imgView-data-src="<%=v %>" style="width:72px;height:72px;background-image:url(\'<%=v %>\')"></div>\n            <%\n            }\n            %>\n\n\n            <%\n            })\n            %>\n        </div>\n        <div class="banner-btns company-ad-btns"></div>\n    </div>\n    </div>\n\n    <div class="prp-comment" style="padding:0 13px 13px 13px">\n        <div class="prp-comment-tc kw-box com-reviews-m" style="padding: 0">\n            <div class="com-evalu-time"><%-d_time %></div>\n            <div class="prp-comment-tc-control ">\n                <i class="fa fa-wx-comment"></i>\n            </div>\n            <div class="prp-comment-tc-wrap">\n                <div class="prp-comment-tc-btn kw-box">\n                    <div did="<%=v.did %>"  class="list prp-comment-tc-btn-like kw-box-center">\n                        <div class="fa fa-heart-o"></div>\n                        <div class="list-text">\n                            <%if(dlike.like == 1){%>\n                            取消\n                            <%}else{%>\n                            赞\n                            <%}%>\n                        </div>\n                    </div>\n                    <div class="list prp-comment-tc-btn-comment kw-box-center">\n                        <div class="fa fa-wx-comment2"></div>\n                        <div class="list-text">评论</div>\n                        <%\n                        if(platform !== \'ios\'){\n                        %>\n                        <input type="search" placeholder="请输入"/>\n                        <%\n                        }\n                        %>\n                    </div>\n                    <div class="list-line"></div>\n                </div>\n            </div>\n        </div>\n\n        <div class="com-evalu-main prp-comment-main">\n            <%\n            var like_ac = \'a\';\n            if(dlike.all.length !== 0 &&  comment_list.length !== 0){\n            like_ac = \'active\';\n            }\n            %>\n            <div class="com-triangle-up"></div>\n            <div class="com-evalu-main-like prp-comment-main-like <%-like_ac %>" <%if(!dlike.all.length || dlike.all.length == 0 ){ %> style="display: none" <%}%> >\n\n            <div class="licon fa fa-heart-o"></div>\n            <%\n            dlike.all.reverse().forEach(function(v,k){\n            var link;\n            v.sid_data == \'\' ? link = \'#/person?uid=\' + v.uid : link = \'#/company?sid=\' + v.sid_data.sid\n            %>\n            <div uid="<%-v.uid %>" class="list j-href" data-href="<%-link %>"><%-v.realname %></div>\n            <% if(dlike.all[k+1]){ %>\n            <div class="fg">,</div>\n            <%}%>\n            <%\n            })\n            %>\n        </div>\n\n\n         <div class="com-evalu-main-text prp-comment-main-text" <%if(!comment_list.length || comment_list.length == 0 ){ %> style="display: none" <%}%> >\n\n            <%\n            comment_list.forEach(function(v,k){\n            var link;\n            v.sid_data == \'\' ? link = \'#/person?uid=\' + v.uid : link = \'#/company?sid=\' + v.sid_data.sid\n            %>\n            <div class="list">\n                <span class="list-name j-href" data-href="<%-link %>"><%-v.realname %></span>\n                <span class="list-content">：<%-v.content %></span>\n            </div>\n            <%\n            })\n            %>\n          </div>\n    </div>\n    </div>\n\n\n\n    </div>\n\n\n\n<%\n}) }\n%>'),define("tpl/company.tpl",[],'<%\n    if(stores.album_list.length > 0){\n%>\n<div class="company-ad" id="company-ad">\n    <div class="banner-content imgView-data">\n        <%\n            stores.album_list.forEach(function(v,k){\n        %>\n            <div class="company-ad-imgs banner-content-item company-ad-imgs box-center j-imgView-data" imgView-data-src="<%=v.filename %>" style="background-image: url(\'<%=v.filename %>\')"></div>\n        <%\n            })\n        %>\n    </div>\n    <div class="banner-btns company-ad-btns">\n    </div>\n</div>\n<%\n    }\n%>\n\n\n<div class="company-m kw-box-v">\n    <div class="company-m-item kw-box-a-v company-m-info">\n        <div class="company-mi-l kw-box-a-v kw-flex1">\n            <div class="company-mi-item kw-box-a-v company-mi-view">\n                <div class="fa fa-check company-mi-icon company-mi-view-icon"></div>\n                <div class="ompany-mi-num company-mi-view-num"><%=stores.pageviews %></div>\n            </div>\n\n            <div class="company-mi-item kw-box-a-v kw-box company-mi-tel">\n                <div class="fa fa-diancanicon company-mi-icon company-mi-tel-icon"></div>\n                <div class="ompany-mi-num company-mi-tel-num"><%=stores.callcount %></div>\n            </div>\n\n            <div class="company-mi-item kw-box company-mi-like isAgree-item isAgree-yes">\n                <div class="fa fa-zan-copy company-mi-icon company-mi-like-icon"></div>\n                <div class="ompany-mi-num company-mi-like-num"></div>\n            </div>\n\n            <div class="company-mi-item kw-box company-mi-comm" data-href="#/company_assess?sid=<%-sid %>">\n                <div class="fa fa-duanxin company-mi-icon company-mi-comm-icon"></div>\n                <div class="ompany-mi-num company-mi-comm-num"><%=stores.reviews %></div>\n            </div>\n        </div> \n\n        <div class="company-mi-item kw-box company-mi-r">\n            <div class="ompany-mi-num company-mi-sort-num"><%=stores.sort1 %></div>\n        </div>\n    </div>\n</div>\n\n<%\n\nvar grade = 0;\nvar fans = 0;\nvar uid = \'\';\nif(stores.link_user.length !== 0){\ngrade = stores.link_user[0].grade * 1\nfans = stores.link_user[0].fans\nuid = stores.link_user[0].uid\n\n}\n\n%>\n\n<div class="company-info kw-box-a-v">\n	<div class="company-info-mian kw-flex1">\n		<div class="company-info-mian-head">\n			<div class="b"><%-stores.name %></div>\n\n            <div class="com-xing-box">\n                <div class="com-xing  xing-center">\n                    <div class="com-xing-item fa fa-xing1"></div>\n                    <div class="com-xing-item fa fa-xing1"></div>\n                    <div class="com-xing-item fa fa-xing1"></div>\n                    <div class="com-xing-item fa fa-xing1"></div>\n                    <div class="com-xing-item fa fa-xing1"></div>\n                </div>\n\n                <div class="com-xing  xing-center com-xing-pos">\n                    <%\n                    for(var i = 0;i < grade;i++){\n                    %>\n                    <div class="com-xing-item fa fa-xing1 com-xing-cor"></div>\n                    <%\n                    }\n                    %>\n                    <!--<i class="fa fa-xing1 com-score-sta"></i>\n                    <i class="fa fa-xing1 com-score-sta"></i>\n                    <i class="fa fa-xing1 com-score-sta"></i>\n                    <i class="fa fa-xing1"></i>\n                    <i class="fa fa-xing1"></i>-->\n                </div>\n            </div>\n\n\n\n\n\n                <!--<div class="com-xing-item fa fa-xing1"></div>\n                <div class="com-xing-item fa fa-xing1"></div>\n                <div class="com-xing-item fa fa-xing1"></div>\n                <div class="com-xing-item fa fa-xing1"></div>-->\n\n		</div>\n\n	</div>\n	<div class="company-info-attention kw-box-a-h">\n        <div class="company-atten-sta">\n            <div class="fa fa-praised company-atten-icon"></div>\n            <div follow="0" class="company-info-attention-btn j-favorite">\n                关注\n            </div>\n        </div>\n\n		<!--<div class="company-info-attention-num"><%-fans %></div>-->\n	</div>\n\n</div>\n\n<div class="company-info company-address">\n    <div class="company-info-box">\n        <div class="company-info-main-type">\n\n            <%\n            var brands = stores.brands;\n            var tag = [];\n            brands.forEach(function(v,k){\n            tag.push(v.name)\n            var cur_le = k + 1\n            if(brands.length == cur_le){\n            tag.push(v.pname)\n            tag.push(v.str_c_type)\n            }\n            })\n\n            var pinpai_list = \'\';\n\n            tag.forEach(function(v,k){\n            pinpai_list += v + \' \'\n            })\n\n            %>\n            <div class="list"><%-pinpai_list %></div>\n        </div>\n        <div class="company-info-main-addr kw-box ">\n            <div class="text"><%=stores.c_address %></div>\n            <%\n            var juli;\n            if(stores.juli == \'-1\'){\n            juli = \'未知\'\n            }else{\n            juli = stores.juli\n            }\n            %>\n            <!--\n            <div class="juli">距离：<%-juli %></div>\n            -->\n        </div>\n    </div>\n    <div data-href="#/map?map_lat=<%=stores.map_lat %>!!map_lng=<%=stores.map_lng %>!!sid=<%=stores.sid %>" class="j-href company-ma-item kw-box company-ma-r fa fa-wodeweizhi">\n\n    </div>\n</div>\n\n\n\n<div class="company-act j-href" data-href="#/person_dyn?uid=<%-uid %>">\n    <div class="company-act-box">\n        <div class="fa fa-dongtai company-dynamic me-icon"></div>\n        <div class="company-text company-act-text kw-box-a-h" style="-webkit-box-flex: 0">公司动态</div>\n        <div class="company-act-list kw-box kw-flex1"></div>\n        <div class="company-act-btn kw-box-a-h me-r-in fa fa-return-right"></div>\n    </div>\n</div>\n\n<div class="company-info-item j-href" data-href="#/product_offer?sid=<%=stores.sid %>">\n    <div class="company-item-box">\n        <div class="fa fa-money company-money me-icon"></div>\n        <div class="company-text">产品报价</div>\n        <div class="company-act-btn kw-box-a-h me-r-in fa fa-return-right"></div>\n    </div>\n</div>\n\n<!--<div class="company-sign">\n	<div class="company-sign-item city">城市: <span></span></div>\n	<div class="company-sign-item sign">签名: <span></span></div>\n</div>-->\n\n<div class="wrap-company-tel kw-box-a-v ">\n    <div class="company-newsletter">\n        <div class=" kw-box-center company-tel">\n            <div class="company-tel-text">打电话</div>\n        </div>\n\n        <div class=" kw-box-center company-sms">\n            <div class="company-tel-text">发信息</div>\n        </div>\n    </div>\n</div>\n\n\n<div class="company-rev-box">\n    <div class="company-nav">\n        <div class="com-nav-item display-center">\n            <div class="com-nav-txt">企业简介</div>\n            <div class="com-nav-line" style="display: block;"></div>\n        </div>\n        <div class="com-nav-item display-center init-mlist">\n            <div class="com-nav-txt">企业点评</div>\n            <div class="com-nav-line active"></div>\n        </div>\n        <div data-href="" class="com-nav-item display-center j-href">\n            <div class="com-nav-txt">我要点评</div>\n            <div class="com-nav-line"></div>\n        </div>\n    </div>\n</div>\n\n\n<div class="company-score-list">\n    <div class="company-score-tab">\n        <div class="com-score-tips">暂无简介</div>\n    </div>\n    <div class="company-score-tab list-box active"></div>\n    <div class="company-score-tab"></div>\n    <!--<div class="com-score-tips">暂无新闻</div>\n    <div class="com-score-content">\n        <div class="com-score-scroll">\n\n        </div>\n    </div>-->\n</div>\n\n<!--<div class="wrap-company-comment kw-box-a-v ">\n	<div class="kw-box-center company-comment j-href" data-href="#/company_assess?sid=<%-sid %>">\n		<div class="company-tel-comment">查看评价</div>\n	</div>\n</div>-->\n\n\n\n'),define("tpl/company_assess.tpl",[],'<div class="company-assess-tab">\n	<div class="company-assess-tab-control box-center">\n		<div class="list good active">好评 (<span>0</span>)</div>\n		<div class="list mid">中评 (<span>0</span>)</div>\n		<div class="list bad">差评 (<span>0</span>)</div>\n	</div>\n	<div class="company-assess-tab-main">\n		<div class="list active">\n			<div class="list-box"></div>\n			<div class="list-tip">暂无评论</div>\n		</div>\n		<div class="list">\n			<div class="list-box"></div>\n			<div class="list-tip">暂无评论</div>\n		</div>\n		<div class="list">\n			<div class="list-box"></div>\n			<div class="list-tip">暂无评论</div>\n		</div>\n	</div>\n	<!--<div class="company-assess-tab-btn box-center btn-green pc-fixed j-href">\n		<div class="fa-icon fa fa-uniF040"></div>\n		<div class="text">我要点评</div>\n	</div>!-->\n\n</div>'),define("tpl/company_assess_add.tpl",[],'<div class="assess-add">\n    <div class="assess-reviews">\n        <div class="assess-add-list">\n            <div class="assess-add-list-item text">专业评分 : </div>\n            <div class="assess-add-list-item xing">\n                <div class="xing-list bottom box-center">\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                </div>\n                <div class="xing-list ctop box-center">\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                </div>\n            </div>\n        </div>\n\n        <div class="assess-add-list">\n            <div class="assess-add-list-item text">服务评分 : </div>\n            <div class="assess-add-list-item xing">\n                <div class="xing-list bottom box-center">\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                </div>\n                <div class="xing-list ctop box-center">\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                    <div class="xing-list-item fa fa-xing2"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="assess-add-eval">\n        <div class="assess-add-list-item import box-center" style="margin:0">\n            <textarea placeholder="至少输入10个汉字或字符" class=""></textarea>\n        </div>\n        <div class="assess-add-img">\n\n        </div>\n        <div class="assess-add-pic">\n            <div class="assess-pic-btn">\n                <div class="add-con-size fa fa-iconfont-jia"></div>\n                <div class="add-pic-text">添加图片</div>\n                <input name="file" id="pic-btn" type="file" multiple="multiple">\n            </div>\n        </div>\n    </div>\n\n    <div class="assess-sub-pos pc-fixed">\n        <div class="assess-submit-box">\n            <div class="assess-add-btn  ">提交</div>\n        </div>\n    </div>\n</div>'),define("tpl/company_assess_list.tpl",[],'<%\ncomment_list.forEach(function(v,k){\nvar _time = time.format(v.posttime).split(\' \')[0];\n%>\n<div class="list-box-item box-center">\n	<div class="tn box-center">\n		<div class="tn-tx"><img class="" src="<%-v.icon %>" /></div>\n		<div class="tn-name"><%-v.username %></div>\n	</div>\n	<div class="tc kw-flex1 box-center">\n		<div class="tc-time"><%-_time %></div>\n		<div class="tc-content"><%-v.content %></div>\n	</div>\n</div>\n\n<%\n})\n%>'),define("tpl/company_info_list.tpl",[],'<%\n\n\ncompanys.forEach(function(v,k){\nvar v = v.data || v;\n%>\n<div  class=" company-info-section">\n\n    <% if(k == 0 && first == \'first\'){ %>\n    <div class="company-info-tit contact-active-cor red-active j-href" data-href="#/company?sid=<%=v.sid %>">\n        <%=v.name %>\n            <div class="recommend-box">\n                <span class="fa fa-shqd_red_tuijian recommend-icon"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span>\n                <span class="recommend-txt">推荐</span>\n            </div>\n    </div>\n    <% }else if(k == 1 && first == \'first\'){ %>\n\n    <div class="company-info-tit contact-active-cor gray-active j-href" data-href="#/company?sid=<%=v.sid %>">\n        <%=v.name %>\n        <div class="recommend-box">\n            <span class="fa fa-shqd_gray_tuijian recommend-icon"><span class="path1"></span><span class="path2"></span><span class="path3"></span></span>\n\n            <span class="recommend-txt">推荐</span>\n        </div>\n\n    </div>\n    <% }else{ %>\n    <div class="company-info-tit contact-active-cor text-hide j-href" data-href="#/company?sid=<%=v.sid %>" >\n        <%=v.name %>\n    </div>\n    <% } %>\n\n\n    <div class="company-info-address text-hide  j-href" data-href="#/company?sid=<%=v.sid %>"><%- v.c_address %></div>\n    <div class="company-info-pc">\n        <%\n        if(v.link_user && v.link_user.length !== 0 && v.link_user[0].face ){\n        %>\n        <div class="company-info-portrait j-href" data-href="#/person_dyn?uid=<%-v.link_user[0].uid %>" style="background-image: url(\'<%-v.link_user[0].face %>\')"></div>\n        <% } %>\n        <div class="company-info-contact">\n            <div class="company-contacts">\n                联系人：<span class="contact-active-cor"><%- v.c_lianxiren %></span>\n            </div>\n            <div class="company-contact-phone">\n                手　机：\n                <%\n                var c_mobile = v.c_mobile || \'\';\n                if(c_mobile !== \'\' && c_mobile.indexOf(\',\')){\n                c_mobile = c_mobile.split(\',\')\n                }else if(c_mobile !== \'\'){\n                c_mobile = [ c_mobile ]\n                }else{\n                c_mobile = []\n                }\n\n                c_mobile.forEach(function(v,k){\n                %>\n                <a href="tel:<%-v %>" class="contact-active-cor"><%-v %></a>\n                <%\n                })\n                %>\n            </div>\n            <div class="company-contact-fixed">\n                固　话：\n                <%\n                var c_telephone = v.c_telephone || \'\'\n                if(c_telephone !== \'\' && c_telephone.indexOf(\',\')){\n                c_telephone = c_telephone.split(\',\')\n                }else if(c_telephone !== \'\'){\n                c_telephone = [ c_telephone ]\n                }else{\n                c_telephone = []\n                }\n\n                c_telephone.forEach(function(v,k){\n                %>\n                <a href="tel:<%-v %>" class="contact-active-cor"><%-v %></a>\n                <%\n                })\n                %>\n            </div>\n            <div class="company-contact-qq">\n                QQ：<%-v.c_qq %>\n            </div>\n            <div class="company-contact-wechat">\n                微信号：<%-v.c_weixin %>\n            </div>\n            <div class="company-contact-reviews">\n                <%-v.description %>\n            </div>\n        </div>\n    </div>\n\n\n    <div class="company-evaluation">\n        <div class="evaluation-item display-center"><%=v.pageviews %>浏览</div>\n        <div class="evaluation-item display-center"><%-v.callcount %>电话</div>\n        <div class="evaluation-item display-center"><%-v.favorites %>点赞</div>\n        <div class="evaluation-item display-center"><%- v.reviews %>点评</div>\n    </div>\n\n</div>\n<% }) %>\n\n'),define("tpl/company_item.tpl",[],'\n<%\n    companys.forEach(function(v,k){\n        var v = v.data || v;\n%>\n<div data-href="#/company?sid=<%=v.sid %>" class="j-href content-item-item content-item-box">\n    <div class="cib-item cib-left">\n        <img class="cib-left-img" src="<%-v.thumb == \'\' ? C.noface1 : v.thumb %>">\n    </div>\n    <div class="cib-item cib-right">\n        <div class="cib-right-item text-over cib-right-name"><%=v.name %></div>\n        <div class="cib-right-item text-over  cib-right-ms">\n            <div class="item browse">浏览<%=v.pageviews %></div>\n            <div class="item reviews">点评<%=v.reviews %></div>\n            <div class="item star">\n                <%\n                if(v.link_user.length !== 0){\n                var grade = v.link_user[0].grade * 1\n\n                for(var i = 0;i < grade;i++){\n                %>\n                <i class="fa fa-star"></i>\n                <%\n                }}\n                %>\n            </div>\n            <!--<div class="item distance fa fa-star"><!--<%-v.juli == \'\'? \'未知\':v.juli %></div>-->\n        </div>\n        <div class="cib-right-item text-over end cib-keyword"><%=v.pinpai %></div>\n    </div>\n</div>\n<%\n})\n%>'),define("tpl/company_list.tpl",[],'\n\n<div id="company-list-wp">\n    <div class="company-list-main">\n        <%-tpl.render(tpl_company_item,{companys:data}) %>\n    </div>\n</div>\n'),define("tpl/company_reviews.tpl",[],'\n    <div class="company-score-info">\n        <div class="com-score-nav">\n            <div class="score-nav-item">\n                <div class="score-nav-txt">好评</div>\n                <div class="score-nav-num"></div>\n            </div>\n            <div class="score-nav-line"></div>\n            <div class="score-nav-item">\n                <div class="score-nav-txt">中评</div>\n                <div class="score-nav-num"></div>\n            </div>\n            <div class="score-nav-line"></div>\n            <div class="score-nav-item">\n                <div class="score-nav-txt">差评</div>\n                <div class="score-nav-num"></div>\n            </div>\n            <div class="score-nav-line"></div>\n            <div class="score-nav-xing" style="-webkit-box-align: start;\n        margin-left: 10px;">\n                <div class="score-nav-txt">专业评价　<span class="score-nav-cor">5.0</span></div>\n                <div class="score-nav-num">服务评价　<span class="score-nav-cor">5.0</span></div>\n            </div>\n        </div>\n    </div>\n\n\n    <div class="company-assess-tab-main">\n        <div class="list active">\n            <div class="list-box"></div>\n            <div class="list-tip">暂无评论</div>\n        </div>\n        <div class="list">\n            <div class="list-box"></div>\n            <div class="list-tip">暂无评论</div>\n        </div>\n        <div class="list">\n            <div class="list-box"></div>\n            <div class="list-tip">暂无评论</div>\n        </div>\n    </div>\n    <!--<div class="company-assess-tab-btn box-center btn-green pc-fixed j-href">\n        <div class="fa-icon fa fa-uniF040"></div>\n        <div class="text">我要点评</div>\n    </div>!-->\n\n'),define("tpl/company_reviews_list.tpl",[],'<%\ncomment_list.forEach(function(v,k){\n%>\n\n<div class="com-reviews-item">\n    <div class="dyn-item" did="" style="border: none;">\n        <div class="pson-rep-top">\n            <div class="kw-box com-reviews-per">\n\n                <div class="com-rev-header j-href" data-href="">\n                    <img class="prpt-l-head" src="<%-v.icon %>">\n                </div>\n                <div class="prpt-m kw-flex1">\n                    <div class="kw-txt-li">\n                        <div class="com-rev-name kw-text-over j-href" data-href="" style="margin-bottom: 5px;">\n                            <%-v.username %>\n                        </div>\n                        <div class="com-reviews-score">\n                            <div class="com-rev-score-item" style="margin-right: 5px">\n                                <div class="com-rev-score-txt">专业水平</div>\n\n                                <div class="com-xing-box">\n                                    <div class="com-xing  xing-center">\n                                        <%\n                                        for(var i = 0;i < 5;i++){\n                                        %>\n                                        <div class="com-xing-item fa fa-xing1"></div>\n                                        <%\n                                        }\n                                        %>\n                                    </div>\n\n                                    <div class="com-xing  xing-center com-xing-pos com-profession-xing">\n                                        <%\n                                        for(var i = 0;i < 5;i++){\n                                        %>\n                                        <div class="com-xing-item fa fa-xing1 com-xing-cor"></div>\n                                        <%\n                                        }\n                                        %>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="com-rev-score-item">\n                                <div class="com-rev-score-txt">服务态度</div>\n                                <div class="com-xing-box">\n                                    <div class="com-xing  xing-center">\n                                        <%\n                                        for(var i = 0;i < 5;i++){\n                                        %>\n                                        <div class="com-xing-item fa fa-xing1"></div>\n                                        <%\n                                        }\n                                        %>\n                                    </div>\n\n                                    <div class="com-xing  xing-center com-xing-pos com-service-xing">\n                                        <%\n                                        for(var i = 0;i < 5;i++){\n                                        %>\n                                        <div class="com-xing-item fa fa-xing1 com-xing-cor"></div>\n                                        <%\n                                        }\n                                        %>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                        <div class="prpt-m-name-content <% if(v.content.length > 130){%> active <%}%>">\n                            <%=v.content %>\n                        </div>\n                        <div class="prpt-m-name-tip <% if(v.content.length > 130){%> active <%}%>">查看全文</div>\n                    </div>\n\n                </div>\n            </div>\n\n            <!--  <div class="prpt-r">\n                                    <div class="btn-green prpt-r-atten j-favorite" follow="1">关注</div>\n          </div>-->\n\n        </div>\n    </div>\n\n\n    <div class="com-score-imgs" style="padding-left: 67px;">\n        <div class=prp-imgs-box">\n            <div class="prp-imgs-scroll imgView-data">\n\n                <div class="prp-imgs-item j-imgView-data" imgView-data-src="" style="width: 180px;">\n                    <%\n                    v.pictures.forEach(function(v,k){\n                    %>\n                    <img src=\'<%-v.thumb %>\'/>\n                    <%\n                    })\n                    %>\n                </div>\n\n                <!--<div class="prp-imgs-item j-imgView-data" imgView-data-src="" style="width:110px;height:110px;background-image:url(\'\')"></div>\n\n                <div class="prp-imgs-item j-imgView-data" imgView-data-src="" style="width:72px;height:72px;background-image:url(\'\')"></div>-->\n\n            </div>\n            <div class="banner-btns company-ad-btns"></div>\n        </div>\n    </div>\n\n    <div class="prp-comment" style="padding:0 13px 5px 13px">\n        <div class="prp-comment-tc kw-box" style="padding: 0">\n            <div class="com-evalu-time">></div>\n\n        </div>\n\n\n    </div>\n</div>\n\n\n</div>\n\n</div>\n\n\n<%\n})\n%>'),define("tpl/company_zs.tpl",[],'<div class="company-zs-box">\n    <img class="company-zs-box-img" src="<%=data.thumb %>">\n</div>'),define("tpl/download.tpl",[],'<div class="page-download-main">\n    <%\n    if(common.is_weixn()){\n    %>\n    <div class="page-download-main-wx">\n        <img src="img/wxDownLoad.jpg">\n    </div>\n    <%\n    }else{\n    %>\n    <div class="page-download-main-img pc-fixed">\n        <a class="item ios" href="https://itunes.apple.com/us/app/sun-hai-qu-dao/id1109318929?l=zh&ls=1&mt=8"></a>\n        <a class="item android" href="http://www.pccn.com.cn/app/pccn.apk"></a>\n    </div>\n    <%\n    }\n    %>\n</div>'),define("tpl/dyn.tpl",[],'<div class="dyn">\n    <!--\n    <div class="head2 pc-fixed">\n        <div data-href="#/dyn_post" class="j-href fa fa-edit head2-item box-center kw-head-icon "></div>\n        <div class="kw-box-a-v dyn-head-tabs">\n            <div class="kw-box-center dyn-head-tab">公司动态</div>\n        </div>\n        <div data-href="#/dyn_msg" class="fa fa-envelope-o head2-item box-center kw-head-icon"></div>\n    </div>\n\n    <form class="kw-wp dyn-search pc-fixed">\n        <div class="kw-box-a-v dyn-search-box">\n            <input name="" type="search" value="" class="dyn-sh-input"/>\n            <div class="fa fa-search kw-head-icon dyn-sh-icon"></div>\n        </div>\n    </form>\n\n    -->\n\n\n    <div class="dyn-main">\n        <div class="dyn-list dyn-main-all j-mlist">\n            <div class="dyn-main-scroll"></div>\n        </div>\n    </div>\n\n\n</div>'),define("tpl/dyn_content_item.tpl",[],'<%\n    if(rows.length > 0){\n		var platform = lang.sys().platform;\n        rows.forEach(function(v,k){\n        var dlike = v.demands_like;\n        var comment_list = v.comment_list;\n        if(v.pictures && v.pictures.length <= 0){\n            v.pictures = [C.subject_default];\n        }\n\n	var d_time;\n	var interval = (new Date().getTime() - v.d_time*1 ) / 24 / 60 /60 / 1000;\n    interval >= 1 ? d_time = time.format(v.d_time*1) : d_time = time.diff(v.d_time*1);\n%>\n    <div class="dyn-item" did="<%=v.did %>">\n        <div class="pson-rep-top">\n            <div class="kw-wp kw-box pson-rep-per">\n				<%\n				var link;\n				if(v.subject !== \'\'){\n					link = \'#/company?sid=\' + v.subject.sid\n				}else{\n					link = \'#/person?uid=\' + v.uid\n				}\n				%>\n                <div  class="prpt-l j-href" data-href="<%-link %>">\n                    <img class="prpt-l-head" src="<%=v.icon %>">\n                </div>\n                <div class="prpt-m kw-flex1">\n                    <div class="kw-txt-li">\n                        <div class="prpt-m-name kw-text-over j-href" data-href="<%-link %> "><%=v.realname %></div>\n						<div class="prpt-m-name-content <% if(v.content.length > 130){%> active <%}%>"  >\n							<%=v.content %>\n						</div>\n						<div class="prpt-m-name-tip <% if(v.content.length > 130){%> active <%}%>">查看全文</div>\n                    </div>\n                </div>\n                <%\n                    if(pageType == \'person_reply\'){\n                %>\n                <div class="prpt-r">\n                    <div class="btn-green prpt-r-atten j-favorite" follow="<%if(v.follow_flag == 1){ %> "1" <%}else{%> "0" <% }%> "><%-v.follow_flag == 1 ?\'已关注\':\'关注\' %></div>\n                </div>\n                <%\n                    }\n                %>\n            </div>\n        </div>\n\n\n\n\n    <div class="prp-imgs-wp kw-wp">\n        <div  class= prp-imgs-box" <%if(pageType==\'person_reply\'){%>id="prp-imgs-box"<%}%>>\n            <div class="prp-imgs-scroll imgView-data">\n                <%\n                var pictures;\n                if(v.pictures === \'\'){\n                    pictures = [C.subject_default]\n                }else{\n                    pictures = v.pictures\n                }\n                pictures.forEach(function(v,k){\n\n                %>\n\n				<%\n				if(pictures.length == 1 ){\n				%>\n				<div  class="prp-imgs-item j-imgView-data" imgView-data-src="<%=v %>" style="width: 180px;">\n					<img  src=\'<%=v %>\' />\n				</div>\n				<%\n				}\n				%>\n\n				<%\n				if(pictures.length == 2 ){\n				%>\n				<div class="prp-imgs-item j-imgView-data" imgView-data-src="<%=v %>" style="width:110px;height:110px;background-image:url(\'<%=v %>\')"></div>\n				<%\n				}\n				%>\n\n				<%\n				if(pictures.length >= 3 ){\n				%>\n				<div class="prp-imgs-item j-imgView-data" imgView-data-src="<%=v %>" style="width:72px;height:72px;background-image:url(\'<%=v %>\')"></div>\n				<%\n				}\n				%>\n\n\n                <%\n				})\n                %>\n            </div>\n            <div class="banner-btns company-ad-btns"></div>\n        </div>\n    </div>\n\n	<div class="prp-comment">\n		<div class="prp-comment-tc kw-box">\n			<div class="prp-comment-tc-time"><%-d_time %></div>\n			<div class="prp-comment-tc-control ">\n				<i class="fa fa-wx-comment"></i>\n			</div>\n			<div class="prp-comment-tc-wrap">\n\n				<div class="prp-comment-tc-btn kw-box">\n					<div did="<%=v.did %>"  class="list prp-comment-tc-btn-like kw-box-center">\n						<div class="fa fa-heart-o"></div>\n						<div class="list-text">\n							<%if(dlike.like == 1){%>\n							取消\n							<%}else{%>\n							赞\n							<%}%>\n						</div>\n					</div>\n					<div class="list prp-comment-tc-btn-comment kw-box-center">\n						<div class="fa fa-wx-comment2"></div>\n						<div class="list-text">评论</div>\n						<%\n						if(platform !== \'ios\'){\n						%>\n						<input type="search" placeholder="请输入"/>\n						<%\n						}\n						%>\n					</div>\n					<div class="list-line"></div>\n				</div>\n			</div>\n		</div>\n\n		<div class="prp-comment-main">\n			<%\n			var like_ac = \'a\';\n			if(dlike.all.length !== 0 &&  comment_list.length !== 0){\n			like_ac = \'active\';\n			}\n			%>\n			<div class="prp-comment-main-like <%-like_ac %>" <%if(!dlike.all.length || dlike.all.length == 0 ){ %> style="display: none" <%}%> >\n				<div class="licon fa fa-heart-o"></div>\n\n				<%\n				dlike.all.reverse().forEach(function(v,k){\n					var link;\n					v.sid_data == \'\' ? link = \'#/person?uid=\' + v.uid : link = \'#/company?sid=\' + v.sid_data.sid\n				%>\n				<div uid="<%-v.uid %>" class="list j-href" data-href="<%-link %>"><%-v.realname %></div>\n				<% if(dlike.all[k+1]){ %>\n				<div class="fg">,</div>\n				<%}%>\n				<%\n				})\n				%>\n			</div>\n\n			<div class="prp-comment-main-text" <%if(!comment_list.length || comment_list.length == 0 ){ %> style="display: none" <%}%> >\n				<%\n				comment_list.forEach(function(v,k){\n					var link;\n					v.sid_data == \'\' ? link = \'#/person?uid=\' + v.uid : link = \'#/company?sid=\' + v.sid_data.sid\n				%>\n				<div class="list">\n					<span class="list-name j-href" data-href="<%-link %>"><%-v.realname %></span>\n					<span class="list-content">：<%-v.content %></span>\n				</div>\n				<%\n				})\n				%>\n			</div>\n		</div>\n	</div>\n\n\n\n</div>\n\n\n\n\n<%\n})}else{\n%>\n<div class="dyn-content-none">没有动态!</div>\n<%\n}\n%>'),define("tpl/dyn_post.tpl",[],'<div class="dyn-post">\n    <div class="dp-content-box">\n        <div class="kw-wp dp-content-fix">\n            <textarea placeholder="请填写内容..." name="content"  class="dp-content" ></textarea>\n        </div>\n        <div class="dyn-post-img kw-upload-box"></div>\n        <div class="kw-wp dyn-post-ctr">\n            <div class="fa dpc-item fa-camera dp-camera">\n                <input multiple class="dp-camera-input kw-upload-file" type="file"  value=""/>\n            </div>\n            <div class="fa dpc-item fa-map-marker dp-position"><span class="dp-area-name"><%- common.comp_address() %></span></div>\n        </div>\n    </div>\n</div>\n\n\n<div class="pc-fixed btn-green btn-bf kw-f-bottom dyn-post-ok">发布</div>\n\n\n<div class="dpp-popup pc-fixed">\n    <div class="kw-wp">\n        <div class="dpp-li dpp-popup-del">删除地址</div>\n        <div class="dpp-li dpp-popup-reget">重新获取</div>\n        <div class="dpp-li dpp-popup-cancel">取消</div>\n    </div>\n</div>'),define("tpl/filterBar.tpl",[],'\n<%\n    data.forEach(function(v,k){\n%>\n    <div class="filterBar-item">\n        <div class="filterBar-title">\n            <div class="filterBar-title-text"><%=v.name %></div>\n            <div class="filterBar-title-icon"> > </div>\n        </div>\n        <div class="filterBar-content">\n\n        </div>\n    </div>\n<%\n    })\n%>'),define("tpl/filterBar_content.tpl",[],'<%\n    data.forEach(function(v,k){\n%>\n    <div class="filterBar-content-item" catid="<%=v.catid %>"><%=v.name %></div>\n<%\n    })\n%>'),define("tpl/forget_pw.tpl",[],'<div class="forget-pw-main">\n    <div class="forget-pw-form">\n        <div class="kw-wp kw-box forget-pw-form-item">\n            <input placeholder="您注册时的手机号码" name="mobile" type="number" class="kw-block kw-flex1 kw-input forget-pw-input forget-pw-mobile">\n            <div class="btn-green forget-pw-getCode">获取验证码</div>\n        </div>\n        <div class="kw-wp kw-box forget-pw-form-item">\n            <input placeholder="收到的验证码" name="serial" type="number" class="kw-block kw-flex1 kw-input forget-pw-input">\n        </div>\n        <div class="kw-wp kw-box forget-pw-form-item">\n            <input placeholder="新的密码" name="password" type="password" class="kw-block kw-flex1 kw-input forget-pw-input">\n        </div>\n\n        <div class="kw-box-a-h  forget-pw-confirm">\n            <div class="btn-green forget-pw-confirm-box">提交验证码</div>\n        </div>\n\n\n    </div>\n</div>'),define("tpl/goodsVisitor.tpl",[],'<div class="goodsVisitor">\n    <div class="goodsVisitor-head">\n        <div class="goodsVisitor-head-list">总浏览量：17948</div>\n        <div class="goodsVisitor-head-list">今日浏览量：90</div>\n    </div>\n    <div class="goodsVisitor-scrollBox">\n        <div class="goodsVisitor-main">\n            <%\n            data.forEach(function(v,k){\n            %>\n            <div class="goodsVisitor-main-list">\n                <div class="goodsVisitor-main-list-head"><%-v.date %></div>\n                <%\n                v.data.forEach(function(vi,ki){\n                %>\n                <div class="goodsVisitor-main-list-item">\n                    <div class="tx" style="background-image: url(\'<%-vi.url %>\')"></div>\n                    <div class="ni">\n                        <div class="ni-name"><%-vi.name %></div>\n                        <div class="ni-info"><span><%-vi.time %></span> <span><%-vi.info %></span></div>\n                    </div>\n                </div>\n                <%\n                })\n                %>\n            </div>\n            <%\n            })\n            %>\n        </div>\n    </div>\n</div>'),define("tpl/head1.tpl",[],""),define("tpl/head2.tpl",[],'\n<%\n    var title = head2.title || \'\';\n    var right = head2.right || \'\';\n%>\n<div class="head2 pc-fixed">\n    <div class="head2-item box-center head2-icon j-back">\n		<div class="fa fa-return-left"></div>\n		<div class="head2-icon-mask"></div>\n	</div>\n    <div class="head2-item head2-title text-over"><%=title %></div>\n    <div class="head2-item box-center head2-right"><%if(right)  {%> <%-right %> <%}%></div>\n</div>'),define("tpl/head2_gray.tpl",[],'\n\n\n<div class="pc-fixed head2-gray <%if(common.isWeiXin()){%>wx<%}%>" >\n    <div class="head2-gray-item head2-1-l j-back">\n        <div class="head2-1-l-mask"></div>\n        <div class="fa fa-return-left head2-1l-icon"></div>\n    </div>\n    <div class="head2-gray-item head2-1-bg"></div>\n    <div data-href="/home" class="head2-gray-item head2-1-r j-href">\n        <div class="head2-1-l-mask"></div>\n        <div class="fa fa-head2_home head2-1r-icon ">\n\n        </div>\n    </div>\n</div>\n'),define("tpl/home.tpl",[],'\n<div class="content" id="home-content">\n    <div id="home-content-warp">\n        <div class="content-item content-item-company" style="background: #fff;">\n            <!--<div data-href="#/company_list" class="kw-box j-href content-item-item content-item-title content-company-title">\n                <div class="content-item-title-l">您可能感兴趣的公司</div>\n                <div class="kw-flex1 content-item-title-r">更多</div>\n            </div>-->\n            <div class="home-menu-box"></div>\n            <!--<div class="home-writing-msg">\n                <p>精彩纷呈</p>\n            </div>-->\n\n            <div class="home-pro-advertising">\n                <div class="home-pro-advbox j-href" data-href="#/search_rst?catid=122">\n                    <img src="img/two.png">\n                </div>\n\n                <div class="home-pro-advbox j-href" data-href="#/search_rst?catid=943">\n                    <img src="img/one.png">\n                </div>\n            </div>\n\n            <div class="home-pro-introduction-box">\n            <div class="home-pro-introduction">\n                <div class="home-pro-introduction-left j-href" data-href="#/search_rst?catid=10697!!se_catid=10698">\n                    <img src="img/ic-zhinengshouhuang.png">\n                    <div class="home-pro-intro-text">\n                        <p class="home-pro-introduction-title">智能手环</p>\n                        <p>记录生活点击</p>\n                    </div>\n                </div>\n\n                <div class="home-pro-introduction-right j-href" data-href="#/search_rst?catid=10710">\n                    <img src="img/ic-智能家居.png">\n                    <div class="home-pro-intro-text">\n                        <p class="home-pro-introduction-title">智能家居</p>\n                        <p>让生活更简单</p>\n                    </div>\n                </div>\n            </div>\n            <div class="home-pro-introduction">\n                <div class="home-pro-introduction-left j-href" data-href="#/search_rst?catid=10696">\n                    <img src="img/ic-wurenji-.png">\n                    <div class="home-pro-intro-text">\n                        <p class="home-pro-introduction-title">无人机</p>\n                        <p>不一样的飞行</p>\n                    </div>\n                </div>\n\n                <div class="home-pro-introduction-right j-href" data-href="#/search_rst?catid=235">\n                    <img src="img/ic-car.png">\n                    <div class="home-pro-intro-text">\n                        <p class="home-pro-introduction-title">汽车电子</p>\n                        <p>带来更多驾驶乐趣</p>\n                    </div>\n                </div>\n            </div>\n            <div class="home-pro-introduction">\n                <div class="home-pro-introduction-left j-href" data-href="#/search_rst?catid=791">\n                    <img src="img/ic-yejindianshi.png">\n                    <div class="home-pro-intro-text">\n                        <p class="home-pro-introduction-title">液晶电视</p>\n                        <p>享受视觉盛宴</p>\n                    </div>\n                </div>\n\n                <div class="home-pro-introduction-right j-href" data-href="#/search_rst?catid=943">\n                    <img src="img/ic-wangluohezi.png">\n                    <div class="home-pro-intro-text">\n                        <p class="home-pro-introduction-title">网络盒子</p>\n                        <p>到哪哪都有网</p>\n                    </div>\n                </div>\n            </div>\n            </div>\n\n           <!-- <div class="home-company-main">\n                <div class=\'home-near-shops\'>\n                    <p class=\'home-near-shops-text\'>推荐商家:</p>\n                </div>\n            </div>-->\n        </div>\n        <div></div>\n\n    </div>\n\n\n\n\n</div>'),define("tpl/home_ad.tpl",[],'<div class="home-ad" id="home-ad">\n    <div class="banner-content home-ad-scroll">\n        <%\n            adv_list.forEach(function(v,k){\n        %>\n        <div class="banner-content-item">\n            <img data-href="#/company?sid=<%=v.img_sid %>" src="<%=v.img_src%>" class="j-href kw-img home-scroll">\n        </div>\n        <%\n            })\n        %>\n    </div>\n    <div class="banner-btns home-ad-btns"></div>\n</div>'),define("tpl/home_menu.tpl",[],'\n<div class="home-menu" id="home-menu">\n    <div class="banner-content home-ad-scroll" style="display: -webkit-box;background: #fff;">\n        <%\n        data.forEach(function(v,k){\n        %>\n        <div class="banner-content-item">\n            <div class="home-menu-pages">\n                <div class="home-menu-wrap">\n                    <%\n					for(var x =0;x<4;x++ ){\n					var link =\'#/search_rst?catid=\' + v[x].catid +(v[x].se_catid?\'!!se_catid=\'+ v[x].se_catid : \'\');\n					%>\n                    <div class="home-menu-item-box">\n                        <div class="home-menu-item-bkg j-href" data-href="<%-link %>" style="background: <%= v[x][\'color\'] %>">\n                            <div class="fa home-menu-icon <%= v[x].icon%>" style="font-size: <%= v[x][\'font-size\']%>"></div>\n                        </div>\n                        <p><%= v[x].title%></p>\n                    </div>\n                    <% } %>\n                </div>\n                <div class="home-menu-wrap">\n                    <% for(var y =4;y<8;y++ ){\n                    var link =\'#/search_rst?catid=\' + v[y].catid;\n                    %>\n                    <div class="home-menu-item-box">\n                        <div class="home-menu-item-bkg j-href" data-href="<%- link %>" style="background: <%= v[y][\'color\'] %>">\n                            <div class="fa home-menu-icon <%= v[y].icon%>" style="font-size: <%= v[y][\'font-size\']%>"></div>\n                        </div>\n                        <p><%= v[y].title%></p>\n                    </div>\n                    <% } %>\n                </div>\n            </div>\n        </div>\n        <%\n        })\n        %>\n    </div>\n    <div class="banner-btns home-menu-btn"></div>\n</div>'),define("tpl/login.tpl",[],'<%\n    var userInfo = C.userInfo || {};\n    var username = userInfo[\'username\'] || \'\'\n%>\n<div class="kw-wp login-main">\n    <div class="kw-wp login-box">\n        <div class="kw-input01">\n            <div class="kw-input01-b kw-input01-l"></div>\n            <input class="kw-input01-val login-input login-username" placeholder="用户名" name="username" type="text" value="<%=username %>" />\n            <div class="kw-input01-b kw-input01-r"></div>\n        </div>\n\n        <div class="kw-input01">\n            <div class="kw-input01-b kw-input01-l"></div>\n            <input class="kw-input01-val login-input login-password" placeholder="密码" name="password" type="password" />\n            <div class="kw-input01-b kw-input01-r"></div>\n        </div>\n    </div>\n\n    <div class="btn-green login-btn">登陆</div>\n\n\n    <div class="login-other">\n        <div data-href="#/forget_pw" class="j-href login-other-item login-other-r">忘记密码?</div>\n        <div data-href="#/reg" class="j-href login-other-l">免费注册</div>\n    </div>\n\n</div>'),define("tpl/login_wel.tpl",[],'<div class="login-wel-main pc-fixed" >\n\n\n    <div class="login-wel-wp pc-fixed" id="login-wel-wp">\n        <div class="login-wel-box banner-content">\n            <%\n                for(var i=1,len=2; i <len; i++){\n            %>\n            <div class="banner-content-item kw-box-center login-wel-item login-wel-item0<%=i %>">\n                <img class="lwel-img" src="img/login-wel-item.jpg">\n            </div>\n            <%\n                }\n            %>\n        </div>\n    </div>\n\n\n    <div class="kw-box-center kw-f-bottom login-wel-bottom pc-fixed">\n        <div class="kw-box-a-v login-wel-focus">\n        </div>\n        <div class="kw-box login-wel-b-box">\n            <div data-href="#/reg" class="j-href kw-flex1 login-wel-b-item  login-wel-reg">注册</div>\n            <div data-href="#/login" class="j-href kw-flex1 login-wel-b-item login-wel-login">登陆</div>\n        </div>\n    </div>\n\n</div>'),define("tpl/map.tpl",[],'<div class="map-main" id="map-main">\n\n</div>'),define("tpl/me.tpl",[],'\n<% \n    var u = userinfo;\n%>\n<div class="me">\n    <div class="me-top-info">\n        <div class="kw-box me-person j-href" data-href="#/me_info">\n            <div class="me-ps-l">\n                <div class="me-ps-head">\n                    <img src="<%=u.icon %>" class="mps-head-img">\n                </div>\n            </div>\n\n\n         <div class="me-ps-r">\n             <div class="me-ps-info">\n                 <div class="me-ps-name">\n                     <%-u.realname || u.username  %>\n                 </div>\n                 <span class="me-ps-grade">Lv<%=u.grade %></span>\n             </div>\n             <div class="me-ps-info">\n                 <div class="me-ps-user">\n                     渠道号: <%=u.username %>\n                 </div>\n             </div>\n\n                <!--<div class="kw-txt-li">\n                    <div class="me-ps-name"><%-u.realname || u.username  %></div>\n                    <span class="daren"><%=u.grade %>级达人</span>\n                </div>\n                <div class="kw-txt-li">\n                   <div class="me-ps-uch">油菜号: <%=u.username %></div>\n                </div>\n                <div class="kw-txt-li">\n                    <div class="me-ps-follow">关注: <%=u.follow %></div>\n                    <div class="me-ps-face">粉丝: <%=u.fans %></div>\n                </div>\n                <div class="kw-txt-li">\n                    <div class="me-cat-name"><%=u.cat_name %></div>\n                </div>\n                <div class="me-person-out logout">退出</div>\n                -->\n          </div>\n          <div class="me-r-in fa fa-return-right"></div>\n        </div>\n\n        <div class="top-info-nav">\n            <div class="info-nav-item">\n                <div class="info-nav-num"><%=u.follow %></div>\n                <div class="info-nav-text">关注</div>\n            </div>\n            <div class="info-nav-item">\n                <div class="info-nav-num"><%=u.fans %></div>\n                <div class="info-nav-text">粉丝</div>\n            </div>\n            <div class="info-nav-item">\n                <div class="info-nav-num">000</div>\n                <div class="info-nav-text">访客</div>\n            </div>\n        </div>\n    </div>\n\n    <div class="me-gd">\n        <div data-href="#/person?uid=<%- u.uid %>" class="kw-li me-dyn j-href">\n            <div class="fa fa-my-home me-icon"></div>\n            <div class="me-dyn-text">我的主页</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n        <div data-href="#/person_dyn?uid=<%=C.userInfo.uid %>" class="j-href kw-li me-dyn">\n            <div class="fa fa-dynamic me-icon"></div>\n            <div class="me-dyn-text">我的动态</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n        <div class="kw-li me-dyn j-href" data-href="#/me_offer">\n            <div class="fa fa-money me-dyn-money me-icon"></div>\n            <div class="me-dyn-text">我的报价</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n    </div>\n\n    <div class="me-gd">\n        <div class="kw-li me-rev">\n            <div class="fa fa-reviews me-icon"></div>\n            <div class="me-dyn-text">我的点评</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n    </div>\n    <div class="me-gd">\n        <!--<div data-href="#/rank" class="j-href fa fa-trophy kw-li me-li me-rev">排行榜</div>-->\n        <div class="kw-li me-rev">\n            <div class="fa fa-attention me-icon"></div>\n            <div class="me-dyn-text">我的关注</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n        <div class="kw-li me-rev">\n            <div class="fa fa-fans me-icon"></div>\n            <div class="me-dyn-text">我的粉丝</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n        <div class="kw-li me-rev">\n            <div class="fa fa-visitors me-icon"></div>\n            <div class="me-dyn-text">我的访客</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n    </div>\n\n    <div class="me-gd wx-scan-it">\n        <div class="kw-li me-dyn">\n            <div class="fa fa-saoyisao me-icon"></div>\n            <div class="me-dyn-text">扫一扫</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n    </div>\n\n\n    <div class="me-gd">\n        <div data-href="#/me_info" class="kw-li me-dyn j-href">\n            <div class="fa fa-set-up me-icon"></div>\n            <div class="me-dyn-text">设置</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n    </div>\n\n    <div class="me-gd">\n        <div class="kw-li me-dyn me-person-out logout">\n            <div class="fa fa-quit me-icon"></div>\n            <div class="me-dyn-text">退出</div>\n            <div class="me-r-in fa fa-return-right"></div>\n        </div>\n    </div>\n\n    <div>\n\n\n\n\n\n</div>'),define("tpl/me_info.tpl",[],'<div class="me-info">\n\n	<div class="me-info-list box-center">\n		<div class="attr">头像</div>\n		<div class="val tx">\n			<img src="<%-userinfo.icon %>" />\n            <input type="file" class="tx-upload" value=""/>\n		</div>\n	</div>\n	<div class="me-info-list box-center">\n		<div class="attr">呢称</div>\n		<input type="text" name="realname" class="val" placeholder="请输入呢称" value="<%-userinfo.realname %>">\n	</div>\n	<div class="me-info-list  box-center">\n		<div class="attr">性别</div>\n		<div class="select val">\n			<select name="gender" >\n				<option value="0" <% if(userinfo.gender == \'0\'){ %> selected <%}%> >保密</option>\n				<option value="1" <% if(userinfo.gender == \'1\'){ %> selected <%}%> >男</option>\n				<option value="2" <% if(userinfo.gender == \'2\'){ %> selected <%}%> >女</option>\n			</select>\n		</div>\n	</div>\n	<div class="me-info-list box-center">\n		<div class="attr">常住地</div>\n		<div attr="aid" class="val addr"><%-userinfo.member_address %></div>\n	</div>\n	<div class="me-info-list box-center">\n		<div class="attr">签名</div>\n		<textarea name="signature" placeholder="请输入签名" class="val"><%-userinfo.signature %></textarea>\n	</div>\n	<div class="me-info-btn btn-green pc-fixed">保存</div>\n</div>'),define("tpl/me_offer.tpl",[],'<div class="meOffer">\n    <div class="meOffer-head">\n        <div class="meOffer-head-text">产品报价</div>\n    </div>\n    <div class="product-offer-head">\n        <div class="product-offer-head-item">美图 <span class="fa fa-icon-down"></span></div>\n        <div class="product-offer-head-mask"></div>\n        <div class="product-offer-head-box">\n            <div data-id="3446" class="list">美图</div>\n        </div>\n    </div>\n    <div class="product-offer-main">\n        <div class="product-offer-main-list head">\n            <div class="item">型号</div>\n            <div class="item">参数</div>\n            <div class="item">京东价</div>\n            <div class="item">同行价</div>\n        </div>\n        <%\n        for (var i = 0, len = 5; i < len; i++){\n        %>\n        <div class="product-offer-main-list j-href" data-href="#/productDetail">\n            <div class="item">美图手机</div>\n            <div class="item">32G</div>\n            <div class="item">280.00</div>\n            <div class="item sp">299.0</div>\n        </div>\n        <%\n        }\n        %>\n    </div>\n    <div class="meOffer-bottom">\n        <div class="meOffer-bottom-icon j-href" data-href="#/product_release" style="background-image: url(\'img/me-offer-add.png\')"></div>\n    </div>\n</div>'),define("tpl/mlist_update.tpl",[],'<div class="mlist-update">\n    <i class="fa fa-lg fa-long-arrow-down arrow"></i>\n    <div class="mlist-update-sta">\n        <div class="mlist-update-text">下拉更新</div>\n        <div class="mlist-update-time">最后更新 : <span class="last-time">没有</span></div>\n    </div>\n</div>'),define("tpl/page_img_view.tpl",[],'<div class="page-img-view">\n	<div class="banner-btns"></div>\n	<div class="page-img-view-back j-back">\n		<div class="page-img-view-back-icon fa fa-chevron-left"></div>\n		<div class="page-img-view-back-mask"></div>\n	</div>\n</div>'),define("tpl/page_img_view_list.tpl",[],'<%\ndata.forEach(function(v,k){\n%>\n<div class="page-img-view-main-item banner-content-item">\n	<div class="list">\n		<div class="list-content">\n			<img src="<%-v %>" />\n		</div>\n	</div>\n</div>\n<%\n})\n%>'),define("tpl/person.tpl",[],'\n<%\n    var info = userinfo,keyword = [];\n    linksubject.forEach(function(v1,k1){\n        var word  = \'\';\n        word += v1.cat_name + \' \';\n        v1.brands.forEach(function(v2,k2){\n            word += v2.name + \' \';\n        })\n        word += v1.str_c_type;\n        keyword[k1] = word;\n    })\n%>\n\n\n<div class="personal-home">\n    <div class="personal-head box-center" style="background-image: url(\'img/head_bg.png\')">\n        <!--<div class="attr">头像</div>-->\n        <div class="per-head-portrait">\n            <img class="per-head-img" src="<%=info.icon %>" />\n        </div>\n\n        <div class="per-info-box display-center">\n            <div class="per-user-name"><%=info.realname || info.username %></div>\n            <div class="per-attention-info display-center">\n                <div class="per-attention-text">关注</div>\n                <div class="per-attention-num"><%=info.follow %></div>\n                <div class="per-attention-line"></div>\n                <div class="per-attention-text">粉丝</div>\n                <div class="per-attention-num"><%=info.fans %></div>\n            </div>\n        </div>\n\n    </div>\n    <div class="personal-bg"></div>\n    <div data-href="#/" class="per-info-item j-href">\n        <div class="per-info-name">公司</div>\n        <div class="per-info-text" style="font-size: 15px"><%=info.company_name %></div>\n    </div>\n    <div data-href="#/" class="per-info-item j-href">\n        <div class="per-info-name">地址</div>\n        <div class="per-info-text"><%=info.address %></div>\n    </div>\n    <div data-href="#/" class="per-info-item j-href">\n        <div class="per-info-name">主营</div>\n        <div class="per-info-text">联想笔记本</div>\n    </div>\n    <div class="per-info-item">\n        <div class="per-info-name"></div>\n        <div class="per-info-text"></div>\n    </div>\n    <div class="personal-bg"></div>\n    <div class="per-nav">\n        <div class="per-nav-item display-center">\n            <div class="per-nav-txt">企业简介</div>\n            <div class="per-nav-line"></div>\n        </div>\n        <div class="per-nav-item display-center init-mlist">\n            <div class="per-nav-txt active">动态</div>\n            <div class="per-nav-line active"></div>\n        </div>\n        <div class="per-nav-item display-center">\n            <div class="per-nav-txt">我写的点评</div>\n            <div class="per-nav-line"></div>\n        </div>\n    </div>\n\n    <div class="company-score-list">\n        <div class="per-list-box">\n            <div class="company-tips">暂无简介</div>\n        </div>\n        <div class="per-list-box active">\n            <div class="company-tips">暂无新闻</div>\n            <div class="com-score-content">\n                <div class="com-score-scroll">\n\n                </div>\n            </div>\n        </div>\n        <div class="per-list-box">\n            <div class="company-tips">暂无点评</div>\n        </div>\n    </div>\n\n\n\n    <div class="per-foot-nav pc-fixed">\n        <div class="per-foot-box">\n            <div class="per-foot-nav-item display-center">\n                <div class="fa fa-iconfont-jia per-foot-attention"></div>\n                <div class="per-foot-nav-txt active j-favorite" follow=<%if(info.follow_flag == 1){ %> "1" <%}else{%> "0" <% }%> > <%-info.follow_flag == 1 ?\'已关注\':\'关注\' %> </div>\n            </div>\n            <div class="per-foot-line"></div>\n            <div class="per-foot-nav-item display-center">\n                <div class="per-foot-nav-txt">聊天</div>\n            </div>\n            <div class="per-foot-line"></div>\n            <div class="per-foot-nav-item display-center">\n                <a class="per-foot-nav-txt" href="tel:<%=info.mobile %>">打电话</a>\n            </div>\n         </div>\n    </div>\n\n</div>\n\n\n\n<!--<div class="person-main">\n    <div class="person-main-item">\n        <div class="main-item person-ms ">\n            <div class="person-head">\n                <img class="person-head-img" src="<%=info.icon %>">\n            </div>\n            <div class="person-ms-box">\n                <div class="person-msbox-item ">\n                    <div class="person-ms-name text-over"><%=info.realname || info.username %></div>\n                    <div class="person-ms-isAgree">\n                        <div class=" isAgree-item  isAgree-yes <%if(info.likes_flag ==\'0\'){%> active <%}%>">\n                            <span class="fa fa-thumbs-o-up"></span><span class="num"><%=info.likes_num %></span></div>\n                        <div class="isAgree-item isAgree-no <%if(info.step_flag == \'0\'){ %> active <% }%>">\n                            <span class="fa fa-thumbs-o-down"></span><span class="num"><%=info.step_num %></span></div>\n                    </div>\n\n                </div>\n                <div class="person-msbox-item">\n                    <div class="person-atten text-over">关注: <%=info.follow %></div>\n                    <div class="person-fans text-over">粉丝: <%=info.fans %></div>\n                </div>\n                <div class="person-msbox-item" style="margin-bottom: 10px;">\n                    <div class="person-keyword text-over"><%=keyword[0] %></div>\n                </div>\n                <div class="person-msbox-item">\n                    <div class="person-level box-center">\n                        <%\n                            info.str_c_type.split(\' \').forEach(function(v,k){\n                        %>\n                        <span class="icon icon-level icon-t-<%=C.icon_cn[v] %>"></span>\n                        <%\n                            })\n                        %>\n\n                        <span class="daren"><%=info.grade %>级达人</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="main-item">\n            <div class="person-identity text-over"><%=info.company_name %></div>\n        </div>\n        <div class="main-item main-item03 ">\n            <div class="person-address"><%=info.address %></div>\n            <div class="person-attenBtn ">\n                <div class="btn-green person-attenBtn-btn j-favorite" follow=<%if(info.follow_flag == 1){ %> "1" <%}else{%> "0" <% }%> > <%-info.follow_flag == 1 ?\'已关注\':\'关注\' %></div>\n            </div>\n        </div>\n    </div>\n\n    <%\n        linksubject.forEach(function(v,k){\n    %>\n        <div data-href="#/company?sid=<%=v.sid %>" class="person-main-item person-zs j-href">\n            <div class="person-zs-imgs">\n                <img class="person-zs-img" src="<%-v.thumb ? v.thumb : C.noface1 %>">\n            </div>\n            <div class="person-zs-ms">\n                <div class="person-zs-ms-item">\n                    <div class="person-zs-name"><%=v.name %></div>\n                </div>\n                <div class="person-zs-ms-item person-zs-addup">\n                    <div class="person-zs-addup-item person-zs-browse">浏览 <span class="browse-num"><%=v.pageviews %></span></div>\n                    <div class="person-zs-addup-item person-zs-comment">评论 <span class="comment-num"><%=v.reviews %></span></div>\n                    <div class="person-zs-addup-item person-zs-distance">距离 <span class="distance-num"><%=v.juli %></span></div>\n                </div>\n                <div class="person-zs-ms-item">\n                    <div class="person-zs-des"><%=keyword[k] %></div>\n                </div>\n            </div>\n        </div>\n    <%\n        })\n    %>\n\n\n\n\n    <div data-href="#/person_dyn?uid=<%=info.uid %>" class="j-href person-main-item person-dyn">\n        <div class="person-dyn-item person-dyn-num ">个人动态 <span class="num text-over"><%=moving.demand_count %></span>条</div>\n        <div class="person-dyn-item person-dyn-imgs">\n            <%\n                moving.pictures.forEach(function(v,k){\n            %>\n                <div class="person-dyn-img">\n                    <img class="pdyn-img" src="<%=v%>">\n                </div>\n            <%\n                })\n            %>\n        </div>\n        <div class="fa fa-chevron-right person-dyn-item person-dyn-icon"></div>\n    </div>\n\n\n    <div class="person-main-item person-other">\n        <div class="person-other-item">城市: <%=info.area %></div>\n        <div class="person-other-item">签名: <%=info.signature %></div>\n    </div>\n</div>\n\n\n<div class="box-center person-bottom pc-fixed">\n    <div class="person-bottom-btn box-center person-bottom-talk">对话</div>\n    <a class="person-bottom-btn box-center person-bottom-phone" href="tel:<%=info.mobile %>">电话</a>\n</div>-->'),define("tpl/person_dyn.tpl",[],'\n\n<%\nvar a= tpl.render(tpl_dci,{rows : rows,pageType:pageType});\n%>\n\n<div id="persondyn-wp">\n    <div class="persondyn-box">\n        <div class="persondyn-head">\n            <div class="persondyn-head-box">\n                <div class="persondyn-head-imgs">\n                    <img src="<%=icon %>" class="persondyn-head-img">\n                </div>\n                <div class="persondyn-head-name"><%=realname %></div>\n            </div>\n\n        </div>\n\n\n        <div class="persondyn-main">\n            <div class="dyn-content">\n                <%-tpl.render(tpl_dci,{rows : rows,pageType:pageType}) %>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n'),define("tpl/person_reply.tpl",[],'\n<div class="kw-pop-panel prep-more-pl">\n    <div class="fa fa-caret-up kw-opt-panel-arrow"></div>\n    <div class="kw-opt-panel-list">\n        <div class="kw-pop-panel-item prep-more-del">删除</div>\n    </div>\n\n</div>\n\n<%-tpl.render(tpl_dyn_item,{\'rows\':[comment],\'pageType\':\'person_reply\'}) %>\n\n<div class="pson-rep-main">\n    <div class="kw-title pson-rep-title">评论<span class="prp-s-title">(共有<%-list.length%>条评论)</span></div>\n    <div class="pson-rep-box">\n        <%\n        list.forEach(function(v,k){\n        %>\n        <div class="kw-box kw-wp pson-rep-item">\n            <div data-href="#/person?uid=<%=v.uid %>" class="j-href kw-box-center pson-rep-item-l">\n                <img src="<%=v.icon %>" class="prep-item-head">\n            </div>\n            <div class="kw-box-v pson-rep-item-r">\n                <div class="kw-txt-li kw-text-over prep-comm-name"><%=v.username %></div>\n                <div class="kw-txt-li prep-content"><%=v.content %></div>\n                <div class="kw-txt-li prep-comm-time"><%-time.diff(v.posttime) %></div>\n            </div>\n        </div>\n        <%\n        })\n        %>\n    </div>\n</div>\n\n\n\n\n\n\n\n\n\n<div class="f-bottom kw-box pson-rep-bootom pc-fixed">\n    <div data-href="#/person_replay_post?did=<%=did %>" class="j-href kw-box-center prep-bottom-item prep-bottom-rev">\n        <div class="fa fa-comment-o prep-bottom-icon"></div>\n        <div class="prep-bottom-texst">评论</div>\n    </div>\n    <div class="kw-box-center prep-bottom-item" style="display: none;">\n        <div class="prep-bottom-icon"></div>\n        <div class="prep-bottom-texst">对话</div>\n    </div>\n</div>\n'),define("tpl/person_reply_post.tpl",[],'<div class="prp-main">\n    <div class="prp-intext-fix">\n        <textarea class="prp-main-intext" placeholder="发评论..."></textarea>\n    </div>\n</div>'),define("tpl/personal_home.tpl",[],'<div class="personal-home">\n    <div class="personal-head box-center" style="background-image: url(\'img/head_bg.png\')">\n        <!--<div class="attr">头像</div>-->\n        <div class="per-head-portrait">\n            <img class="per-head-img" src="img/head_bg.png" />\n        </div>\n\n        <div class="per-info-box display-center">\n            <div class="per-user-name">哈哈</div>\n            <div class="per-attention-info display-center">\n                <div class="per-attention-text">关注</div>\n                <div class="per-attention-num">2312</div>\n                <div class="per-attention-line"></div>\n                <div class="per-attention-text">粉丝</div>\n                <div class="per-attention-num">2342</div>\n            </div>\n        </div>\n\n    </div>\n    <div data-href="#/" class="per-info-item j-href">\n        <div class="per-info-name">公司</div>\n        <div class="per-info-text">广州市中渠传媒广告有限公司</div>\n    </div>\n    <div data-href="#/" class="per-info-item j-href">\n        <div class="per-info-name">地址</div>\n        <div class="per-info-text">广州市天河区天河路百脑汇A座8楼808室</div>\n    </div>\n    <div data-href="#/" class="per-info-item j-href">\n        <div class="per-info-name">主营</div>\n        <div class="per-info-text">联想笔记本</div>\n    </div>\n    <div data-href="#/" class="per-info-item j-href">\n        <div class="per-info-name"></div>\n        <div class="per-info-text"></div>\n    </div>\n\n    <div class="per-nav">\n        <div class="per-nav-item display-center">\n            <div class="per-nav-txt">企业简介</div>\n            <div class="per-nav-line"></div>\n        </div>\n        <div class="per-nav-item display-center init-mlist">\n            <div class="per-nav-txt active">动态</div>\n            <div class="per-nav-line active"></div>\n        </div>\n        <div data-href="#/" class="per-nav-item display-center j-href">\n            <div class="per-nav-txt">我写的点评</div>\n            <div class="per-nav-line"></div>\n        </div>\n    </div>\n\n    <div class="company-score-list">\n        <div class="com-score-content">\n            <div class="com-score-scroll">\n\n            </div>\n        </div>\n    </div>\n\n\n    <div class="per-foot-nav pc-fixed">\n        <div class="per-foot-nav-item display-center">\n            <div class="fa fa-iconfont-jia per-foot-attention"></div>\n            <div class="per-foot-nav-txt active">关注</div>\n        </div>\n        <div class="per-foot-nav-item display-center">\n            <div class="per-foot-nav-txt">聊天</div>\n        </div>\n        <div data-href="#/" class="per-foot-nav-item display-center j-href">\n            <div class="per-foot-nav-txt">打电话</div>\n        </div>\n    </div>\n</div>'),define("tpl/productDetail.tpl",[],'<div class="productDetail">\n    <div class="productDetail-head">\n        <div class="banner-content">\n            <%\n            for (var i = 0, len = 3; i < len; i++){\n            %>\n            <div class="banner-content-item" style="background-image: url(\'http://pic.paopaoche.net/up/2015-6/2015060314593138989.jpg\')"></div>\n            <%\n            }\n            %>\n        </div>\n        <div class="banner-btns "></div>\n    </div>\n\n    <div class="productDetail-main">\n        <div class="productDetail-main-item xinghao">\n            <div class="attr">型号</div>\n            <div class="val">苹果iphone 6s 16G移动联通电信4G手机(国行)</div>\n        </div>\n        <div class="productDetail-main-item">\n            <div class="attr">介绍</div>\n            <div class="val">圆弧形边缘，视网膜Retina技术，上传下载迅速</div>\n        </div>\n        <div class="productDetail-main-item price">\n            <div class="item hangjia">￥ 5080</div>\n            <div class="mIcon">有货</div>\n            <div class="item jingdong">京东价：￥5880</div>\n        </div>\n        <div class="productDetail-main-item">\n            <div class="attr">参数</div>\n            <div class="val">移动TD-LTE, 联通TD-LTE, 电信TD-LTE</div>\n        </div>\n        <div class="productDetail-main-item">\n            <div class="val">选择机身颜色,机身内存,版本类型</div>\n        </div>\n    </div>\n</div>\n<div class="product-offer-btn-guanz">关注</div>'),define("tpl/product_offer.tpl",[],'<div class="product-offer">\n    <div class="product-offer-head">\n        <div class="product-offer-head-item"><%-product_array[0].brand_name %> <span class="fa fa-icon-down"></span></div>\n        <div class="product-offer-head-mask"></div>\n        <div class="product-offer-head-box">\n            <%\n            product_array.forEach(function(v,k){\n            %>\n            <div data-id="<%-v.id %>" class="list"><%-v.brand_name %></div>\n            <%\n            })\n            %>\n        </div>\n    </div>\n    <div class="product-offer-updateTime">上次更新时间：2016-09-09</div>\n\n    <div class="product-offer-main">\n        <div class="product-offer-main-list head">\n            <div class="item">型号</div>\n            <div class="item">参数</div>\n            <div class="item">京东价</div>\n            <div class="item">同行价</div>\n        </div>\n        <%\n        for (var i = 0, len = 1; i < len; i++){\n        var data = product_array[0];\n        %>\n        <div class="product-offer-main-list j-href" data-href="#/productDetail">\n            <div class="item"><%-data.goods_name %></div>\n            <div class="item"><%-data.detail %></div>\n            <div class="item"><%-data.retail_price %></div>\n            <div class="item sp"><%-data.peer_price %></div>\n        </div>\n        <%\n        }\n        %>\n    </div>\n    <div class="product-offer-updateTime tip">此报价仅供参考，请以电话报价为准。</div>\n\n    <div class="product-offer-client">\n        <div class="product-offer-client-head">\n            <div class="text">浏览过的人</div>\n            <div class="micon"><i class="fa fa-wx-comment"></i></div>\n            <!--此处使用的是动态页面的样式-->\n            <div class="prp-comment-tc-wrap">\n                <div class="prp-comment-tc-btn kw-box">\n                    <div class="list prp-comment-tc-btn-like kw-box-center">\n                        <div class="fa fa-heart-o"></div>\n                        <div class="list-text">赞</div>\n                    </div>\n                    <div class="list prp-comment-tc-btn-comment kw-box-center">\n                        <div class="fa fa-wx-comment2"></div>\n                        <div class="list-text">评论</div>\n                    </div>\n                    <div class="list-line"></div>\n                </div>\n            </div>\n        </div>\n        <div class="product-offer-client-tx">\n            <%\n            for (var i = 0, len = 30; i < len; i++){\n            %>\n\n            <%\n            if(i == 17){\n            %>\n            <div class="list micon fa fa-chevron-right j-href" data-href="#/goodsVisitor?id=1"></div>\n            <%\n            break;\n            }\n            %>\n            <div class="list" style="background-image: url(\'http://img01.store.sogou.com/app/a/10010016/dff11d611fd0cf9bfd5cb22e5de21965\')"></div>\n            <%\n            }\n            %>\n        </div>\n\n        <div class="product-offer-client-zp">\n            <div class="praise">\n                <div class="praise-icon"></div>\n                <%\n                for (var i = 0, len = 15; i < len; i++){\n                %>\n                <span class="praise-list">canye</span>\n\n                <%\n                if(i+ 1 !== len && i !== 14){\n                %>\n                <span class="praise-fg">,</span>\n                <%\n                }\n                %>\n\n                <%\n                if(i == 14){\n                %>\n                <span class="praise-list">等20人觉得很赞</span>\n                <%\n                break;\n                }\n\n\n                }\n                %>\n            </div>\n\n            <div class="comment">\n                <%\n                for (var i = 0, len = 3; i < len; i++){\n                %>\n                <div class="comment-list">\n                    <div class="comment-list-name">canye：</div>\n                    <div class="comment-list-text">不错很赞！</div>\n                </div>\n                <div class="comment-list">\n                    <div class="comment-list-name">canye：</div>\n                    <div class="comment-list-text">不错很赞！不错很赞！不错很赞！不错很赞！不错很赞！不错很赞！不错很赞！不错很赞！</div>\n                </div>\n                <%\n                }\n                %>\n            </div>\n        </div>\n    </div>\n    <div class="product-offer-btn pc-fixed">\n        <div class="product-offer-btn-guanz"><i class="fa fa-heart-o"></i>关注</div>\n    </div>\n</div>'),define("tpl/product_release.tpl",[],'<div class="product-release">\n    <div class="product-release-item">\n        <div class="product-release-item-list bor">\n            <div class="micon"><img src="img/me-offer-xinghao.png"></div>\n            <input class="val" type="text" placeholder="型号" />\n        </div>\n        <div class="product-release-item-blockList">\n            <div class="product-release-item-list">\n                <div class="micon"><img src="img/me-offer-img.png"></div>\n                <div class="val">上传图片</div>\n            </div>\n            <div class="img-box">\n                <div class="img-box-list" style="background-image: url(\'http://img01.store.sogou.com/app/a/10010016/dff11d611fd0cf9bfd5cb22e5de21965\')"></div>\n                <div class="img-box-list add" style="background-image: url(\'img/me-offer-push.png\')">\n                    <input style="opacity: 0;" type="file" />\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="product-release-item" style="display: -webkit-box;padding: 0.025rem 3%;">\n        <div class="micon"><img src="img/me-offer-canshu.png"></div>\n        <textarea class="val canshu" placeholder="参数"></textarea>\n    </div>\n    <div class="product-release-item">\n        <div class="product-release-item-list bor">\n            <div class="micon"><img src="img/me-offer-jing.png"></div>\n            <input class="val" type="text" placeholder="京东价" />\n        </div>\n        <div class="product-release-item-list">\n            <div class="micon"><img src="img/me-offer-hang.png"></div>\n            <input class="val" type="text" placeholder="同行价" />\n        </div>\n    </div>\n    <div class="product-release-btn">\n        <div class="product-release-btn-item">\n            <img src="img/me-offer-right.png">\n            <div class="text">有货</div>\n        </div>\n        <div class="product-release-btn-item">\n            <img src="img/me-offer-error.png">\n            <div class="text">没货</div>\n        </div>\n    </div>\n    <div class="product-release-item" style="display: -webkit-box;padding: 0.025rem 3%;">\n        <textarea class="val jieshao" placeholder="简单介绍"></textarea>\n    </div>\n</div>'),define("tpl/rank.tpl",[],'\n\n<div class="rank-main">\n    <div class="rank-list">\n        <%\n        data.forEach(function(v,k){\n        %>\n        <div class="kw-li rank-li">\n            <div class="kw-box-a-v rank-li-item rank-li-l"><%=k %></div>\n            <div data-href="#/person?uid=<%=v.uid %>" class="j-href kw-box-a-v  rank-li-item rank-li-m">\n                <img class="rank-li-m-img" src="<%=v.face %>">\n            </div>\n            <div class="kw-box-v rank-li-item rank-li-r">\n                <div class="kw-txt-li">\n                    <span class="rank-li-name"><%=v.realname %></span>\n                    <span class="rank-li-fans">粉丝 <%=v.fans %></span>\n                </div>\n                <div class="kw-txt-li">\n                    <span class="kw-text-over rank-li-pinpai"><%=v.pinpai %></span>\n                </div>\n            </div>\n        </div>\n\n        <%\n        })\n        %>\n    </div>\n</div>\n'),define("tpl/reg.tpl",[],'<div class="reg-main">\n    <div class="kw-wp reg-group">\n        <div class="kw-box-a-v kw-wp reg-phone-box">\n            <div class="fa fa-mobile reg-icon reg-phone-icon"></div>\n            <div class="kw-flex1 reg-phone-input">\n                <div class="kw-input01">\n                    <div class="kw-input01-b kw-input01-l"></div>\n                    <input class="kw-input01-val" placeholder="请输入您的手机号码" name="mobile" type="number" value="" />\n                    <div class="kw-input01-b kw-input01-r"></div>\n                </div>\n            </div>\n            <div class="btn-green reg-phone-getCode">获取验证码</div>\n        </div>\n\n        <div class="kw-box-a-v kw-wp">\n            <div class="fa fa-lock reg-icon reg-password-icon"></div>\n            <div class="kw-flex1 ">\n                <div class="kw-input01">\n                    <div class="kw-input01-b kw-input01-l"></div>\n                    <input class="kw-input01-val " placeholder="请输入您的密码,6-18位" name="password" type="password" value="" />\n                    <div class="kw-input01-b kw-input01-r"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <div class="kw-wp reg-group">\n        <div class="kw-box-a-v kw-wp ">\n            <div class="fa fa-edit reg-icon reg-vcode-icon"></div>\n            <div class="kw-flex1">\n                <div class="kw-input01">\n                    <div class="kw-input01-b kw-input01-l"></div>\n                    <input class="kw-input01-val " placeholder="请输手机上获取的验证码" name="serial" type="number" value="" />\n                    <div class="kw-input01-b kw-input01-r"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="kw-box-a-h kw-wp reg-confirm">\n        <div class="btn-green reg-confirm-box">注册</div>\n    </div>\n</div>'),define("tpl/search_adv.tpl",[],'\n\n\n\n<div class="banner-content home-ad-scroll" >\n    <% adv_list.forEach(function(v,k){ %>\n        <div class="banner-content-item" >\n            <img data-href="#/company?sid=<%=v.img_sid %>" src="<%=v.img_src %>" class="j-href kw-img home-scroll">\n        </div>\n    <% })%>\n</div>\n<div class="banner-btns box-center">\n</div>\n\n'),define("tpl/search_common.tpl",[],'<div class="mask pc-fixed"></div>\n\n\n<div class="search-filter">\n\n\n	<div class="kw-filter-box">\n		<div class="kw-box-a-v bc-g kw-filter-ti schf-ti">\n			<div class="kw-filtic-item sfilter-item">\n				<div class="sfilteri-text kw-filti-tip">分类</div>\n				<div class="fa fa-uniF0DA sfilteri-icon"></div>\n			</div>\n			<div class="kw-filtic-item sfilter-item">\n				<div class="sfilteri-text kw-filti-tip">产品</div>\n				<div class="fa fa-uniF0DA sfilteri-icon"></div>\n			</div>\n			<div class="kw-filtic-item sfilter-item">\n				<div class="sfilteri-text kw-filti-tip">品牌</div>\n				<div class="fa fa-uniF0DA sfilteri-icon"></div>\n			</div>\n		</div>\n\n		<div class="kw-filcot">\n\n			<div class="kw-filcot-item">\n				<%\n				categories.forEach(function(v,k){\n				%>\n				<div class="kw-filcoti-val" catid="<%-v.catid %>" pid="<%-v.pid %>" listorder="<%-v.listorder %>" cat_type="<%-v.cat_type %>" filter-text="<%=v.name %>"><%=v.name %></div>\n				<%\n				})\n				%>\n			</div>\n			<div class="kw-filcot-item">\n\n			</div>\n			<div class="kw-filcot-item">\n\n			</div>\n\n		</div>\n	</div>\n\n</div>\n\n<% if (common.is_weixn()){ %>\n<div class="record-search-btn j-href" data-href="#/searchs">\n    <div  style="background-image: url(\'img/searchs-recording.png\')"></div>\n</div>\n<% } %>'),define("tpl/search_rst.tpl",[],'\n<div class="searst-tag-wp" >\n    <div class="lc-tag-drop-down searst-tag">\n        <div class="lc-tdd-bar">\n            <div class="lc-tddb-item searst-tddb-item">\n                <div class="lc-tddbi-text">分类</div>\n                <div class="fa fa-uniF0D7 lc-tddbi-icon"></div>\n            </div>\n            <div class="lc-tddb-item searst-tddb-item">\n                <div class="lc-tddbi-text">种类</div>\n                <div class="fa fa-uniF0D7 lc-tddbi-icon"></div>\n            </div>\n            <div class="lc-tddb-item searst-tddb-item">\n                <div class="lc-tddbi-text">品牌</div>\n                <div class="fa fa-uniF0D7 lc-tddbi-icon"></div>\n            </div>\n        </div>\n        <div class="lc-tdd-list">\n            <div class="lc-tddl-item searst-tddl-item"></div>\n            <div class="lc-tddl-item searst-tddl-item"></div>\n            <div class="lc-tddl-item searst-tddl-item"></div>\n        </div>\n    </div>\n</div>\n\n<div id="search_rst_mlist_box"></div>\n'),define("tpl/search_rst_item.tpl",[],'\n\n\n\n\n<%\n    data.forEach(function(v,k){\n    var link_user = v.link_user.length > 0 ? v.link_user[0] : false;\n    var grade = link_user.grade ? link_user.grade / 5 *100 + 1 : 0;\n    var like = link_user.fans && link_user.fans > 0  ? link_user.fans : 0;\n%>\n<div class="sr_seller_item">\n    <%\n        if(link_user){\n    %>\n        <div data-href="#/person_dyn?uid=<%=link_user[\'uid\']%>" class="j-href srsi_lead">\n            <img src="<%-link_user[\'face\'] %>" class="srsil_l">\n            <div class="srsil_m">\n                <div class="srsilm_t">\n                    <div class="srsilmt_name"><%=v.c_lianxiren %></div>\n                    <div class="fa fa-011 srsilmt_icon">\n                        <span class="path1"></span>\n                        <span class="path2"></span>\n                        <span class="path3"></span>\n                        <span class="path4"></span>\n                        <span class="path5"></span>\n                        <span class="path6"></span>\n                        <span class="path7"></span>\n                        <span class="path8"></span>\n                        <span class="path9"></span>\n                        <span class="path10"></span>\n                        <span class="path11"></span>\n                        <span class="path12"></span>\n                    </div>\n                    <div class="srsilmt_browse"><%=v.pageviews %>浏览</div></div>\n                <div class="srsilm_b">负责人 | 有详细报价</div></div>\n        </div>\n    <%\n        }\n    %>\n\n    <div class="srsi_comp">\n        <div class="srsic_t j-href" data-href="#/company?sid=<%=v.sid %>">\n            <%\n            if(v.thumb){\n            %>\n            <img src="<%=v.thumb %>" class="srsict_l">\n            <% } %>\n            <div class="srsict_r">\n                <%\n                if(!link_user){\n                %>\n                <div class="srsictr_pviews"><%=v.pageviews %>浏览</div>\n                <% } %>\n                <div class="srsictr_item srsictr_name"><%=v.name %></div>\n                <div class="srsictr_item srsictr_level">\n                    <div class="assess-add-list-item xing">\n                        <div class="xing-list bottom box-center">\n                            <div class="xing-list-item fa fa-xing2"></div>\n                            <div class="xing-list-item fa fa-xing2"></div>\n                            <div class="xing-list-item fa fa-xing2"></div>\n                            <div class="xing-list-item fa fa-xing2"></div>\n                            <div class="xing-list-item fa fa-xing2"></div>\n                        </div>\n                        <div class="xing-list ctop box-center" style="width: <%=grade%>%">\n                            <div class="xing-list-item fa fa-xing2"></div>\n                            <div class="xing-list-item fa fa-xing2"></div>\n                            <div class="xing-list-item fa fa-xing2"></div>\n                            <div class="xing-list-item fa fa-xing2"></div>\n                            <div class="xing-list-item fa fa-xing2"></div>\n                        </div>\n                    </div>\n                    <div class="srsictr_num">服务<%=v.callcount %>次</div></div>\n                <div class="srsictr_item srsictr_major">主营：<%=v.pinpai %></div>\n                <div class="srsictr_address">\n                    <span class="fa fa-loca srsictra_icon"></span>\n                    <span class="srsictra_add"><%=v.c_address %></span>\n                </div>\n            </div>\n        </div>\n        <div class="srsic_b">\n            <div class="srsicb_item srsicb_comment">\n                <div class="fa fa-whact srsicbc_icon">\n                    <span class="path1"></span>\n                </div>\n                <div class="srsicbc_text"><%=v.reviews %></div></div>\n            <div class="srsicb_item srsicb_like">\n                <div class="fa fa-like srsicbl_icon"></div>\n                <div class="srsicbc_text"><%=like %></div></div>\n            <div class="srsicb_item srsicb_call">\n                <div class="fa fa-017 srsicbcall_icon"></div>\n                <div class="srsicbc_text">呼一呼</div></div>\n            <div class="srsicb_item srsicb_tel" tel="<%=v.c_mobile %>,<%=v.c_telephone %>">\n                <div class="fa fa-tel srsicbtel_icon"></div>\n                <div class="srsicbc_text">打电话</div></div>\n        </div>\n    </div>\n</div>\n\n<% })%>\n'),define("tpl/search_rst_list.tpl",[],'<div id="search_rst_mlist" class="">\n    <div class="search-rst-scroll">\n        <div class="search-rst-banner" id="search-rst-banner"></div>\n        <div class="search-rst-main">\n            <div class="search_rst_call">\n                <div class="srstc-l">\n                    <div class="fa fa-callbtn srstc-l-icon">\n                        <span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span>\n                    </div>\n                </div>\n                <div class="srstc-r">\n                    <div class="srstcr-txt1">一键呼叫</div>\n                    <div class="srstcr-txt2">在线商家即刻反应，主动呼叫</div>\n                </div>\n                <div class="fa fa-return-right srstc-icon"></div>\n            </div>\n            <div class="search_rst_seller"></div>\n        </div>\n    </div>\n</div>\n'),define("tpl/searchs.tpl",[],'<div class="searchs-box">\n    <div class="searchs-box-logo">\n        <img src="img/searchs-logo.png">\n    </div>\n    <form class="searchs-box-inp">\n        <input type="search" placeholder="输入您要找的产品"  />\n        <div class="fa fa-s-search "></div>\n    </form>\n    <div class="searchs-box-hint hot ">\n        <div class="searchs-box-hint-tit">说出您要找的产品</div>\n        <div class="searchs-box-hint-list j-href" data-href="#/search_rst?kw=<%-encodeURI(\'苹果手机\') %>">苹果手机</div>\n        <div class="searchs-box-hint-list j-href" data-href="#/search_rst?kw=<%-encodeURI(\'华为交换机\') %>">华为交换机</div>\n        <div class="searchs-box-hint-list j-href" data-href="#/search_rst?kw=<%-encodeURI(\'联想服务器\') %>">联想服务器</div>\n        <div class="searchs-box-hint-list">... ...</div>\n    </div>\n    <% if (common.is_weixn()){ %>\n    <div class="record-control">\n        <div class="record-control-icon">\n            <div class="list" style="background-image: url(\'img/searchs-record.png\')"></div>\n            <div class="list recording" style="background-image: url(\'img/searchs-recording.png\')" ></div>\n        </div>\n    </div>\n\n    <audio src="sound/recordStart.wav" class="recordStart"></audio>\n    <audio src="sound/recordEnd.wav" class="recordEnd"></audio>\n    <audio src="sound/recordSwitch.wav" class="recordSwitch"></audio>\n    <% } %>\n</div>'),define("tpl/sel_brand.tpl",[],'<div class="sel-brand">\n    <ul class="sel-brand-list">\n        <%\n        categories.forEach(function(v,k){\n        %>\n        <li catid="<%=v.catid %>" class="kw-li kw-box-a-v sel-brand-item">\n            <div class="kw-flex1 sel-brand-name"><%=v.name %></div>\n            <input ui_label=".sel-brand-item" class="sel-brand-icon" name="cate_name" type="radio" value=""/>\n        </li>\n        <%\n        })\n        %>\n    </ul>\n</div>'),define("tpl/sel_city.tpl",[],'<div class="sel-sf">\n\n    <div class="kw-box-center scroll-sel-root sel-sf-root ">\n        <div class="scroll-sel-box sel-sf-box">\n            <ul class="scroll-sel-list sel-sf-list">\n                <%\n                cities.forEach(function(v,k){\n                %>\n                <li province_id="<%=v.province_id %>"  class="scroll-sel-li sel-sf-list-item "><%=v.name %></li>\n                <%\n                })\n                %>\n            </ul>\n        </div>\n\n        <div class="scroll-sel-box sel-sf-box">\n            <%\n            cities.forEach(function(v,k){\n            %>\n            <ul class="<%if(k != 0){%>hide<%}%> scroll-sel-list sel-sf-list">\n                <%\n                v.city.forEach(function(v,k){\n                %>\n                <li aid="<%=v.aid %>"  class="kw-text-over scroll-sel-li sel-sf-list-item "><%=v.name %></li>\n                <%\n                })\n                %>\n            </ul>\n            <%\n            })\n            %>\n        </div>\n    </div>\n    <%\n    if(pageType == \'1\'){\n    %>\n    <div  class=" btn-green kw-f-bottom head2-b-btn sel-city-ok pc-fixed">完成</div>\n    <%\n    }\n    %>\n</div>'),define("tpl/sel_head.tpl",[],'<form class="sel-head" >\n    <div class="kw-wp kw-box-center kw-box-v sel-head-upload">\n        <div class="kw-upload-root sel-head-face-box">\n            <div class="kw-upload-item kw-upload-box">\n                <img class="sel-head-face-img kw-upload-img" src="<%-C.noface1 %>">\n                <input type="file"  class="kw-upload-file sel-head-face" name="face" value="" id="sel-head-face" />\n            </div>\n        </div>\n\n        <div class="sel-head-face-text">点击图标上传头像</div>\n    </div>\n\n    <div class="kw-wp kw-box-center kw-box-v sel-head-name">\n        <div class="sel-head-name-box">\n            <div class="kw-input01">\n                <div class="kw-input01-b kw-input01-l"></div>\n                <input class="kw-input01-val login-input login-username" placeholder="请输入您的真实姓名" name="realname" type="text" >\n                <div class="kw-input01-b kw-input01-r"></div>\n            </div>\n        </div>\n    </div>\n</form>'),define("tpl/sel_identity.tpl",[],'<div class="sel-sf">\n\n    <div class="kw-box-center scroll-sel-root sel-sf-root ">\n        <div class="scroll-sel-box sel-sf-box">\n            <ul class="scroll-sel-list sel-sf-list">\n                <%\n                c_type.forEach(function(v,k){\n                %>\n                <li typeid="<%=v.typeid %>" class="scroll-sel-li sel-sf-list-item <%if(k==0){%> active <%}%>>"><%=v.typename %></li>\n                <%\n                    })\n                %>\n            </ul>\n        </div>\n    </div>\n\n    <div class="kw-wp sel-sf-company">\n\n        <div class=" kw-input01">\n            <div class="kw-input01-b kw-input01-l"></div>\n            <input type="text" class="kw-input sel-sf-cp-input" name="company_name" placeholder="请输入公司名称"/>\n            <div class="kw-input01-b kw-input01-r"></div>\n        </div>\n\n        <div class=" kw-input01">\n            <div class="kw-input01-b kw-input01-l"></div>\n            <input type="text" class="kw-input sel-sf-cp-input" name="company_addr" placeholder="请输入公司地址"/>\n            <div class="kw-input01-b kw-input01-r"></div>\n        </div>\n    </div>\n\n    <div  class="btn-green kw-f-bottom sel-sf-next pc-fixed">下一步</div>\n</div>'),define("tpl/sel_product.tpl",[],'<div class="sel-sf">\n\n    <div class="kw-box-center scroll-sel-root sel-sf-root ">\n        <div class="scroll-sel-box sel-sf-box">\n            <ul class="scroll-sel-list sel-sf-list">\n                <%\n                categories.forEach(function(v,k){\n                %>\n                <li catid="<%=v.catid %>"  class="scroll-sel-li sel-sf-list-item "><%=v.name %></li>\n                <%\n                    })\n                %>\n            </ul>\n        </div>\n\n        <div class="scroll-sel-box sel-sf-box">\n            <%\n            categories.forEach(function(v,k){\n            %>\n            <ul class="<%if(k != 0){%>hide<%}%> scroll-sel-list sel-sf-list">\n                <%\n                v.sub_categories.forEach(function(v,k){\n                %>\n                <li catid="<%=v.catid %>"  class="kw-text-over scroll-sel-li sel-sf-list-item "><%=v.name %></li>\n                <%\n                    })\n                %>\n            </ul>\n            <%\n            })\n            %>\n        </div>\n\n\n\n\n\n    </div>\n    <%\n        if(pageType == \'1\'){\n    %>\n    <div data-href="#/sel_brand" class="btn-green kw-f-bottom sel-sf-next pc-fixed">下一步</div>\n    <% \n        }\n    %>\n</div>'),define("tpl/tag_list_item.tpl",[],'\n<%\ncategories.splice(0,1);\nvar _tagArr = [];\ncategories.forEach(function(v,k){\n    if(k % 2 == 0){\n        _tagArr.push([]);\n    }\n    _tagArr[_tagArr.length -1].push(v);\n});\n%>\n\n\n<div class="searst-tag-box">\n    <% _tagArr.forEach(function(v,k){ %>\n    <div class="searstt-item">\n        <% v.forEach(function(v1,k1){ %>\n            <div class="lc-tddl-label searstti-label" lc-tddl-label="<%=v1.catid%>" ><%=v1.name %></div>\n        <% })%>\n    </div>\n    <% })%>\n</div>'),define("widget/alert",[],function(a,b,c){"use strict";
function d(a,b){function c(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}var d=b||{},e={},f=this;this.$root=$(a),d.width?e.width=d.width:!1,this.$root.css(e);{var g=Array.isFunction||c("Function"),h=Array.isString||c("String"),i=Array.isNumber||c("Number");Array.isObject||c("Object")}return function(){var a=Array.prototype.slice.call(arguments);setTimeout(function(){var b,c,d,e;b=f.$root,c="更改成功",d=1500,a.forEach(function(a){g(a)?e=a:h(a)?c=a:i(a)&&(d=a)}),b.show(),b.find(".alert-text").text(c),b.css({"margin-left":b.width()/2*-1,"margin-top":b.height()/2*-1}).addClass("active"),clearTimeout(alert.timeout),alert.timeout=setTimeout(function(){e?e():"",b.hide().removeClass("active")},d)},10)}}d.prototype.show=function(){},c.exports=d}),define("widget/baiduMap",[],function(a,b,c){"use strict";function d(){this.config={},d.loadNum=0}function e(a){var b=document.createElement("script"),c="baiduMap_"+(new Date).getTime();window[c]=a,b.type="text/javascript",b.src="http://api.map.baidu.com/api?v=2.0&ak="+C.mapKey+"&callback="+c,document.body.appendChild(b)}var f=lang.extend;d.prototype.init=function(a){function b(){d.isLoad=!1,c.init=!0,a?a():""}var c=this;d.isLoad||e(b)},d.prototype.getGeo=function(a){var b=new BMap.Geolocation;b.getCurrentPosition(function(b){var c={status:200,msg:"请求成功"};this.getStatus()==BMAP_STATUS_SUCCESS?f(c,{data:b}):f(c,{status:400,msg:"请求失败"}),a?a(c):""},{enableHighAccuracy:!0})},c.exports=d}),define("widget/banner",["iScroll"],function(a,b,c){"use strict";function d(a,b){var c=this;setTimeout(function(){function d(){j.each(function(a){j.eq(a).css("width",m),t+=s}),i.css("width",j.size()*j.width())}function f(a){l&&l.size()>0&&(l.removeClass("active"),l.eq(a).addClass("active"))}var g,h,i,j,k,l,m,n,o={snap:!0,momentum:!1,vScroll:!0,hScrollbar:!1},p=b||{},q={},r=p.autoTime||1500,s='<div class="banner-btn"></div>',t="",u=p.curPageX||0,v=void 0==p.autoPlay?!0:p.autoPlay;g=c.$root=$("object"==typeof a?a:"#"+a),m=p.clientWidth||g.width(),i=g.find(".banner-content"),j=i.find(".banner-content-item"),d(),k=g.find(".banner-btns"),k.size()<=0&&p.btns&&(k=$(p.btns)),k.size()>0&&(k.append(t),l=k.find(".banner-btn")),"static"==g.css("position")&&g.css("position","relative"),q.onScrollStart=p.onScrollStart,q.onScrollMove=p.onScrollMove,q.onScrollEnd=p.onScrollEnd,q.onPageChange=p.onPageChange,p.onScrollStart=function(a){h?h.stop():"",q.onScrollStart?q.onScrollStart(a):""},p.onScrollMove=function(a){q.onScrollMove?q.onScrollMove(a):""},p.onScrollEnd=function(a){u=n.currPageX,h?h.start():"",f(u),q.onScrollEnd?q.onScrollEnd(a):""},p.onPageChange=function(a){f(u),q.onPageChange?q.onPageChange(a):""},n=c.iScroll=new e.iScroll(a,lang.extend(o,p)),n.scrollToPage(u),v&&l&&l.size()>0&&(h=new lang.loop(function(){u++,u>h.maxPageX&&(u=0),n.scrollToPage(u)},r),h.maxPageX=j.size()-1,h.start()),f(u)},50)}var e=a("iScroll");c.exports=d}),define("widget/banner_is5",["./iscroll5"],function(a,b,c){"use strict";function d(a,b){var c=this;setTimeout(function(){function d(a){k&&k.size()>0&&(k.removeClass("active"),k.eq(a).addClass("active"))}var f,g,h,i,j,k,l,m,n={scrollX:!0,scrollY:!1,snap:!0,snapSpeed:400,bounce:!0,momentum:!1,vScroll:!1,hScrollbar:!1},o=b||{},p=o.autoTime||3500,q='<div class="banner-btn"></div>',r="",s=o.curPageX||0,t=void 0==o.autoPlay?!0:o.autoPlay;f=c.$root=$("object"==typeof a?a:"#"+a),l=o.clientWidth||f.width(),h=f.find(".banner-content"),i=h.find(".banner-content-item"),i.each(function(a){i.eq(a).css("width",l),r+=q}),h.css("width",i.size()*l),j=f.find(".banner-btns"),j.size()<=0&&o.btns&&(j=$(o.btns)),j.size()>0&&(j.append(r),k=j.find(".banner-btn")),"static"==f.css("position")&&f.css("position","relative"),m=c.iScroll=new e(a,lang.extend(n,o)),m.goToPage(s,0,e.utils.ease.quadratic),m.on("scrollStart",function(){g?g.stop():""}),m.on("scrollEnd",function(){s=m.currentPage.pageX,g?g.start():"",d(s)}),t&&k&&k.size()>0&&(g=new lang.loop(function(){s++,s>g.maxPageX&&(s=0),m.goToPage(s)},p),g.maxPageX=i.size()-1,g.start()),d(s)},10)}var e=a("../widget/iscroll5");c.exports=d}),define("widget/common",["widget/alert","widget/query_box","widget/ui","widget/upload","widget/lc_upload"],function(a,b){"use strict";function c(a){var b,c=JSON.parse(ss.company_share);b=c.company_link,b[0]=a,c.back[0]="home",ss.company_share=JSON.stringify(c)}function d(a){d.show(d.config(a))}function e(){var a=j.find(".prp-comment-tc-control");0!==a.length&&(a[0].fn?a[0].fn():"")}function f(a){var b=a.siblings(".prp-comment-main-text"),c=a.is(":hidden"),d=b.is(":hidden");c||d?a.removeClass("active"):a.addClass("active")}var g,h,i,j=$(document),k=b,l=a("widget/alert"),m=a("widget/query_box"),n=a("widget/ui");b.isWeiXin=function(){var a=window.navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)?!0:!1},window._isWx=b.isWeiXin(),_isWx&&$("body").addClass("wx"),b.eventChange=function(a){if("pc"!=sys.platform)switch(a){case"click":a="click";break;case"mousedown":a="touchstart";break;case"mouseup":a="touchend";break;case"mousemove":a="touchmove"}return a},g=b.eventChange,h=g("click"),i=g("mousedown"),j.on(h,".j-href",function(){var a=$(this);location.hash=a.attr("data-href")});var o={};j.on(h,".j-back",function(){history.back(),o.timeout=setTimeout(function(){location.hash="#/dyn"},500)}),window.addEventListener("hashchange",function(){clearTimeout(o.timeout)},!1);var p=$("#common-mask");b.mask_show=function(a){var b={};b=lang.extend(b,a),p.css("opacity",b.opac).show(),b.fn&&(p[0].fn=b.fn)},b.mask_hide=function(){p.attr("style",""),p[0].fn&&(p[0].fn(),p[0].fn=!1)},p.on("click",function(){b.mask_hide(),agent.trigger("commonMask:click")}),j.on("click",".j-act",function(){var a=$(this);a.addClass("j-active"),setTimeout(function(){a.removeClass("j-active")},90)}),j.on("focus",".kw-input01",function(){var a=$(this);a.addClass("active")}),j.on("blur",".kw-input01",function(){var a=$(this);a.removeClass("active")});var q=$("#top-tit-box");b.backTopShow=function(a){q.css("display","-webkit-box"),q.find(".top-text-over").text(a)},b.backTopHide=function(){q.hide(),q.find(".top-text-over").text("")};{var r=$("#top-nav");r.find(".top-conter .top-item")}b.navAct=function(){r.css("display","-webkit-box")},b.navHide=function(){r.hide()},b.head_top_show=function(a){setTimeout(function(){a.removeClass("active")},10),r.hasClass("active")?r.removeClass("active"):""},b.head_top_hide=function(a){setTimeout(function(){a.addClass("active")},10),r.hasClass("active")?"":r.addClass("active")},document.unlock={},document.lock={},j.on("click",function(){document.lock["filterBar:hide"]||agent.trigger("filterBar:hide"),document.unlock["person_reply:hide"]&&agent.trigger("person_reply:hide")});var s=new l("#common-alert");b.alert=function(){var a=Array.prototype.slice.call(arguments);a[0]?"":a[0]=C.alert_aet,s.apply(this,a)},b.clearHTML=function(a){setTimeout(function(){a.html("")},20)};var t=$("#loading");b.loadShow=function(){t.css("display","-webkit-box")},b.loadHide=function(){t.hide()},b.error=function(){},b.setUserInfo=function(a){cookie("_pccn_userinfo",JSON.stringify(lang.extend(C.userInfo,a)),{expires:7})},b.getUserInfo=function(){var a=location.href,b=/#\/company/g.test(a);return cookie("_pccn_userinfo")?C.userInfo=JSON.parse(cookie("_pccn_userinfo")):(b&&c(location.href),location.hash="#/login_wel",!1)},window.ss=sessionStorage,ss.company_share=JSON.stringify({back:[],company_link:[]}),b.lc_back=function(a){j.on(h,".lc-back",function(){location.hash="#/"+a})},b.clearUserInfo=function(){cookie("_pccn_userinfo",null)},b.userCheck=function(){net.send({url:C.api.login,type:"post",data:{},isCache:0,onSuccess:_success,onError:_error})};var u=$("#globle-mask");b.maskShow=function(a){b.maskSet(a),u.show()},b.maskHide=function(a){b.maskSet(a),u.hide()},b.maskSet=function(a){var b=a||{},c=b.top||0;u.css({top:c})},b.maskClick=function(){setTimeout(function(){u.trigger("click")},30)},j.on("click","#globle-mask",function(){b.query_box.hide(),agent.trigger("dpp-popup:notClass")});var v=b.query_box=new m("#globle-query-box",u);v.onShow=function(){b.maskShow()},v.onHide=function(){b.maskHide()},b.getCity=function(){var a,b=localStorage,c="_pccn_view_city",d=b[c];return d?a=JSON.parse(d):(a={aid:1,name:"广州"},b[c]=JSON.stringify(a)),a},b.setCity=function(a){var b=localStorage,c="_pccn_view_city";b[c]=JSON.stringify(a)},b.get_sel_sf=function(){var a=sessionStorage,b=a._pccn_sel_sf;return b?JSON.parse(b):(location.hash="#/sel_sel_identity",!1)},b.set_sel_sf=function(a){var b=sessionStorage,c=b._pccn_sel_sf;c=c?JSON.parse(c):{},b._pccn_sel_sf=JSON.stringify(lang.extend(c,a))},b.is_weixn=function(){var a=navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)?!0:!1},b.comp_address=function(){var a=common.getUserInfo();return(a.city||"")+(a.area||"")+(a.street||"")+(a.street_number||"").replace("/号*/i","号")};var w=$("#alert-white"),x=$("#mask-white"),y=0;d.config=function(a){var b={text:a.text||"正在处理,请稍后..",time:a.time||"none"};return lang.extend(b,a)},d.show=function(a){var b=d.config(a);b.onShow?b.onShow():"",x.show(),clearTimeout(y),w.find(".alert-text").text(b.text),w.show(),n.center(w),"none"==!b.time&&(clearTimeout(y),y=setTimeout(function(){d.hide(b)},b.time))},d.hide=function(a){var b=a||{};x.hide(),b.onHide?b.onHide():"",w.hide()},b.alert_w=d;var z=a("widget/upload"),A=new z;A.config({onFronts:function(){common.alert_w.show({text:C.alert_tpzzclz})},onCompletes:function(){common.alert_w.hide()},onNotypes:function(){common.alert(C.alert_bzcglx)}}),k.upload=A;a("widget/lc_upload");b.uploadImg=function(a,b){var b=b||{},c=(b.success||"",b.max||1),d=Array.prototype.slice.call(a.files);c&&(d=d.slice(0,c)),d.forEach(function(a){net.upload({url:b.url,data:{file:a},onSuccess:function(a){a.data}})})},b.fixALert=function(a){b.alert(a||C.alert_aet)},j.on("click",".j-dyn-like",function(){function a(a){c.hasClass("active")?c.removeClass("active"):c.addClass("active"),200==a.data.status?(c.closest(".dyn-item").find(".prpb-like-num").text(a.data.data.nums),common.alert(a.data.error_msg)):b(a.data)}function b(a){common.alert(a.data.error_msg)}var c=$(this),d=common.getUserInfo();d&&(common.alert(C.alert_post),net.send({url:C.api.demands,data:{uid:d.uid,did:c.attr("did")},isCache:0,isOnFront:0,onSuccess:a,onError:b,cache:!1}))}),b.wx_set_share=function(a){window.my_wx&&my_wx.setShare(a)},setTimeout(function(){j.on("click","#download-tip .dltr-close",function(){$("#download-tip").hide()})},100),b.head_bcn=function(a){a.find(".head2").toggleClass("bcn"),a.addClass("mtn")};var B=$("#opac-mask");b.opac_mask=function(a){B.show(),a&&(B[0].$el=a)},b.opac_mask_hide=function(){B.hide(),B[0].$el&&B[0].$el.removeClass("active")},B.on(i,function(){b.opac_mask_hide()}),j.on("click",".prpt-m-name-tip",function(){var a=$(this),b=a.siblings(".prpt-m-name-content");a.hasClass("open")?(a.removeClass("open"),a.text("查看全文"),b.addClass("active")):(a.addClass("open"),a.text("收起"),b.removeClass("active"));var c=a.closest(".j-mlist");0!==c.length&&(c[0].mlist?c[0].mlist.iScroll.refresh():"")}),j.on("click",".prp-comment-tc-control",function(){localStorage.con_lock="true";var a=$(this).siblings(".prp-comment-tc-wrap");return a.hasClass("active")?void(localStorage.con_lock="false"):(j.find(".prp-comment-tc-wrap").removeClass("active"),a.addClass("active"),j.find(".prp-comment-tc-control")[0].fn=function(){a.removeClass("active")},void setTimeout(function(){localStorage.con_lock="false"},50))}),j.on(i,".prp-comment-tc-btn-like",function(){var a;try{a=b.getUserInfo()}catch(c){}if(!a)return!1;localStorage.con_lock="true";var d=$(this),g=common.getUserInfo();net.send({url:C.api.demands,data:{uid:g.uid,did:d.attr("did")},cache:!1,isCache:0,isOnFront:0,onSuccess:function(a){var b=d.closest(".prp-comment").find(".prp-comment-main-like");if("取消赞成功"==a.data.error_msg)d.find(".list-text").text("赞"),"1"==a.data.data.nums&&b.find('.list[uid="'+g.uid+'"]').next(".fg").remove(),b.find('.list[uid="'+g.uid+'"]').prev(".fg").remove(),b.find('.list[uid="'+g.uid+'"]').remove(),"0"==a.data.data.nums&&b.hide(),f(b);else if("点赞成功"==a.data.error_msg){var c;c=""==g.sid?"#/person?uid="+g.uid:"#/company?sid="+g.sid;var h='<div class="fg">,</div><div uid="'+g.uid+'" class="list j-href" data-href="'+c+'">'+g.real_name+"</div>";"1"==a.data.data.nums&&(h='<div uid="'+g.uid+'" class="list j-href" data-href="'+c+'">'+g.real_name+"</div>"),b.append(h),b.show(),d.find(".list-text").text("取消"),f(b)}setTimeout(function(){e()},500)}}),setTimeout(function(){localStorage.con_lock="false"},100)});var D=$("#dyn-content-import");j.on(i,".prp-comment-tc-btn-comment",function(){var a;try{a=b.getUserInfo()}catch(c){}if(!a)return!1;localStorage.con_lock="true";var d=$(this);D.addClass("active"),D[0].did=d.closest(".dyn-item").attr("did"),setTimeout(function(){b.opac_mask(D)},100);var f=lang.sys().platform;setTimeout(function(){"ios"!==f&&d.find("input").blur()},110),setTimeout(function(){"ios"!==f&&D.find(".dyn-content-import-content").focus()},130),setTimeout(function(){localStorage.con_lock="false",e()},200)}),"ios"==lang.sys().platform&&(D.on("focus",".dyn-content-import-content",function(){setTimeout(function(){var a=$(window).scrollTop(),b=a+window.innerHeight;D.css({bottom:"auto",top:b-D.height()+"px"})},300)}),D.on("blur",".dyn-content-import-content",function(){setTimeout(function(){D.css({bottom:"0",top:"auto"})},50)})),D.on("click",".dyn-content-import-send",function(){var a=$(this);if(a.hasClass("active")){var c=a.siblings(".dyn-content-import-content"),d=D[0].did,e=common.getUserInfo();net.send({url:C.api.demand_comment+"&op=add",type:"post",data:{uid:e.uid,did:d,comment_type:"0",demand_id:d,content:c.val()},isOnFront:0,isCache:0,onSuccess:function(){var a;a=""==e.sid?"#/person?uid="+e.uid:"#/company?sid="+e.sid,b.opac_mask_hide(),j.find('.dyn-item[did="'+d+'"] .prp-comment-main-text').show().append('<div class="list"><span class="list-name j-href" data-href="'+a+'">'+e.real_name+'</span><span class="list-content">：'+c.val()+"</span></div>"),c.val(""),f(j.find('.dyn-item[did="'+d+'"] .prp-comment-main-like'))},onError:function(){b.opac_mask_hide()}})}}),j.on("click",function(){"true"!=localStorage.con_lock&&e()}),b.title=function(a){return}});var dyn_content_import=document.querySelector("#dyn-content-import");define("widget/favorite",[],function(){"use strict";var a=lang.extend,b=$(document);b.on("click",".j-favorite",function(){function b(a){var b=e.attr("follow"),c=e.parent().siblings(".company-info-attention-num"),d=e.siblings(".company-atten-icon");common.alert(a.data.error_msg),1==b?(e.attr("follow",0),e.text("关注"),d.removeClass("score-nav-cor"),0!==c.length?c.text(1*c.text()-1):""):(e.attr("follow",1),e.text("已关注"),d.addClass("score-nav-cor"),0!==c.length?c.text(1*c.text()+1):"")}function c(){}var d,e;e=$(this),common.alert(C.alert_post),d={url:C.api.favorite,isOnFront:0,type:"post",isCache:0,data:{},onSuccess:b,onError:c};var f={data:this.ajax_data};d=a(d,f),d.data.idtype="member",net.send(d)})}),define("widget/file",[],function(a,b,c){"use strict";var d=window;d.URL=d.URL||d.webkitURL,d.requestFileSystem=d.requestFileSystem||d.webkitRequestFileSystem,d.resolveLocalFileSystemURL=d.resolveLocalFileSystemURL||d.webkitResolveLocalFileSystemURL,navigator.temporaryStorage=navigator.temporaryStorage||navigator.webkitTemporaryStorage,navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage,d.BlobBuilder=d.BlobBuilder||d.MozBlobBuilder||d.WebKitBlobBuilder;var e=function(){};e.prototype.prototype=Error.prototype;var f={toArray:function(a){return Array.prototype.slice.call(a||[],0)},strToDataURL:function(a,b,c){var e=void 0!=c?c:!0;return e?"data:"+b+";base64,"+d.btoa(a):"data:"+b+","+a},strToObjectURL:function(a,b){for(var c=new Uint8Array(a.length),e=0;e<c.length;++e)c[e]=a.charCodeAt(e);var f=new Blob([c],b?{type:b}:{});return d.URL.createObjectURL(f)},fileToObjectURL:function(a){return d.URL.createObjectURL(a)},fileToArrayBuffer:function(a,b,c){var d=new FileReader;d.onload=function(a){b(a.target.result)},d.onerror=function(a){c&&c(a)},d.readAsArrayBuffer(a)},dataURLToBlob:function(a){var b=";base64,";if(-1==a.indexOf(b)){var c=a.split(","),d=c[0].split(":")[1],e=decodeURIComponent(c[1]);return new Blob([e],{type:d})}for(var c=a.split(b),d=c[0].split(":")[1],e=window.atob(c[1]),f=e.length,g=new Uint8Array(f),h=0;f>h;++h)g[h]=e.charCodeAt(h);return new Blob([g],{type:d})},arrayBufferToBlob:function(a,b){var c=new Uint8Array(a);return new Blob([c],b?{type:b}:{})},arrayBufferToBinaryString:function(a,b,c){var d=new FileReader;d.onload=function(a){b(a.target.result)},d.onerror=function(a){c&&c(a)};var e=new Uint8Array(a);d.readAsBinaryString(new Blob([e]))},arrayToBinaryString:function(a){if(typeof a!=typeof[])return null;for(var b=a.length,c=new Array(b);b--;)c[b]=String.fromCharCode(a[b]);return c.join("")},getFileExtension:function(a){var b=a.lastIndexOf(".");return-1!=b?a.substring(b):""}},g=function(a){this.prototype=e.prototype,this.code=a.code,this.name=a.name};e.BROWSER_NOT_SUPPORTED=1e3,e.prototype.__defineGetter__("name",function(){for(var a,b=Object.keys(e),c=0;a=b[c];++c)if(e[a]==this.code)return a;return"Unknown Error"});var h=new function(){function a(a){l=a||null,l&&(m=l.root,n=!0)}var b="Filesystem has not been initialized.",c="Not implemented.",h="Path was not a directory.",i="These method arguments are not supported.",j="filesystem:",k=1048576,l=null,m=null,n=!1,o=function(a){return 0==a.indexOf(j)},p=function(a){return o(a)||(a="/"==a[0]?l.root.toURL()+a.substring(1):0==a.indexOf("./")||0==a.indexOf("../")?"../"==a&&m!=l.root?m.toURL()+"/"+a:m.toURL()+a:m.toURL()+"/"+a),a},q=function(a){var b=arguments[1],c=arguments[2],f=function(a){throw new Error(a.code==e.NOT_FOUND_ERR?c?'"'+b+'" or "'+c+'" does not exist.':'"'+b+'" does not exist.':"Problem getting Entry for one or more paths.")},g=p(b);if(3==arguments.length){var h=p(c);d.resolveLocalFileSystemURL(g,function(b){d.resolveLocalFileSystemURL(h,function(c){a(b,c)},f)},f)}else d.resolveLocalFileSystemURL(g,a,f)},r=function(a,c,d,e,f,g){if(!l)throw new Error(b);if(typeof a!=typeof c)throw new Error(i);var h=d||null,j=void 0!=g?g:!1;(a.isFile||c.isDirectory)&&c.isDirectory?j?a.moveTo(c,h,e,f):a.copyTo(c,h,e,f):q(function(a,b){if(!b.isDirectory){var c=new Error('Oops! "'+b.name+" is not a directory!");if(!f)throw c;return void f(c)}j?a.moveTo(b,h,e,f):a.copyTo(b,h,e,f)},a,c)};return a.DEFAULT_FS_SIZE=k,a.version="0.4.3",a.prototype={get fs(){return l},get isOpen(){return n},get cwd(){return m}},a.prototype.pathToFilesystemURL=function(a){return p(a)},a.prototype.init=function(a,b,c){if(!d.requestFileSystem)throw new g({code:e.BROWSER_NOT_SUPPORTED,name:"BROWSER_NOT_SUPPORTED"});var f=a?a:{},h=f.size||k;this.type=d.TEMPORARY,"persistent"in f&&f.persistent&&(this.type=d.PERSISTENT);var i=function(a){this.size=h,l=a,m=l.root,n=!0,b&&b(a)};this.type==d.PERSISTENT&&navigator.persistentStorage?navigator.persistentStorage.requestQuota(h,function(a){d.requestFileSystem(this.type,a,i.bind(this),c)}.bind(this),c):d.requestFileSystem(this.type,h,i.bind(this),c)},a.prototype.ls=function(a,c,d){if(!l)throw new Error(b);var e=function(a){m=a;var b=[],e=m.createReader(),g=function(){e.readEntries(function(a){a.length?(b=b.concat(f.toArray(a)),g()):(b.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0}),c(b))},d)};g()};a.isDirectory?e(a):o(a)?q(e,a):m.getDirectory(a,{},e,d)},a.prototype.mkdir=function(a,c,d,f){if(!l)throw new Error(b);var g=null!=c?c:!1,h=a.split("/"),i=function(b,c){("."==c[0]||""==c[0])&&(c=c.slice(1)),b.getDirectory(c[0],{create:!0,exclusive:g},function(b){if(b.isDirectory)c.length&&1!=h.length?i(b,c.slice(1)):d&&d(b);else{var e=new Error(a+" is not a directory");if(!f)throw e;f(e)}},function(b){if(b.code==e.INVALID_MODIFICATION_ERR){if(b.message="'"+a+"' already exists",!f)throw b;f(b)}})};i(m,h)},a.prototype.open=function(a,c,d){if(!l)throw new Error(b);a.isFile?a.file(c,d):q(function(a){a.file(c,d)},p(a))},a.prototype.create=function(a,c,d,f){if(!l)throw new Error(b);var g=null!=c?c:!0;m.getFile(a,{create:!0,exclusive:g},d,function(b){if(b.code==e.INVALID_MODIFICATION_ERR&&(b.message="'"+a+"' already exists"),!f)throw b;f(b)})},a.prototype.mv=function(a,b,c,d,e){r.bind(this,a,b,c,d,e,!0)()},a.prototype.rm=function(a,c,d){if(!l)throw new Error(b);var e=function(a){a.isFile?a.remove(c,d):a.isDirectory&&a.removeRecursively(c,d)};a.isFile||a.isDirectory?e(a):q(e,a)},a.prototype.cd=function(a,c,d){if(!l)throw new Error(b);if(a.isDirectory)m=a,c&&c(m);else{var a=p(a);q(function(a){if(a.isDirectory)m=a,c&&c(m);else{var b=new Error(h);if(!d)throw b;d(b)}},a)}},a.prototype.cp=function(a,b,c,d,e){r.bind(this,a,b,c,d,e)()},a.prototype.write=function(a,c,d,e){if(!l)throw new Error(b);var f=function(a){a.createWriter(function(b){if(b.onerror=e,c.append)b.onwriteend=function(){d&&d(a,this)},b.seek(b.length);else{var f=!1;b.onwriteend=function(){return f?void(d&&d(a,this)):(f=!0,void this.truncate(this.position))}}c.data.__proto__==ArrayBuffer.prototype&&(c.data=new Uint8Array(c.data));var g=new Blob([c.data],c.type?{type:c.type}:{});b.write(g)},e)};a.isFile?f(a):o(a)?q(f,a):m.getFile(a,{create:!0,exclusive:!1},f,e)},a.prototype.df=function(a,b){var e=function(b,c){a(b,c-b,c)};if(!navigator.temporaryStorage.queryUsageAndQuota||!navigator.persistentStorage.queryUsageAndQuota)throw new Error(c);d.TEMPORARY==this.type?navigator.temporaryStorage.queryUsageAndQuota(e,b):d.PERSISTENT==this.type&&navigator.persistentStorage.queryUsageAndQuota(e,b)},a};c.exports=h}),define("widget/filterBar",["tpl/filterBar.tpl"],function(a,b,c){"use strict";function d(b,c,d){function e(){m.rst=[],c.forEach(function(a){m.rst.push(a.sub[0].catid)})}function f(a){var b,d,f;f=a.closest(".filterBar-item"),b=f.find(".filterBar-title"),d=b.find(".filterBar-title-text"),d.text(a.text()),g();var i=f.index();if(0===i){e();var k=c[0].sub[a.index()].sub_categories;j.eq(1).html(tpl.render(l,{data:k})).css("height","auto").data("height",j.eq(1).css("height")).css("height",0),h.eq(1).find(".filterBar-title-text").text(k[0].name)}m.rst[i]=a.attr("catid"),agent.trigger("home:expert:update",{reset:!0,page:1,clearData:!0})}function g(){h.find(".filterBar-title-icon").removeClass("active"),h.removeClass("active"),setTimeout(function(){j.css("height",0).data("act",!0),common.maskHide()},10)}var h,i,j,k=a("tpl/filterBar.tpl"),l=a("tpl/filterBar_content.tpl"),m=this;this.$root=b,e(),this.data=c,b.html(tpl.render(k,{data:c})),j=b.find(".filterBar-content"),h=b.find(".filterBar-title"),i=h.find(".filterBar-title-icon"),setTimeout(function(){j.eq(0).append(tpl.render(l,{data:c[0].sub})),j.eq(2).append(tpl.render(l,{data:c[2].sub})),j.each(function(a){var b=j.eq(a);b.data({height:b.css("height"),act:!0}).css("height",0)}),setTimeout(function(){f(b.find(".filterBar-content-item").eq(d))},10)},20),b.data("hasLock")||(b.bind("touchstart",function(){document.lock["filterBar:hide"]=!0}),b.bind("touchend",function(){document.lock["filterBar:hide"]=!1}),b.data("hasLock",!0)),b.off("click"),b.on("click",".filterBar-title",function(){var a,b=$(this),c=b.closest(".filterBar-item").find(".filterBar-content");h.removeClass("active"),i.removeClass("active"),a=b.find(".filterBar-title-icon");var d=c.data("act");d?(g(),b.addClass("active"),a.addClass("active"),setTimeout(function(){c.css("height",c.data("height")).data("act",!1),common.maskShow({top:85})},320)):(b.removeClass("active"),a.removeClass("active"),g())}),b.on("click"," .filterBar-content-item",function(){f($(this))}),agent.off("filterBar:hide",g),agent.on("filterBar:hide",g)}d.prototype.update=function(){},c.exports=d}),define("widget/filterBar_um",[],function(a,b,c){"use strict";function d(a,b){{var c,d,e,f,g,h,i,j,k,l,m,n=this,b=b||{},o=b.data,p=b.$mask,q=b.$searchs_res_box;b.all_data,b.$page_root}c=n.$root=$(a),j=n.$filter_box=c.find(".kw-filter-box"),m=n.$title=j.find(".kw-filter-ti"),d=n.$title_item=m.find(".kw-filtic-item"),e=n.$filcot=j.find(".kw-filcot"),f=n.$filcot_item=e.find(".kw-filcot-item"),l=b&&b.timing||400,l*=1,g=b.root_w||c.width(),h=b.root_h||c.height(),c.addClass("kw-filter-root"),n.rst=[],n.tit_name=[],d.each(function(a){n.tit_name.push(d.eq(a).find(".kw-filti-tip").text())}),n.res=function(){d.each(function(a){n.tit_name.push(d.eq(a).find(".kw-filti-tip").text(n.tit_name[a]))}),f.each(function(a){0!=a&&f.eq(a).empty()}),d.removeClass("active")},n.all_hide=function(){agent.trigger("filterBar-um:reset"),agent.trigger("filterBar-um:hide"),n.all_hide_bc?n.all_hide_bc():""},j.css({width:g,height:h}),agent.on("filcot-item:init",function(a){var b=f.eq(a),c=b.height(),d={"-webkit-transition":"-webkit-transform "+l+"ms 0ms","-webkit-transform":"translate3d(0px,"+-c+"px,0px)"};b.data("init_style",d),b.css(d),n.rst.push("")}),agent.trigger("filcot-item:init",0);var r=!0;c.on("click",".kw-filtic-item",function(){var a=$(this),b=a.index();q.hide(),r&&(r=!1,agent.trigger("cli-tit",b))}),agent.on("cli-tit",function(a){var b,c,e=0;k&&(e=l),b=f.eq(a),d.removeClass("active"),b.data("active")||(d.eq(a).addClass("active"),f.data("active",!1)),c=b.height(),agent.trigger("filterBar-um:reset"),b.data("active")?(agent.trigger("filterBar-um:hide"),b.css(b.data("init_style")),b.data("active",!1),p.hide()):(clearTimeout(i),i=setTimeout(function(){j.css("height",c+h),b.css({"-webkit-transform":"translate3d(0px,0px,0px)"}),b.data("active",!0),k=!0,p.show(),n.all_hide_bc=function(){b.css(b.data("init_style")),b.data("active",!1)}},e-200)),setTimeout(function(){r=!0},400)});var s=0;agent.on("filterBar-um:hide",function(){clearTimeout(s),s=setTimeout(function(){j.css("height",h)},l+50)}),agent.on("filterBar-um:reset",function(){f.each(function(a){var b=f.eq(a);b.css(b.data("init_style")),k=!1})}),c.on("click",".kw-filcoti-val",function(){var a,c,e,g,h=$(this);if(agent.trigger("filterBar-um:reset"),agent.trigger("filterBar-um:hide"),g=h.attr("filter-val"),e=h.attr("filter-text"),c=h.closest(".kw-filcot-item").index(),n.cur_index=c,a=m.find(".kw-filti-tip"),a.eq(c).text(e),f.data("active",!1),n.rst[c]=g,c+1==f.length){var i=h.attr("catid");n.sub_catid=i,d.removeClass("active"),b.fn(),p.hide()}else{var j;switch(n.cur_cat_type=h.attr("cat_type"),n.catid=h.attr("catid"),c){case 0:var k=h.index();j=o.categories[k].sub_categories,agent.trigger("u_success",j,c);break;case 1:var l=h.attr("catid");net.send({url:C.api.category,data:{catid:l},onSuccess:function(a){agent.trigger("u_success",a.data.categories,c)}})}}}),agent.on("u_success",function(a,b,c){var e="";a&&(a.forEach(function(a){e+='<div class="kw-filcoti-val" cat_type="'+a.cat_type+'" catid="'+a.catid+'" filter-text="'+a.name+'">'+a.name+"</div>"}),f.eq(b+1).html(e),d.removeClass("active"),d.eq(b+1).addClass("active").find(".kw-filti-tip").text(n.tit_name[b+1]),agent.trigger("filcot-item:init",b+1),setTimeout(function(){"lock"!=c&&agent.trigger("cli-tit",b+1)},l+100))})}c.exports=d}),define("widget/form",[],function(a,b){"use strict";function c(a){function b(a){a.length>0&&a.each(function(b){var c=a.eq(b),d=c.attr("name");h[d]="file"==c.attr("type")?c[0].files[0]:c.val()})}var c,d,e,f,g,h={},i={};if(c=$(a),d=c.find("input"),b(d.filter("[type=text]")),b(d.filter("[type=password]")),b(d.filter("[type=hidden]")),b(d.filter("[type=number]")),b(d.filter("[type=tel]")),b(d.filter("[type=date]")),b(d.filter("[type=file]")),b(c.find("textarea")),g=d.filter("[type=checkbox]"),g.length>0){var j=[];g.each(function(a){var b=g.eq(a);j.push(b.val)})}return e=d.filter("[type=radio]"),e.length>0&&(e.each(function(a){var b=e.eq(a),c=b.attr("name");i[c]||(i[c]=[]),i[c].push(b)}),function(){var a,b,c;for(a in i){b=i[a];for(var d=0,e=b.length;e>d;d++)b[d][0].checked&&(c=d);h[a]=c}}()),f=c.find("select"),f.length>0&&f.each(function(a){var b,c,d=f.eq(a),e=d.attr("name");c=d.find("option"),c.each(function(a){var d=c.eq(a);d[0].selected&&(b=c.eq(a).val())}),h[e]=b}),h}function d(a){var b,c;b=$(a),c=b.find("input"),e(b,c.filter("[type=radio]"))}function e(a,b){var c,d={};b.each(function(a){var c,e=b.eq(a);e.hide(),e.wrap('<div class="fa fa-circle-o kw-radio">'),c=e.attr("ui_label")||".kw-radio",d[c]||(d[c]=c)});for(c in d)a.on("click",d[c],function(){var b,c,d,e=$(this),f=e.find("input");c=f.attr("name"),b=a.find("[name="+c+"]"),d=f.closest(".kw-radio"),b.each(function(a){var c=b.eq(a);c[0].checked=!1,c.closest(".kw-radio").removeClass("fa-dot-circle-o")}),f[0].checked=!0,d.addClass("fa-dot-circle-o")})}b.getFormData=c,b.ui=d}),define("widget/img_view",["tpl/page_img_view.tpl","widget/banner_is5","widget/iscroll5"],function(a){"use strict";function b(a,b){var b=b||{},c=this.iScroll=new j(a[0],lang.extend(this.def,b));a.on("touchstart",function(){return setTimeout(function(){a[0].lock=!1},60),setTimeout(function(){a[0].lock=!0},320),0==a[0].lock&&(1==c.scale?c.zoom(2,c.pointX,c.pointY):c.zoom(1)),1!==c.scale?!1:void 0})}var c,d,e=$("#page-img-view"),f=$(document),g=a("tpl/page_img_view.tpl"),h=a("tpl/page_img_view_list.tpl"),i=a("widget/banner_is5"),j=a("widget/iscroll5");e.html(g);var k,l=e.find(".page-img-view");f.on("click",".j-imgView-data",function(){location.hash="#/page_img_view";var a=[],b=0,c=$(this),d=c.attr("imgView-data-src"),e=c.closest(".imgView-data");e.find(".j-imgView-data").each(function(c,e){var f=$(e);a.push(f.attr("imgView-data-src")),d==f.attr("imgView-data-src")&&(b=c)}),l.prepend('<div class="page-img-view-main banner-content"></div>'),k=l.find(".page-img-view-main"),setTimeout(function(){agent.trigger("img-view:update",a,b)},150)}),agent.on("img-view:update",function(a,e){k.html(tpl.render(h,{data:a})),setTimeout(function(){c=new i(l[0],{curPageX:e,autoPlay:!1,scrollY:!0})},40),setTimeout(function(){d=k.find(".page-img-view-main-item .list"),d.each(function(a){var c=$(this);setTimeout(function(){d[a].is_zoom=new b(c)},50)})},50)}),b.prototype.def={scrollX:!0,scrollY:!0,bounce:!1,scrollbars:!1,momentum:!1,zoom:!0,zoomStart:2,zoomMin:1,zoomMax:4,preventDefault:!0},agent.on("img-view:hide",function(){c&&(c.iScroll.destroy(),d.each(function(a){d[a].is_zoom.iScroll.destroy()}),l.find(".banner-btns").empty(),k.remove())})}),define("widget/iscroll",[],function(a,b){"use strict";function c(a){return""===g?a:(a=a.charAt(0).toUpperCase()+a.substr(1),g+a)}var d=Math,e=document,f=e.createElement("div").style,g=function(){for(var a,b="t,webkitT,MozT,msT,OT".split(","),c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}(),h=g?"-"+g.toLowerCase()+"-":"",i=c("transform"),j=c("transitionProperty"),k=c("transitionDuration"),l=c("transformOrigin"),m=c("transitionTimingFunction"),n=c("transitionDelay"),o=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),q=/hp-tablet/gi.test(navigator.appVersion),r=c("perspective")in f,s="ontouchstart"in window&&!q,t=g!==!1,u=c("transition")in f,v="onorientationchange"in window?"orientationchange":"resize",w=s?"touchstart":"mousedown",x=s?"touchmove":"mousemove",y=s?"touchend":"mouseup",z=s?"touchcancel":"mouseup",A=function(){if(g===!1)return!1;var a={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return a[g]}(),B=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),C=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),D=r?" translateZ(0)":"",E=function(a,b){var c,d=this;d.wrapper="object"==typeof a?a:e.getElementById(a),d.wrapper.style.overflow="hidden",d.scroller=b.scroller||d.wrapper.children[0],d.options={hScroll:!0,vScroll:!0,x:0,y:0,isEventLock:!1,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:o,hideScrollbar:p,fadeScrollbar:p&&r,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){d.options.vScroll&&a.preventDefault()
},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in b)d.options[c]=b[c];d.x=d.options.x,d.y=d.options.y,d.options.useTransform=t&&d.options.useTransform,d.options.hScrollbar=d.options.hScroll&&d.options.hScrollbar,d.options.vScrollbar=d.options.vScroll&&d.options.vScrollbar,d.options.zoom=d.options.useTransform&&d.options.zoom,d.options.useTransition=u&&d.options.useTransition,d.options.zoom&&o&&(D=""),d.scroller.style[j]=d.options.useTransform?h+"transform":"top left",d.scroller.style[k]="0",d.scroller.style[l]="0 0",d.options.useTransition&&(d.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),d.options.useTransform?d.scroller.style[i]="translate("+d.x+"px,"+d.y+"px)"+D:d.scroller.style.cssText+=";position:absolute;top:"+d.y+"px;left:"+d.x+"px",d.options.useTransition&&(d.options.fixedScrollbar=!0),d.refresh(),d._bind(v,window),d._bind(w),s||"none"!=d.options.wheelAction&&(d._bind("DOMMouseScroll"),d._bind("mousewheel")),d.options.checkDOMChanges&&(d.checkDOMTime=setInterval(function(){d._checkDOMChanges()},500))};E.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,isEventLock:!1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){var b=this;switch(a.type){case w:if(!s&&0!==a.button)return;b._start(a);break;case x:b._move(a);break;case y:case z:b._end(a);break;case v:b._resize();break;case"DOMMouseScroll":case"mousewheel":b._wheel(a);break;case A:b._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(a){var b,c=this;return c[a+"Scrollbar"]?(c[a+"ScrollbarWrapper"]||(b=e.createElement("div"),c.options.scrollbarClass?b.className=c.options.scrollbarClass+a.toUpperCase():b.style.cssText="position:absolute;z-index:100;"+("h"==a?"height:7px;bottom:1px;left:2px;right:"+(c.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(c.hScrollbar?"7":"2")+"px;top:2px;right:1px"),b.style.cssText+=";pointer-events:none;"+h+"transition-property:opacity;"+h+"transition-duration:"+(c.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(c.options.hideScrollbar?"0":"1"),c.wrapper.appendChild(b),c[a+"ScrollbarWrapper"]=b,b=e.createElement("div"),c.options.scrollbarClass||(b.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+h+"background-clip:padding-box;"+h+"box-sizing:border-box;"+("h"==a?"height:100%":"width:100%")+";"+h+"border-radius:3px;border-radius:3px"),b.style.cssText+=";pointer-events:none;"+h+"transition-property:"+h+"transform;"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+h+"transition-duration:0;"+h+"transform: translate(0,0)"+D,c.options.useTransition&&(b.style.cssText+=";"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),c[a+"ScrollbarWrapper"].appendChild(b),c[a+"ScrollbarIndicator"]=b),"h"==a?(c.hScrollbarSize=c.hScrollbarWrapper.clientWidth,c.hScrollbarIndicatorSize=d.max(d.round(c.hScrollbarSize*c.hScrollbarSize/c.scrollerW),8),c.hScrollbarIndicator.style.width=c.hScrollbarIndicatorSize+"px",c.hScrollbarMaxScroll=c.hScrollbarSize-c.hScrollbarIndicatorSize,c.hScrollbarProp=c.hScrollbarMaxScroll/c.maxScrollX):(c.vScrollbarSize=c.vScrollbarWrapper.clientHeight,c.vScrollbarIndicatorSize=d.max(d.round(c.vScrollbarSize*c.vScrollbarSize/c.scrollerH),8),c.vScrollbarIndicator.style.height=c.vScrollbarIndicatorSize+"px",c.vScrollbarMaxScroll=c.vScrollbarSize-c.vScrollbarIndicatorSize,c.vScrollbarProp=c.vScrollbarMaxScroll/c.maxScrollY),void c._scrollbarPos(a,!0)):void(c[a+"ScrollbarWrapper"]&&(t&&(c[a+"ScrollbarIndicator"].style[i]=""),c[a+"ScrollbarWrapper"].parentNode.removeChild(c[a+"ScrollbarWrapper"]),c[a+"ScrollbarWrapper"]=null,c[a+"ScrollbarIndicator"]=null))},_resize:function(){var a=this;setTimeout(function(){a.refresh()},o?200:0)},_pos:function(a,b){this.zoomed||(a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[i]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+D:(a=d.round(a),b=d.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(a,b){var c,e=this,f="h"==a?e.x:e.y;e[a+"Scrollbar"]&&(f=e[a+"ScrollbarProp"]*f,0>f?(e.options.fixedScrollbar||(c=e[a+"ScrollbarIndicatorSize"]+d.round(3*f),8>c&&(c=8),e[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=c+"px"),f=0):f>e[a+"ScrollbarMaxScroll"]&&(e.options.fixedScrollbar?f=e[a+"ScrollbarMaxScroll"]:(c=e[a+"ScrollbarIndicatorSize"]-d.round(3*(f-e[a+"ScrollbarMaxScroll"])),8>c&&(c=8),e[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=c+"px",f=e[a+"ScrollbarMaxScroll"]+(e[a+"ScrollbarIndicatorSize"]-c))),e[a+"ScrollbarWrapper"].style[n]="0",e[a+"ScrollbarWrapper"].style.opacity=b&&e.options.hideScrollbar?"0":"1",e[a+"ScrollbarIndicator"].style[i]="translate("+("h"==a?f+"px,0)":"0,"+f+"px)")+D)},_start:function(a){var b,c,e,f,g,h=this,j=s?a.touches[0]:a;h.enabled&&(h.options.onBeforeScrollStart&&h.options.onBeforeScrollStart.call(h,a),(h.options.useTransition||h.options.zoom)&&h._transitionTime(0),h.moved=!1,h.animating=!1,h.zoomed=!1,h.distX=0,h.distY=0,h.absDistX=0,h.absDistY=0,h.dirX=0,h.dirY=0,h.options.zoom&&s&&a.touches.length>1&&(f=d.abs(a.touches[0].pageX-a.touches[1].pageX),g=d.abs(a.touches[0].pageY-a.touches[1].pageY),h.touchesDistStart=d.sqrt(f*f+g*g),h.originX=d.abs(a.touches[0].pageX+a.touches[1].pageX-2*h.wrapperOffsetLeft)/2-h.x,h.originY=d.abs(a.touches[0].pageY+a.touches[1].pageY-2*h.wrapperOffsetTop)/2-h.y,h.options.onZoomStart&&h.options.onZoomStart.call(h,a)),h.options.momentum&&(h.options.useTransform?(b=getComputedStyle(h.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),c=+(b[12]||b[4]),e=+(b[13]||b[5])):(c=+getComputedStyle(h.scroller,null).left.replace(/[^0-9-]/g,""),e=+getComputedStyle(h.scroller,null).top.replace(/[^0-9-]/g,"")),(c!=h.x||e!=h.y)&&(h.options.useTransition?h._unbind(A):C(h.aniTime),h.steps=[],h._pos(c,e),h.options.onScrollEnd&&h.options.onScrollEnd.call(h))),h.absStartX=h.x,h.absStartY=h.y,h.startX=h.x,h.startY=h.y,h.pointX=j.pageX,h.pointY=j.pageY,h.startTime=a.timeStamp||Date.now(),h.options.onScrollStart&&h.options.onScrollStart.call(h,a),h._bind(x,window),h._bind(y,window),h._bind(z,window))},_move:function(a){var b,c,e,f=this,g=s?a.touches[0]:a,h=g.pageX-f.pointX,j=g.pageY-f.pointY,k=f.x+h,l=f.y+j,m=a.timeStamp||Date.now();return this.options.hScroll&&Math.abs(h)>5&&a.preventDefault(),f.options.onBeforeScrollMove&&f.options.onBeforeScrollMove.call(f,a),f.options.zoom&&s&&a.touches.length>1?(b=d.abs(a.touches[0].pageX-a.touches[1].pageX),c=d.abs(a.touches[0].pageY-a.touches[1].pageY),f.touchesDist=d.sqrt(b*b+c*c),f.zoomed=!0,e=1/f.touchesDistStart*f.touchesDist*this.scale,e<f.options.zoomMin?e=.5*f.options.zoomMin*Math.pow(2,e/f.options.zoomMin):e>f.options.zoomMax&&(e=2*f.options.zoomMax*Math.pow(.5,f.options.zoomMax/e)),f.lastScale=e/this.scale,k=this.originX-this.originX*f.lastScale+this.x,l=this.originY-this.originY*f.lastScale+this.y,this.scroller.style[i]="translate("+k+"px,"+l+"px) scale("+e+")"+D,void(f.options.onZoom&&f.options.onZoom.call(f,a))):(f.pointX=g.pageX,f.pointY=g.pageY,(k>0||k<f.maxScrollX)&&(k=f.options.bounce?f.x+h/2:k>=0||f.maxScrollX>=0?0:f.maxScrollX),(l>f.minScrollY||l<f.maxScrollY)&&(l=f.options.bounce?f.y+j/2:l>=f.minScrollY||f.maxScrollY>=0?f.minScrollY:f.maxScrollY),f.distX+=h,f.distY+=j,f.absDistX=d.abs(f.distX),f.absDistY=d.abs(f.distY),void(f.absDistX<6&&f.absDistY<6||(f.options.lockDirection&&(f.absDistX>f.absDistY+5?(l=f.y,j=0):f.absDistY>f.absDistX+5&&(k=f.x,h=0)),f.moved=!0,f._pos(k,l),f.dirX=h>0?-1:0>h?1:0,f.dirY=j>0?-1:0>j?1:0,m-f.startTime>300&&(f.startTime=m,f.startX=f.x,f.startY=f.y),f.options.onScrollMove&&f.options.onScrollMove.call(f,a))))},_end:function(a){if(this.isEventLock=!1,!s||0===a.touches.length){var b,c,f,g,h,j,l,m=this,n=s?a.changedTouches[0]:a,o={dist:0,time:0},p={dist:0,time:0},q=(a.timeStamp||Date.now())-m.startTime,r=m.x,t=m.y;if(m._unbind(x,window),m._unbind(y,window),m._unbind(z,window),m.options.onBeforeScrollEnd&&m.options.onBeforeScrollEnd.call(m,a),m.zoomed)return l=m.scale*m.lastScale,l=Math.max(m.options.zoomMin,l),l=Math.min(m.options.zoomMax,l),m.lastScale=l/m.scale,m.scale=l,m.x=m.originX-m.originX*m.lastScale+m.x,m.y=m.originY-m.originY*m.lastScale+m.y,m.scroller.style[k]="200ms",m.scroller.style[i]="translate("+m.x+"px,"+m.y+"px) scale("+m.scale+")"+D,m.zoomed=!1,m.refresh(),void(m.options.onZoomEnd&&m.options.onZoomEnd.call(m,a));if(!m.moved)return s&&(m.doubleTapTimer&&m.options.zoom?(clearTimeout(m.doubleTapTimer),m.doubleTapTimer=null,m.options.onZoomStart&&m.options.onZoomStart.call(m,a),m.zoom(m.pointX,m.pointY,1==m.scale?m.options.doubleTapZoom:1),m.options.onZoomEnd&&setTimeout(function(){m.options.onZoomEnd.call(m,a)},200)):this.options.handleClick&&(m.doubleTapTimer=setTimeout(function(){for(m.doubleTapTimer=null,b=n.target;1!=b.nodeType;)b=b.parentNode;"SELECT"!=b.tagName&&"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName&&(c=e.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,n.screenX,n.screenY,n.clientX,n.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._fake=!0,b.dispatchEvent(c))},m.options.zoom?250:0))),m._resetPos(400),void(m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a));if(300>q&&m.options.momentum&&(o=r?m._momentum(r-m.startX,q,-m.x,m.scrollerW-m.wrapperW+m.x,m.options.bounce?m.wrapperW:0):o,p=t?m._momentum(t-m.startY,q,-m.y,m.maxScrollY<0?m.scrollerH-m.wrapperH+m.y-m.minScrollY:0,m.options.bounce?m.wrapperH:0):p,r=m.x+o.dist,t=m.y+p.dist,(m.x>0&&r>0||m.x<m.maxScrollX&&r<m.maxScrollX)&&(o={dist:0,time:0}),(m.y>m.minScrollY&&t>m.minScrollY||m.y<m.maxScrollY&&t<m.maxScrollY)&&(p={dist:0,time:0})),o.dist||p.dist)return h=d.max(d.max(o.time,p.time),10),m.options.snap&&(f=r-m.absStartX,g=t-m.absStartY,d.abs(f)<m.options.snapThreshold&&d.abs(g)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(j=m._snap(r,t),r=j.x,t=j.y,h=d.max(j.time,h))),m.scrollTo(d.round(r),d.round(t),h),void(m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a));if(m.options.snap)return f=r-m.absStartX,g=t-m.absStartY,d.abs(f)<m.options.snapThreshold&&d.abs(g)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(j=m._snap(m.x,m.y),(j.x!=m.x||j.y!=m.y)&&m.scrollTo(j.x,j.y,j.time)),void(m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a));m._resetPos(200),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,a)}},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=b.minScrollY||b.maxScrollY>0?b.minScrollY:b.y<b.maxScrollY?b.maxScrollY:b.y;return c==b.x&&d==b.y?(b.moved&&(b.moved=!1,b.options.onScrollEnd&&b.options.onScrollEnd.call(b)),b.hScrollbar&&b.options.hideScrollbar&&("webkit"==g&&(b.hScrollbarWrapper.style[n]="300ms"),b.hScrollbarWrapper.style.opacity="0"),void(b.vScrollbar&&b.options.hideScrollbar&&("webkit"==g&&(b.vScrollbarWrapper.style[n]="300ms"),b.vScrollbarWrapper.style.opacity="0"))):void b.scrollTo(c,d,a||0)},_wheel:function(a){var b,c,d,e,f,g=this;if("wheelDeltaX"in a)b=a.wheelDeltaX/12,c=a.wheelDeltaY/12;else if("wheelDelta"in a)b=c=a.wheelDelta/12;else{if(!("detail"in a))return;b=c=3*-a.detail}return"zoom"==g.options.wheelAction?(f=g.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),f<g.options.zoomMin&&(f=g.options.zoomMin),f>g.options.zoomMax&&(f=g.options.zoomMax),void(f!=g.scale&&(!g.wheelZoomCount&&g.options.onZoomStart&&g.options.onZoomStart.call(g,a),g.wheelZoomCount++,g.zoom(a.pageX,a.pageY,f,400),setTimeout(function(){g.wheelZoomCount--,!g.wheelZoomCount&&g.options.onZoomEnd&&g.options.onZoomEnd.call(g,a)},400)))):(d=g.x+b,e=g.y+c,d>0?d=0:d<g.maxScrollX&&(d=g.maxScrollX),e>g.minScrollY?e=g.minScrollY:e<g.maxScrollY&&(e=g.maxScrollY),void(g.maxScrollY<0&&g.scrollTo(d,e,0)))},_transitionEnd:function(a){var b=this;a.target==b.scroller&&(b._unbind(A),b._startAni())},_startAni:function(){var a,b,c,e=this,f=e.x,g=e.y,h=Date.now();if(!e.animating){if(!e.steps.length)return void e._resetPos(400);if(a=e.steps.shift(),a.x==f&&a.y==g&&(a.time=0),e.animating=!0,e.moved=!0,e.options.useTransition)return e._transitionTime(a.time),e._pos(a.x,a.y),e.animating=!1,void(a.time?e._bind(A):e._resetPos(0));c=function(){var i,j,k=Date.now();return k>=h+a.time?(e._pos(a.x,a.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),void e._startAni()):(k=(k-h)/a.time-1,b=d.sqrt(1-k*k),i=(a.x-f)*b+f,j=(a.y-g)*b+g,e._pos(i,j),void(e.animating&&(e.aniTime=B(c))))},c()}},_transitionTime:function(a){a+="ms",this.scroller.style[k]=a,this.hScrollbar&&(this.hScrollbarIndicator.style[k]=a),this.vScrollbar&&(this.vScrollbarIndicator.style[k]=a)},_momentum:function(a,b,c,e,f){var g=6e-4,h=d.abs(a)/b,i=h*h/(2*g),j=0,k=0;return a>0&&i>c?(k=f/(6/(i/h*g)),c+=k,h=h*c/i,i=c):0>a&&i>e&&(k=f/(6/(i/h*g)),e+=k,h=h*e/i,i=e),i*=0>a?-1:1,j=h/g,{dist:i,time:d.round(j)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return a!=this.wrapper&&(b*=this.scale,c*=this.scale),{left:b,top:c}},_snap:function(a,b){var c,e,f,g,h,i,j=this;for(f=j.pagesX.length-1,c=0,e=j.pagesX.length;e>c;c++)if(a>=j.pagesX[c]){f=c;break}for(f==j.currPageX&&f>0&&j.dirX<0&&f--,a=j.pagesX[f],h=d.abs(a-j.pagesX[j.currPageX]),h=h?d.abs(j.x-a)/h*500:0,j.currPageX=f,f=j.pagesY.length-1,c=0;f>c;c++)if(b>=j.pagesY[c]){f=c;break}return f==j.currPageY&&f>0&&j.dirY<0&&f--,b=j.pagesY[f],i=d.abs(b-j.pagesY[j.currPageY]),i=i?d.abs(j.y-b)/i*500:0,j.currPageY=f,g=d.round(d.max(h,i))||200,{x:a,y:b,time:g}},_bind:function(a,b,c){var d=b||this.scroller;d["has_"+a]||(d.addEventListener(a,this,!!c),d["has_"+a]=!0)},_unbind:function(a,b,c){var d=b||this.scroller;d.removeEventListener(a,this,!!c),d["has_"+a]=!1},destroy:function(){var a=this;a.scroller.style[i]="",a.hScrollbar=!1,a.vScrollbar=!1,a._scrollbar("h"),a._scrollbar("v"),a._unbind(v,window),a._unbind(w),a._unbind(x,window),a._unbind(y,window),a._unbind(z,window),a.options.hasTouch||(a._unbind("DOMMouseScroll"),a._unbind("mousewheel")),a.options.useTransition&&a._unbind(A),a.options.checkDOMChanges&&clearInterval(a.checkDOMTime),a.options.onDestroy&&a.options.onDestroy.call(a)},refresh:function(){var a,b,c,e,f=this,g=0,h=0;if(f.scale<f.options.zoomMin&&(f.scale=f.options.zoomMin),f.wrapperW=f.wrapper.clientWidth||1,f.wrapperH=f.wrapper.clientHeight||1,f.minScrollY=-f.options.topOffset||0,f.scrollerW=d.round(f.scroller.offsetWidth*f.scale),f.scrollerH=d.round((f.scroller.offsetHeight+f.minScrollY)*f.scale),f.maxScrollX=f.wrapperW-f.scrollerW,f.maxScrollY=f.wrapperH-f.scrollerH+f.minScrollY,f.dirX=0,f.dirY=0,f.options.onRefresh&&f.options.onRefresh.call(f),f.hScroll=f.options.hScroll&&f.maxScrollX<0,f.vScroll=f.options.vScroll&&(!f.options.bounceLock&&!f.hScroll||f.scrollerH>f.wrapperH),f.hScrollbar=f.hScroll&&f.options.hScrollbar,f.vScrollbar=f.vScroll&&f.options.vScrollbar&&f.scrollerH>f.wrapperH,a=f._offset(f.wrapper),f.wrapperOffsetLeft=-a.left,f.wrapperOffsetTop=-a.top,"string"==typeof f.options.snap)for(f.pagesX=[],f.pagesY=[],e=f.scroller.querySelectorAll(f.options.snap),b=0,c=e.length;c>b;b++)g=f._offset(e[b]),g.left+=f.wrapperOffsetLeft,g.top+=f.wrapperOffsetTop,f.pagesX[b]=g.left<f.maxScrollX?f.maxScrollX:g.left*f.scale,f.pagesY[b]=g.top<f.maxScrollY?f.maxScrollY:g.top*f.scale;else if(f.options.snap){for(f.pagesX=[];g>=f.maxScrollX;)f.pagesX[h]=g,g-=f.wrapperW,h++;for(f.maxScrollX%f.wrapperW&&(f.pagesX[f.pagesX.length]=f.maxScrollX-f.pagesX[f.pagesX.length-1]+f.pagesX[f.pagesX.length-1]),g=0,h=0,f.pagesY=[];g>=f.maxScrollY;)f.pagesY[h]=g,g-=f.wrapperH,h++;f.maxScrollY%f.wrapperH&&(f.pagesY[f.pagesY.length]=f.maxScrollY-f.pagesY[f.pagesY.length-1]+f.pagesY[f.pagesY.length-1])}f._scrollbar("h"),f._scrollbar("v"),f.zoomed||(f.scroller.style[k]="0",f._resetPos(400))},scrollTo:function(a,b,c,d){var e,f,g=this,h=a;for(g.stop(),h.length||(h=[{x:a,y:b,time:c,relative:d}]),e=0,f=h.length;f>e;e++)h[e].relative&&(h[e].x=g.x-h[e].x,h[e].y=g.y-h[e].y),g.steps.push({x:h[e].x,y:h[e].y,time:h[e].time||0});g._startAni()},scrollToElement:function(a,b){var c,e=this;a=a.nodeType?a:e.scroller.querySelector(a),a&&(c=e._offset(a),c.left+=e.wrapperOffsetLeft,c.top+=e.wrapperOffsetTop,c.left=c.left>0?0:c.left<e.maxScrollX?e.maxScrollX:c.left,c.top=c.top>e.minScrollY?e.minScrollY:c.top<e.maxScrollY?e.maxScrollY:c.top,b=void 0===b?d.max(2*d.abs(c.left),2*d.abs(c.top)):b,e.scrollTo(c.left,c.top,b))},scrollToPage:function(a,b,c){var d,e,f=this;c=void 0===c?400:c,f.options.onPageChange&&f.options.onPageChange.call(f),f.options.snap?(a="next"==a?f.currPageX+1:"prev"==a?f.currPageX-1:a,b="next"==b?f.currPageY+1:"prev"==b?f.currPageY-1:b,a=0>a?0:a>f.pagesX.length-1?f.pagesX.length-1:a,b=0>b?0:b>f.pagesY.length-1?f.pagesY.length-1:b,f.currPageX=a,f.currPageY=b,d=f.pagesX[a],e=f.pagesY[b]):(d=-f.wrapperW*a,e=-f.wrapperH*b,d<f.maxScrollX&&(d=f.maxScrollX),e<f.maxScrollY&&(e=f.maxScrollY)),f.scrollTo(d,e,c)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(x,window),this._unbind(y,window),this._unbind(z,window)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(A):C(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(a,b,c,d){var e=this,f=c/e.scale;e.options.useTransform&&(e.zoomed=!0,d=void 0===d?200:d,a=a-e.wrapperOffsetLeft-e.x,b=b-e.wrapperOffsetTop-e.y,e.x=a-a*f+e.x,e.y=b-b*f+e.y,e.scale=c,e.refresh(),e.x=e.x>0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,e.y=e.y>e.minScrollY?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y,e.scroller.style[k]=d+"ms",e.scroller.style[i]="translate("+e.x+"px,"+e.y+"px) scale("+c+")"+D,e.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},f=null,"undefined"!=typeof b?b.iScroll=E:window.iScroll=E}),define("widget/iscroll5",[],function(a,b,c){"use strict";function d(a,b){this.wrapper="string"==typeof a?document.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={zoomMin:1,zoomMax:4,startZoom:1,resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.1,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var c in b)this.options[c]=b[c];this.translateZ=this.options.HWCompositing&&h.hasPerspective?" translateZ(0)":"",this.options.useTransition=h.hasTransition&&this.options.useTransition,this.options.useTransform=h.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?h.ease[this.options.bounceEasing]||h.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this.scale=Math.min(Math.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax),this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function e(a,b,c){var d=document.createElement("div"),e=document.createElement("div");return c===!0&&(d.style.cssText="position:absolute;z-index:9999",e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),e.className="iScrollIndicator","h"==a?(c===!0&&(d.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",e.style.height="100%"),d.className="iScrollHorizontalScrollbar"):(c===!0&&(d.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",e.style.width="100%"),d.className="iScrollVerticalScrollbar"),d.style.cssText+=";overflow:hidden",b||(d.style.pointerEvents="none"),d.appendChild(e),d}function f(a,b){this.wrapper="string"==typeof b.el?document.querySelector(b.el):b.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=a,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var c in b)this.options[c]=b[c];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(h.addEvent(this.indicator,"touchstart",this),h.addEvent(window,"touchend",this)),this.options.disablePointer||(h.addEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.addEvent(window,h.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(h.addEvent(this.indicator,"mousedown",this),h.addEvent(window,"mouseup",this))),this.options.fade&&(this.wrapperStyle[h.style.transform]=this.scroller.translateZ,this.wrapperStyle[h.style.transitionDuration]=h.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},h=function(){function a(a){return d===!1?!1:""===d?a:d+a.charAt(0).toUpperCase()+a.substr(1)}var b={},c=document.createElement("div").style,d=function(){for(var a,b=["t","webkitT","MozT","msT","OT"],d=0,e=b.length;e>d;d++)if(a=b[d]+"ransform",a in c)return b[d].substr(0,b[d].length-1);return!1}();b.getTime=Date.now||function(){return(new Date).getTime()},b.extend=function(a,b){for(var c in b)a[c]=b[c]},b.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},b.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},b.prefixPointerEvent=function(a){return window.MSPointerEvent?"MSPointer"+a.charAt(9).toUpperCase()+a.substr(10):a},b.momentum=function(a,b,c,d,e,f){var g,h,i=a-b,j=Math.abs(i)/c;return f=void 0===f?6e-4:f,g=a+j*j/(2*f)*(0>i?-1:1),h=j/f,d>g?(g=e?d-e/2.5*(j/8):d,i=Math.abs(g-a),h=i/j):g>0&&(g=e?e/2.5*(j/8):0,i=Math.abs(a)+g,h=i/j),{destination:Math.round(g),duration:h}};var e=a("transform");return b.extend(b,{hasTransform:e!==!1,hasPerspective:a("perspective")in c,hasTouch:"ontouchstart"in window,hasPointer:window.PointerEvent||window.MSPointerEvent,hasTransition:a("transition")in c}),b.isBadAndroid=/Android /.test(window.navigator.appVersion)&&!/Chrome\/\d/.test(window.navigator.appVersion),b.extend(b.style={},{transform:e,transitionTimingFunction:a("transitionTimingFunction"),transitionDuration:a("transitionDuration"),transitionDelay:a("transitionDelay"),transformOrigin:a("transformOrigin")}),b.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},b.addClass=function(a,c){if(!b.hasClass(a,c)){var d=a.className.split(" ");d.push(c),a.className=d.join(" ")}},b.removeClass=function(a,c){if(b.hasClass(a,c)){var d=new RegExp("(^|\\s)"+c+"(\\s|$)","g");a.className=a.className.replace(d," ")}},b.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},b.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},b.extend(b.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),b.extend(b.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return Math.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,c=.4;return 0===a?0:1==a?1:c*Math.pow(2,-10*a)*Math.sin(2*(a-b/4)*Math.PI/b)+1}}}),b.tap=function(a,b){var c=document.createEvent("Event");c.initEvent(b,!0,!0),c.pageX=a.pageX,c.pageY=a.pageY,a.target.dispatchEvent(c)},b.click=function(a){var b,c=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(c.tagName)||(b=document.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,a.view,1,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),b._constructed=!0,c.dispatchEvent(b))},b}();d.prototype={version:"5.1.3",_init:function(){this._initEvents(),this.options.zoom&&this._initZoom(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!=h.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&h.eventType[a.type]!==this.initiated)){!this.options.preventDefault||h.isBadAndroid||h.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b,c=a.touches?a.touches[0]:a;this.initiated=h.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=h.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,b=this.getComputedPosition(),this._translate(Math.round(b.x),Math.round(b.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=c.pageX,this.pointY=c.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(!this.stopMove&&this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,c,d,e,f=a.touches?a.touches[0]:a,g=f.pageX-this.pointX,i=f.pageY-this.pointY,j=h.getTime();if(this.pointX=f.pageX,this.pointY=f.pageY,this.distX+=g,this.distY+=i,d=Math.abs(this.distX),e=Math.abs(this.distY),!(j-this.endTime>300&&10>d&&10>e)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=d>e+this.options.directionLockThreshold?"h":e>=d+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);i=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);g=0}g=this.hasHorizontalScroll?g:0,i=this.hasVerticalScroll?i:0,b=this.x+g,c=this.y+i,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+g/3:b>0?0:this.maxScrollX),(c>0||c<this.maxScrollY)&&(c=this.options.bounce?this.y+i/3:c>0?0:this.maxScrollY),this.directionX=g>0?-1:0>g?1:0,this.directionY=i>0?-1:0>i?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,c),j-this.startTime>300&&(this.startTime=j,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(a){if(this._execEvent("beforeScrollEnd"),this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&!h.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,c,d=(a.changedTouches?a.changedTouches[0]:a,h.getTime()-this.startTime),e=Math.round(this.x),f=Math.round(this.y),g=Math.abs(e-this.startX),i=Math.abs(f-this.startY),j=0,k="";if(this.isInTransition=0,this.initiated=0,this.endTime=h.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(e,f),!this.moved&&this.options.tap&&h.tap(a,this.options.tap),!this.moved&&this.options.click&&h.click(a),!this.moved&&!this.options.snap)return void this._execEvent("scrollCancel");if(this._events.flick&&200>d&&100>g&&100>i)return void this._execEvent("flick");if(this.options.momentum&&300>d&&(b=this.hasHorizontalScroll?h.momentum(this.x,this.startX,d,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:e,duration:0},c=this.hasVerticalScroll?h.momentum(this.y,this.startY,d,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:f,duration:0},e=b.destination,f=c.destination,j=Math.max(b.duration,c.duration),this.isInTransition=1),this.options.snap){var l=this._nearestSnap(e,f);this.currentPage=l,j=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(e-l.x),1e3),Math.min(Math.abs(f-l.y),1e3)),300),e=l.x,f=l.y,this.directionX=0,this.directionY=0,k=this.options.bounceEasing}return e!=this.x||f!=this.y?((e>0||e<this.maxScrollX||f>0||f<this.maxScrollY)&&(k=h.ease.quadratic),void this.scrollTo(e,f,j,k)):void this._execEvent("scrollEnd")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=Math.round(this.scroller.offsetWidth*this.scale),this.scrollerHeight=Math.round(this.scroller.offsetHeight*this.scale),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=h.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||h.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)
},scrollToElement:function(a,b,c,d,e){if(a=a.nodeType?a:this.scroller.querySelector(a)){var f=h.offset(a);f.left-=this.wrapperOffset.left,f.top-=this.wrapperOffset.top,c===!0&&(c=Math.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),d===!0&&(d=Math.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),f.left-=c||0,f.top-=d||0,f.left=f.left>0?0:f.left<this.maxScrollX?this.maxScrollX:f.left,f.top=f.top>0?0:f.top<this.maxScrollY?this.maxScrollY:f.top,b=void 0===b||null===b||"auto"===b?Math.max(Math.abs(this.x-f.left),Math.abs(this.y-f.top)):b,this.scrollTo(f.left,f.top,b,e)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.scrollerStyle[h.style.transitionDuration]="0.001s"),this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[h.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[h.style.transform]="translate("+a+"px,"+b+"px) scale("+this.scale+") "+this.translateZ:(a=Math.round(a),b=Math.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b,this.indicators)for(var c=this.indicators.length;c--;)this.indicators[c].updatePosition()},_initEvents:function(a){var b=a?h.removeEvent:h.addEvent,c=this.options.bindToWrapper?this.wrapper:window;b(window,"orientationchange",this),b(window,"resize",this),this.options.click&&b(this.wrapper,"click",this,!0),this.options.disableMouse||(b(this.wrapper,"mousedown",this),b(c,"mousemove",this),b(c,"mousecancel",this),b(c,"mouseup",this)),h.hasPointer&&!this.options.disablePointer&&(b(this.wrapper,h.prefixPointerEvent("pointerdown"),this),b(c,h.prefixPointerEvent("pointermove"),this),b(c,h.prefixPointerEvent("pointercancel"),this),b(c,h.prefixPointerEvent("pointerup"),this)),h.hasTouch&&!this.options.disableTouch&&(b(this.wrapper,"touchstart",this),b(c,"touchmove",this),b(c,"touchcancel",this),b(c,"touchend",this)),b(this.scroller,"transitionend",this),b(this.scroller,"webkitTransitionEnd",this),b(this.scroller,"oTransitionEnd",this),b(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var a,b,c=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(c=c[h.style.transform].split(")")[0].split(", "),a=+(c[12]||c[4]),b=+(c[13]||c[5])):(a=+c.left.replace(/[^-\d.]/g,""),b=+c.top.replace(/[^-\d.]/g,"")),{x:a,y:b}},_initIndicators:function(){function a(a){for(var b=h.indicators.length;b--;)a.call(h.indicators[b])}var b,c=this.options.interactiveScrollbars,d="string"!=typeof this.options.scrollbars,g=[],h=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(b={el:e("v",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(b.el),g.push(b)),this.options.scrollX&&(b={el:e("h",c,this.options.scrollbars),interactive:c,defaultScrollbars:!0,customStyle:d,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(b.el),g.push(b))),this.options.indicators&&(g=g.concat(this.options.indicators));for(var i=g.length;i--;)this.indicators.push(new f(this,g[i]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})})),this.on("refresh",function(){a(function(){this.refresh()})}),this.on("destroy",function(){a(function(){this.destroy()}),delete this.indicators})},_initZoom:function(){this.scrollerStyle[h.style.transformOrigin]="0 0"},_zoomStart:function(a){var b=Math.abs(a.touches[0].pageX-a.touches[1].pageX),c=Math.abs(a.touches[0].pageY-a.touches[1].pageY);this.touchesDistanceStart=Math.sqrt(b*b+c*c),this.startScale=this.scale,this.originX=Math.abs(a.touches[0].pageX+a.touches[1].pageX)/2+-this.x,this.originY=Math.abs(a.touches[0].pageY+a.touches[1].pageY)/2+-this.y,this._execEvent("zoomStart")},_zoom:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,c,d,e=Math.abs(a.touches[0].pageX-a.touches[1].pageX),f=Math.abs(a.touches[0].pageY-a.touches[1].pageY),g=Math.sqrt(e*e+f*f),i=1/this.touchesDistanceStart*g*this.startScale;this.scaled=!0,i<this.options.zoomMin?i=.5*this.options.zoomMin*Math.pow(2,i/this.options.zoomMin):i>this.options.zoomMax&&(i=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/i)),b=i/this.startScale,c=this.originX-this.originX*b+this.startX,d=this.originY-this.originY*b+this.startY,this.scale=i,this.scrollTo(c,d,0)}},_zoomEnd:function(a){if(this.enabled&&h.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,c,d;this.isInTransition=0,this.initiated=0,this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.refresh(),d=this.scale/this.startScale,b=this.originX-this.originX*d+this.startX,c=this.originY-this.originY*d+this.startY,b>0?b=0:b<this.maxScrollX&&(b=this.maxScrollX),c>0?c=0:c<this.maxScrollY&&(c=this.maxScrollY),(this.x!=b||this.y!=c)&&this.scrollTo(b,c,this.options.bounceTime),this.scaled=!1,this._execEvent("zoomEnd")}},zoom:function(a,b,c,d){if(a<this.options.zoomMin?a=this.options.zoomMin:a>this.options.zoomMax&&(a=this.options.zoomMax),a!=this.scale){var e=a/this.scale;b=void 0===b?this.wrapperWidth/2:b,c=void 0===c?this.wrapperHeight/2:c,d=void 0===d?300:d,b-=this.x,c-=this.y,b=b-b*e+this.x,c=c-c*e+this.y,this.scale=a,this.refresh(),b>0?b=0:b<this.maxScrollX&&(b=this.maxScrollX),c>0?c=0:c<this.maxScrollY&&(c=this.maxScrollY),this.scrollTo(b,c,d)}},_wheelZoom:function(a){var b,c,d=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){d._execEvent("zoomEnd")},400),"deltaX"in a)b=-a.deltaY/Math.abs(a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaY/Math.abs(a.wheelDeltaY);else if("wheelDelta"in a)b=a.wheelDelta/Math.abs(a.wheelDelta);else{if(!("detail"in a))return;b=-a.detail/Math.abs(a.wheelDelta)}c=this.scale+b/5,this.zoom(c,a.pageX,a.pageY,0)},_initWheel:function(){h.addEvent(this.wrapper,"wheel",this),h.addEvent(this.wrapper,"mousewheel",this),h.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){h.removeEvent(this.wrapper,"wheel",this),h.removeEvent(this.wrapper,"mousewheel",this),h.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var b,c,d,e,f=this;if(void 0===this.wheelTimeout&&f._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){f._execEvent("scrollEnd"),f.wheelTimeout=void 0},400),"deltaX"in a)1===a.deltaMode?(b=-a.deltaX*this.options.mouseWheelSpeed,c=-a.deltaY*this.options.mouseWheelSpeed):(b=-a.deltaX,c=-a.deltaY);else if("wheelDeltaX"in a)b=a.wheelDeltaX/120*this.options.mouseWheelSpeed,c=a.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in a)b=c=a.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in a))return;b=c=-a.detail/3*this.options.mouseWheelSpeed}if(b*=this.options.invertWheelDirection,c*=this.options.invertWheelDirection,this.hasVerticalScroll||(b=c,c=0),this.options.snap)return d=this.currentPage.pageX,e=this.currentPage.pageY,b>0?d--:0>b&&d++,c>0?e--:0>c&&e++,void this.goToPage(d,e);d=this.x+Math.round(this.hasHorizontalScroll?b:0),e=this.y+Math.round(this.hasVerticalScroll?c:0),d>0?d=0:d<this.maxScrollX&&(d=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY),this.scrollTo(d,e,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var a,b,c,d,e,f,g=0,h=0,i=0,j=this.options.snapStepX||this.wrapperWidth,k=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(c=Math.round(j/2),d=Math.round(k/2);i>-this.scrollerWidth;){for(this.pages[g]=[],a=0,e=0;e>-this.scrollerHeight;)this.pages[g][a]={x:Math.max(i,this.maxScrollX),y:Math.max(e,this.maxScrollY),width:j,height:k,cx:i-c,cy:e-d},e-=k,a++;i-=j,g++}else for(f=this.options.snap,a=f.length,b=-1;a>g;g++)(0===g||f[g].offsetLeft<=f[g-1].offsetLeft)&&(h=0,b++),this.pages[h]||(this.pages[h]=[]),i=Math.max(-f[g].offsetLeft,this.maxScrollX),e=Math.max(-f[g].offsetTop,this.maxScrollY),c=i-Math.round(f[g].offsetWidth/2),d=e-Math.round(f[g].offsetHeight/2),this.pages[h][b]={x:i,y:e,width:f[g].offsetWidth,height:f[g].offsetHeight,cx:c,cy:d},i>this.maxScrollX&&h++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var a=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var c=0,d=this.pages.length,e=0;if(Math.abs(a-this.absStartX)<this.snapThresholdX&&Math.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);d>c;c++)if(a>=this.pages[c][0].cx){a=this.pages[c][0].x;break}for(d=this.pages[c].length;d>e;e++)if(b>=this.pages[0][e].cy){b=this.pages[0][e].y;break}return c==this.currentPage.pageX&&(c+=this.directionX,0>c?c=0:c>=this.pages.length&&(c=this.pages.length-1),a=this.pages[c][0].x),e==this.currentPage.pageY&&(e+=this.directionY,0>e?e=0:e>=this.pages[0].length&&(e=this.pages[0].length-1),b=this.pages[0][e].y),{x:a,y:b,pageX:c,pageY:e}},goToPage:function(a,b,c,d){var a=a||0,b=b||0;d=d||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:0>a&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:0>b&&(b=0);var e=this.pages[a][b].x,f=this.pages[a][b].y;c=void 0===c?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(e-this.x),1e3),Math.min(Math.abs(f-this.y),1e3)),300):c,this.currentPage={x:e,y:f,pageX:a,pageY:b},this.scrollTo(e,f,c,d)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,0>c&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(){var a,b={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(a in this.options.keyBindings)"string"==typeof this.options.keyBindings[a]&&(this.options.keyBindings[a]=this.options.keyBindings[a].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(a in b)this.options.keyBindings[a]=this.options.keyBindings[a]||b[a];h.addEvent(window,"keydown",this),this.on("destroy",function(){h.removeEvent(window,"keydown",this)})},_key:function(a){if(this.enabled){var b,c=this.options.snap,d=c?this.currentPage.pageX:this.x,e=c?this.currentPage.pageY:this.y,f=h.getTime(),g=this.keyTime||0,i=.25;switch(this.options.useTransition&&this.isInTransition&&(b=this.getComputedPosition(),this._translate(Math.round(b.x),Math.round(b.y)),this.isInTransition=!1),this.keyAcceleration=200>f-g?Math.min(this.keyAcceleration+i,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=c?1:this.wrapperWidth:e+=c?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=c?1:this.wrapperWidth:e-=c?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=c?this.pages.length-1:this.maxScrollX,e=c?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=0,e=0;break;case this.options.keyBindings.left:d+=c?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:e+=c?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=c?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:e-=c?1:5+this.keyAcceleration>>0;break;default:return}if(c)return void this.goToPage(d,e);d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),e>0?(e=0,this.keyAcceleration=0):e<this.maxScrollY&&(e=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,e,0),this.keyTime=f}},_animate:function(a,b,c,d){function e(){var m,n,o,p=h.getTime();return p>=l?(f.isAnimating=!1,f._translate(a,b),void(f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd"))):(p=(p-k)/c,o=d(p),m=(a-i)*o+i,n=(b-j)*o+j,f._translate(m,n),f.isAnimating&&g(e),void(3==f.options.probeType&&f._execEvent("scroll")))}var f=this,i=this.x,j=this.y,k=h.getTime(),l=k+c;this.isAnimating=!0,e()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a),this.options.zoom&&a.touches&&a.touches.length>1&&this._zoomStart(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&a.touches&&a.touches[1])return void this._zoom(a);this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":if(this.scaled)return void this._zoomEnd(a);this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if("zoom"==this.options.wheelAction)return void this._wheelZoom(a);this._wheel(a);break;case"keydown":this._key(a)}}},f.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(h.removeEvent(this.indicator,"touchstart",this),h.removeEvent(this.indicator,h.prefixPointerEvent("pointerdown"),this),h.removeEvent(this.indicator,"mousedown",this),h.removeEvent(window,"touchmove",this),h.removeEvent(window,h.prefixPointerEvent("pointermove"),this),h.removeEvent(window,"mousemove",this),h.removeEvent(window,"touchend",this),h.removeEvent(window,h.prefixPointerEvent("pointerup"),this),h.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(a){var b=a.touches?a.touches[0]:a;a.preventDefault(),a.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=b.pageX,this.lastPointY=b.pageY,this.startTime=h.getTime(),this.options.disableTouch||h.addEvent(window,"touchmove",this),this.options.disablePointer||h.addEvent(window,h.prefixPointerEvent("pointermove"),this),this.options.disableMouse||h.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var b,c,d,e,f=a.touches?a.touches[0]:a,g=h.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,b=f.pageX-this.lastPointX,this.lastPointX=f.pageX,c=f.pageY-this.lastPointY,this.lastPointY=f.pageY,d=this.x+b,e=this.y+c,this._pos(d,e),1==this.scroller.options.probeType&&g-this.startTime>300?(this.startTime=g,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),a.preventDefault(),a.stopPropagation()},_end:function(a){if(this.initiated){if(this.initiated=!1,a.preventDefault(),a.stopPropagation(),h.removeEvent(window,"touchmove",this),h.removeEvent(window,h.prefixPointerEvent("pointermove"),this),h.removeEvent(window,"mousemove",this),this.scroller.options.snap){var b=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),c=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-b.x),1e3),Math.min(Math.abs(this.scroller.y-b.y),1e3)),300);(this.scroller.x!=b.x||this.scroller.y!=b.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=b,this.scroller.scrollTo(b.x,b.y,c,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0,this.indicatorStyle[h.style.transitionDuration]=a+"ms",!a&&h.isBadAndroid&&(this.indicatorStyle[h.style.transitionDuration]="0.001s")},transitionTimingFunction:function(a){this.indicatorStyle[h.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(h.addClass(this.wrapper,"iScrollBothScrollbars"),h.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(h.removeClass(this.wrapper,"iScrollBothScrollbars"),h.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,b=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=Math.max(this.indicatorWidth+a,8),this.indicatorStyle.width=this.width+"px"),a=this.minBoundaryX):a>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=Math.max(this.indicatorWidth-(a-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",a=this.maxPosX+this.indicatorWidth-this.width):a=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),b<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*b,8),this.indicatorStyle.height=this.height+"px"),b=this.minBoundaryY):b>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(b-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",b=this.maxPosY+this.indicatorHeight-this.height):b=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[h.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?Math.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?Math.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)},fade:function(a,b){if(!b||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var c=a?250:500,d=a?0:300;a=a?"1":"0",this.wrapperStyle[h.style.transitionDuration]=c+"ms",this.fadeTimeout=setTimeout(function(a){this.wrapperStyle.opacity=a,this.visible=+a}.bind(this,a),d)}}},d.utils=h,"undefined"!=typeof c&&c.exports?c.exports=d:window.IScroll=d}),!function(a,b){"function"==typeof define&&(define.amd||define.cmd)?define("widget/jweixin-1.0.0",[],function(){return b(a)}):b(a,!0)}(this,function(a,b){function c(b,c,d){a.WeixinJSBridge?WeixinJSBridge.invoke(b,e(c),function(a){g(b,a,d)}):j(b,d)}function d(b,c,d){a.WeixinJSBridge?WeixinJSBridge.on(b,function(a){d&&d.trigger&&d.trigger(a),g(b,a,c)}):d?j(b,d):j(b,c)}function e(a){return a=a||{},a.appId=z.appId,a.verifyAppId=z.appId,a.verifySignType="sha1",a.verifyTimestamp=z.timestamp+"",a.verifyNonceStr=z.nonceStr,a.verifySignature=z.signature,a}function f(a){return{timeStamp:a.timestamp+"",nonceStr:a.nonceStr,"package":a.package,paySign:a.paySign,signType:a.signType||"SHA1"}}function g(a,b,c){var d,e,f;switch(delete b.err_code,delete b.err_desc,delete b.err_detail,d=b.errMsg,d||(d=b.err_msg,delete b.err_msg,d=h(a,d,c),b.errMsg=d),c=c||{},c._complete&&(c._complete(b),delete c._complete),d=b.errMsg||"",z.debug&&!c.isInnerInvoke&&alert(JSON.stringify(b)),e=d.indexOf(":"),f=d.substring(e+1)){case"ok":c.success&&c.success(b);break;case"cancel":c.cancel&&c.cancel(b);break;default:c.fail&&c.fail(b)}c.complete&&c.complete(b)}function h(a,b){var c,d,e,f;if(b){switch(c=b.indexOf(":"),a){case o.config:d="config";break;case o.openProductSpecificView:d="openProductSpecificView";break;default:d=b.substring(0,c),d=d.replace(/_/g," "),d=d.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}),d=d.substring(0,1).toLowerCase()+d.substring(1),d=d.replace(/ /g,""),-1!=d.indexOf("Wcpay")&&(d=d.replace("Wcpay","WCPay")),e=p[d],e&&(d=e)}f=b.substring(c+1),"confirm"==f&&(f="ok"),"failed"==f&&(f="fail"),-1!=f.indexOf("failed_")&&(f=f.substring(7)),-1!=f.indexOf("fail_")&&(f=f.substring(5)),f=f.replace(/_/g," "),f=f.toLowerCase(),("access denied"==f||"no permission to execute"==f)&&(f="permission denied"),"config"==d&&"function not exist"==f&&(f="ok"),b=d+":"+f}return b}function i(a){var b,c,d,e;if(a){for(b=0,c=a.length;c>b;++b)d=a[b],e=o[d],e&&(a[b]=e);return a}}function j(a,b){if(z.debug&&!b.isInnerInvoke){var c=p[a];c&&(a=c),b&&b._complete&&delete b._complete,console.log('"'+a+'",',b||"")}}function k(){if(!("6.0.2">w||y.systemType<0)){var a=new Image;y.appId=z.appId,y.initTime=x.initEndTime-x.initStartTime,y.preVerifyTime=x.preVerifyEndTime-x.preVerifyStartTime,C.getNetworkType({isInnerInvoke:!0,success:function(b){y.networkType=b.networkType;var c="https://open.weixin.qq.com/sdk/report?v="+y.version+"&o="+y.isPreVerifyOk+"&s="+y.systemType+"&c="+y.clientVersion+"&a="+y.appId+"&n="+y.networkType+"&i="+y.initTime+"&p="+y.preVerifyTime+"&u="+y.url;a.src=c}})}}function l(){return(new Date).getTime()}function m(b){t&&(a.WeixinJSBridge?b():q.addEventListener&&q.addEventListener("WeixinJSBridgeReady",b,!1))}function n(){C.invoke||(C.invoke=function(b,c,d){a.WeixinJSBridge&&WeixinJSBridge.invoke(b,e(c),d)},C.on=function(b,c){a.WeixinJSBridge&&WeixinJSBridge.on(b,c)})}var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;return a.jWeixin?void 0:(o={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},p=function(){var a,b={};for(a in o)b[o[a]]=a;return b}(),q=a.document,r=q.title,s=navigator.userAgent.toLowerCase(),t=-1!=s.indexOf("micromessenger"),u=-1!=s.indexOf("android"),v=-1!=s.indexOf("iphone")||-1!=s.indexOf("ipad"),w=function(){var a=s.match(/micromessenger\/(\d+\.\d+\.\d+)/)||s.match(/micromessenger\/(\d+\.\d+)/);return a?a[1]:""}(),x={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},y={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:v?1:u?2:-1,clientVersion:w,url:encodeURIComponent(location.href)},z={},A={_completes:[]},B={state:0,res:{}},m(function(){x.initEndTime=l()}),C={config:function(a){z=a,j("config",a);var b=z.check===!1?!1:!0;m(function(){var a,d,e;if(b)c(o.config,{verifyJsApiList:i(z.jsApiList)},function(){A._complete=function(a){x.preVerifyEndTime=l(),B.state=1,B.res=a},A.success=function(){y.isPreVerifyOk=0},A.fail=function(a){A._fail?A._fail(a):B.state=-1};var a=A._completes;return a.push(function(){z.debug||k()}),A.complete=function(){for(var b=0,c=a.length;c>b;++b)a[b]();A._completes=[]},A}()),x.preVerifyStartTime=l();else{for(B.state=1,a=A._completes,d=0,e=a.length;e>d;++d)a[d]();A._completes=[]}}),z.beta&&n()},ready:function(a){0!=B.state?a():(A._completes.push(a),!t&&z.debug&&a())},error:function(a){"6.0.2">w||(-1==B.state?a(B.res):A._fail=a)},checkJsApi:function(a){var b=function(a){var b,c,d=a.checkResult;for(b in d)c=p[b],c&&(d[c]=d[b],delete d[b]);return a};c("checkJsApi",{jsApiList:i(a.jsApiList)},function(){return a._complete=function(a){if(u){var c=a.checkResult;c&&(a.checkResult=JSON.parse(c))}a=b(a)},a}())},onMenuShareTimeline:function(a){d(o.onMenuShareTimeline,{complete:function(){c("shareTimeline",{title:a.title||r,desc:a.title||r,img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareAppMessage:function(a){d(o.onMenuShareAppMessage,{complete:function(){c("sendAppMessage",{title:a.title||r,desc:a.desc||"",link:a.link||location.href,img_url:a.imgUrl||"",type:a.type||"link",data_url:a.dataUrl||""},a)}},a)},onMenuShareQQ:function(a){d(o.onMenuShareQQ,{complete:function(){c("shareQQ",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareWeibo:function(a){d(o.onMenuShareWeibo,{complete:function(){c("shareWeiboApp",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},onMenuShareQZone:function(a){d(o.onMenuShareQZone,{complete:function(){c("shareQZone",{title:a.title||r,desc:a.desc||"",img_url:a.imgUrl||"",link:a.link||location.href},a)}},a)},startRecord:function(a){c("startRecord",{},a)},stopRecord:function(a){c("stopRecord",{},a)},onVoiceRecordEnd:function(a){d("onVoiceRecordEnd",a)},playVoice:function(a){c("playVoice",{localId:a.localId},a)},pauseVoice:function(a){c("pauseVoice",{localId:a.localId},a)},stopVoice:function(a){c("stopVoice",{localId:a.localId},a)},onVoicePlayEnd:function(a){d("onVoicePlayEnd",a)},uploadVoice:function(a){c("uploadVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadVoice:function(a){c("downloadVoice",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},translateVoice:function(a){c("translateVoice",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},chooseImage:function(a){c("chooseImage",{scene:"1|2",count:a.count||9,sizeType:a.sizeType||["original","compressed"]},function(){return a._complete=function(a){if(u){var b=a.localIds;b&&(a.localIds=JSON.parse(b))}},a}())},previewImage:function(a){c(o.previewImage,{current:a.current,urls:a.urls},a)},uploadImage:function(a){c("uploadImage",{localId:a.localId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},downloadImage:function(a){c("downloadImage",{serverId:a.serverId,isShowProgressTips:0==a.isShowProgressTips?0:1},a)},getNetworkType:function(a){var b=function(a){var b,c,d,e=a.errMsg;if(a.errMsg="getNetworkType:ok",b=a.subtype,delete a.subtype,b)a.networkType=b;else switch(c=e.indexOf(":"),d=e.substring(c+1)){case"wifi":case"edge":case"wwan":a.networkType=d;break;default:a.errMsg="getNetworkType:fail"}return a};c("getNetworkType",{},function(){return a._complete=function(a){a=b(a)},a}())},openLocation:function(a){c("openLocation",{latitude:a.latitude,longitude:a.longitude,name:a.name||"",address:a.address||"",scale:a.scale||28,infoUrl:a.infoUrl||""},a)},getLocation:function(a){a=a||{},c(o.getLocation,{type:a.type||"wgs84"},function(){return a._complete=function(a){delete a.type},a}())},hideOptionMenu:function(a){c("hideOptionMenu",{},a)},showOptionMenu:function(a){c("showOptionMenu",{},a)},closeWindow:function(a){a=a||{},c("closeWindow",{immediate_close:a.immediateClose||0},a)},hideMenuItems:function(a){c("hideMenuItems",{menuList:a.menuList},a)},showMenuItems:function(a){c("showMenuItems",{menuList:a.menuList},a)},hideAllNonBaseMenuItem:function(a){c("hideAllNonBaseMenuItem",{},a)},showAllNonBaseMenuItem:function(a){c("showAllNonBaseMenuItem",{},a)},scanQRCode:function(a){a=a||{},c("scanQRCode",{needResult:a.needResult||0,scanType:a.scanType||["qrCode","barCode"]},function(){return a._complete=function(a){var b,c;v&&(b=a.resultStr,b&&(c=JSON.parse(b),a.resultStr=c&&c.scan_code&&c.scan_code.scan_result))},a}())},openProductSpecificView:function(a){c(o.openProductSpecificView,{pid:a.productId,view_type:a.viewType||0},a)},addCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,card_ext:e.cardExt},h.push(f);c(o.addCard,{card_list:h},function(){return a._complete=function(a){var b,c,d,e=a.card_list;if(e){for(e=JSON.parse(e),b=0,c=e.length;c>b;++b)d=e[b],d.cardId=d.card_id,d.cardExt=d.card_ext,d.isSuccess=d.is_succ?!0:!1,delete d.card_id,delete d.card_ext,delete d.is_succ;a.cardList=e,delete a.card_list}},a}())},chooseCard:function(a){c("chooseCard",{app_id:z.appId,location_id:a.shopId||"",sign_type:a.signType||"SHA1",card_id:a.cardId||"",card_type:a.cardType||"",card_sign:a.cardSign,time_stamp:a.timestamp+"",nonce_str:a.nonceStr},function(){return a._complete=function(a){a.cardList=a.choose_card_info,delete a.choose_card_info},a}())},openCard:function(a){var b,d,e,f,g=a.cardList,h=[];for(b=0,d=g.length;d>b;++b)e=g[b],f={card_id:e.cardId,code:e.code},h.push(f);c(o.openCard,{card_list:h},a)},chooseWXPay:function(a){c(o.chooseWXPay,f(a),a)}},b&&(a.wx=a.jWeixin=C),C)}),define("widget/lc_tag_drop_down",["widget/iscroll"],function(a,b,c){"use strict";function d(a,b){var c=this;c._config={},c.config(b),c.$root=$(a),c.tddlItemHeights=[],c.isInit=!1,c.rst=[],c.curIndex=0,c.$tddbItems=c.$root.find(".lc-tddb-item"),c.$tddlItems=c.$root.find(".lc-tddl-item"),c.$tddList=c.$root.find(".lc-tdd-list"),c.$lasttdbItem=c.$root.find(".lc-tdd-list"),c._config.maxListHeight&&c.$tddlItems.css("max-height",c._config.maxListHeight),setTimeout(function(){c.refresh()
},50),c.$root.on("click",".lc-tddb-item",function(a){a.stopPropagation();var b=$(this),d=b.index();c.active(d,"active")}),c.$root.on("webkitTransitionEnd",".lc-tddl-item",function(){var a=!0;c.$tddbItems.each(function(b){var d=c.$tddbItems.eq(b);d.hasClass("active")&&(a=!1)}),a&&(c.$root.css("height",c.rootHeight),c._config.onNotActive?c._config.onNotActive():"")}),c.$root.on("click",".lc-tddl-label",function(a){a.stopPropagation();var b=$(this),d=b.closest(".lc-tddl-item"),e=d.index(),f=d.find(".lc-tddl-label");f.removeClass("active"),b.addClass("active"),c._config.autoBarText&&c.$tddbItems.eq(e).find(".lc-tddbi-text").text(b.text()),c.curLabelIndex=e,c.$curLabel=b,c.rst[d.index()]=b.attr("lc-tddl-label"),c._config.onSelect?c._config.onSelect(a):""}),c._config.onInit?c._config.onInit(c):""}var e=lang.extend,f=a("widget/iscroll"),g={autoBarText:!0,rootHeightOffset:0};d.prototype.active=function(a,b){var c,d=this,e=d.$tddbItems,f=d.$tddlItems,g=e.eq(a),h=f.eq(a);h.length<=0||(d.curIndex=a,d.unactive(a),g.hasClass("active")?(h.css("transform","translateY(0px)"),g.removeClass("active")):(c=h.height(),d.$root.css("height",c+d.rootHeight),h.css("transform","translateY("+c+"px)"),g.addClass("active")),"active"==b&&(d._config.onActive?d._config.onActive(g):""))},d.prototype.unactive=function(a){var b=this,c=b.$tddbItems,d=b.$tddlItems;d.forEach(function(b,e){var f=d.eq(e);a!=e&&(f.css("transform","translateY(0px)"),c.eq(e).removeClass("active"))})},d.prototype.updateList=function(a){var b=this,c=b.$tddlItems,d=c.eq(a.index);d.html(a.tpl),d.iScroll?d.iScroll.refresh():d.iScroll=new f.iScroll(d[0],{})},d.prototype.refresh=function(){var a=this,b=a.$tddlItems;a.rootHeight||(a.rootHeight=a.$root.height()+a._config.rootHeightOffset),b.forEach(function(c,d){var e=b.eq(d),f=e.height(),g=a.rootHeight;a.tddlItemHeights.push(f),a.$tddList.css("top",g)})},d.prototype.config=function(a){e(!0,this._config,g,a)},c.exports=d}),define("widget/lc_upload",[],function(a,b,c){"use strict";function d(a){{var b,c=new XMLHttpRequest,d=new FormData,e=a.data,f=a.url,g=c.upload,h=a.success,i=(a.error,a.progress),j=(a.onload,a.onEnd),k=a.onStart;a.name||"upload"}e=e.files?e.files:e;var l;for(l in e)d.append("file",e[l]);c.open("POST",f),g.ononStart=function(a){b=a.loaded,k?k(a):""},g.onprogress=function(a){a.net_speed=a.loaded-b,a.prog=a.loaded/a.total*100,b=a.loaded,i?i(a):""},g.onEnd=function(a){j?j(a):""},c.onreadystatechange=function(){if(200===c.status&&3===c.readyState){var a=c.response||c.responseText;a=JSON.parse(a),h?h(a):""}},c.send(d)}c.exports=d}),define("widget/mList",["iScroll"],function(a,b,c){"use strict";function d(a,b){function c(a){m.text(a)}function d(){t.options.topOffset=0,t.refresh(),h(),y[q]=(new Date).getTime(),i(),u.loading=!1}function g(){n.css("top",0),s.hide(),t.refresh()}function h(){var a,b;a=(new Date).getTime(),y[q]?(b=y[q],o.text(time.diff(b))):y[q]=a}function i(){setTimeout(function(){p.removeClass("active fa-refresh fa-spin"),c(z.start),x=0,l.removeClass("onstart onloading")},300)}var j,k,l,m,n,d,o,p,q,r,s,t,u=this,v={},w="",x=0,y=localStorage,b=lang.extend({scrollbarClass:"mlist-scrollBar",vScrollbar:!0},b),z=b.update_sta||{start:"下拉刷新",loading:"正在加载数据...",end:"松开刷新"},A=b.loadMore_sta||{start:"上拉刷新",loading:"正在加载数据...",end:"松开加载"};this.id="_mList_"+b.id,q=u.id+"_last_time",v.onScrollStart=b.onScrollStart,v.onScrollMove=b.onScrollMove,v.onScrollEnd=b.onScrollEnd,v.onBeforeScrollEnd=b.onBeforeScrollEnd,v.onUpdate=b.onUpdate,v.onLoadMore=b.onLoadMore,b.onScrollStart=function(a){!u.loading&&v.onUpdate&&(x=1,l.addClass("onstart"),h()),v.onScrollStart?v.onScrollStart(a):""},b.onScrollMove=function(){if(!u.loading){var a=t.y,b=p.hasClass("active");a>=k&&!b&&(w=z.end,c(w),setTimeout(function(){p.addClass("active")},10)),j+20>=a&&b&&i()}-t.y>=-t.maxScrollY+50&&1===t.dirY&&(u.loadMore=!1),v.onScrollMove?v.onScrollMove(t):""},this.loading=!1,this.loadMore=!0,b.onBeforeScrollEnd=function(a){return v.onBeforeScrollEnd?v.onBeforeScrollEnd(t):"",p.hasClass("active")&&!u.loading&&v.onUpdate?(u.loading=!0,c(z.loading),p.addClass("fa-refresh fa-spin"),l.addClass("onloading"),v.onUpdate(d,a),void t.refresh()):u.loadMore?void(u.loading||i()):(s.css("display","-webkit-box"),u.loadMore=!0,n.css("top",-50),void(v.onLoadMore?v.onLoadMore(g,a):""))},t=this.iScroll=new e.iScroll(a,b),n=$(this.iScroll.scroller),r=$(u.iScroll.wrapper),setTimeout(function(){l=$(tpl.render(f)).prependTo(r),j=1*l.css("height").replace("px",""),k=1.5*j,m=l.find(".mlist-update-text"),p=l.find(".arrow"),o=l.find(".last-time"),h();var a='<div class="mlist-loadMore"><i class="fa fa-lg fa-spin fa-refresh"></i><div>'+A.loading+"</div></div>";s=$(tpl.render(a)).appendTo(r)},100)}var e=a("iScroll"),f=a("tpl/mlist_update.tpl");c.exports=d}),define("widget/netCache",[],function(a,b,c){"use strict";function d(a){var b=d._ajax,c=a,g=localStorage,h={};net.ajax=function(a){function d(a){function b(a){c=f.unpack_data(a,{cache:h,time_exp:o,abs_url:n}).data}s.sendNum--;var c;if(r.isOnSuccessBefores&&(r.onSuccessBefores?r.onSuccessBefores(a,h[n]):""),r.isOnSuccessBefore&&(r.onSuccessBefore?r.onSuccessBefore(a,h[n]):""),s.isCache&&s.isPack?b(a):c=a,r.isSuccess&&(p.success?p.success(c,s):""),r.isOnSuccessAfters&&(r.onSuccessAfters?r.onSuccessAfters(a,h[n]):""),r.isOnSuccessAfter&&(r.onSuccessAfter?r.onSuccessAfter(a,h[n]):""),s.isCache&&r.autoUpdate&&s.dataFrom){var d;r.isCache=0,r.isOnFronts=0,r.isOnSuccessAfters=0,r.isOnSuccessBefores=0,r.isOnFront=0,r.isOnSuccessAfter=0,r.isOnSuccessBefore=0,r.success=function(a){e&&(e.postMessage({news:a,cache:d}),e.onmessage=function(c){var e=c.data;1==e.status&&(b(a),r.isOnUpdates&&(r.onUpdates?r.onUpdates(a,d):""),r.isOnUpdate&&(r.onUpdate?r.onUpdate(a,d):""))})},r.error=function(){},r.error=null;var i;d=net.ajax(r),i=JSON.stringify(d.options),d.options=JSON.parse(i)}setTimeout(function(){if(Math.round(10*(JSON.stringify(g).length/5e6).toFixed(2))/10>=r.maxCap){var a=f.getIndexList().slice(0,1);a.forEach(function(a){f.clear(a)})}},111)}function i(){setTimeout(function(){s.sendNum--,r.maxReSendNum>0&&s.reSendNum<r.maxReSendNum&&(b(r),s.reSendNum++),p.error?p.error(s):""},10)}var j,k,l,m,n,o,p={},q={};a.type&&"post"==a.type.toLowerCase()&&(q.isCache=0);var r=f.extend({},f.setDef,c,q,a);j=f.getURL(r.url),k=f.merger_param(f.getParam(r.url),r.data),n="_netCache_"+j+k,h[n]||(h[n]={});var s;return s=h[n],s.id=n,s.options=r,f.setIndexList(n),r.maxSendNum>0&&(s.sendNum?"":s.sendNum=1),r.maxReSendNum>0&&(s.reSendNum?"":s.reSendNum=1),s.isPack=r.isPack,r.onFronts&&r.isOnFronts&&r.onFronts(s),r.onFront&&r.isOnFront&&r.onFront(s),s.sendNum>r.maxSendNum?void(r.onReject&&r.isOnReject&&r.onReject(s)):(s.sendNum++,s.isCache=r.isCache,p.success=r.success,p.error=r.error,r.success=d,r.error=i,r.isCache?(o=f.getTime()+1e3*r.time_exp,s.data?(l=s.data,s.dataFrom="cache"):(m=g[n])&&(m=JSON.parse(m),l=m.data,s.data=m,s.dataFrom="ls"),l&&f.checkTimeout(s,l),setTimeout(function(){try{l?d(l):b(r)}catch(a){i(a)}},11),s):(b(r),s))}}var e,f=d,g=-1==location.host.indexOf("m.pccn.com.cn")?"js/widget":"js";Worker&&(e=new Worker(g+"/netCache_diff.js")),f.extend=lang.extend,f.type=lang.type,f.setDef={time_exp:1200,autoUpdate:1,isCache:0,maxReSendNum:3,isSuccess:1,maxSendNum:1,isPack:1,maxCap:20,isOnReject:1,isOnSuccessBefores:1,isOnSuccessAfters:1,isOnFronts:1,isOnSuccessBefore:1,isOnSuccessAfter:1,isOnFront:1,isOnUpdates:1,isOnUpdate:1},f._ajax=net.ajax,f._stop=!1,f.getURL=function(a){return a.match(/[^?#]*/)[0]},f.merger_param=function(a,b){var c,d,e="",a=a?a[0]:"?";if(b){for(c in b)d=b[c],e+="&"+c+"="+d;e=a+e}else e=a;return e},f.getParam=function(a){return a.match(/\?.*/)},f.checkTimeout=function(a,b){var c=f.getTime(),d=b.time_exp;a.isCache=c-d>0?0:1},f.getTime=function(){return(new Date).getTime()},f.unpack_data=function(a,b){var c={},d=localStorage;return c.time_exp=b.time_exp,b.cache[b.abs_url].data=a,c.data=a,d[b.abs_url]=JSON.stringify(c),c},f.indexListName="_netCache_index_list",f.ls=localStorage,f.getIndexList=function(){var a=f.ls,b=f.indexListName,c=a[b];return c?JSON.parse(c):a[b]=[]},f.setIndexList=function(a){var b=f.getIndexList();f.ls[a]||(b.push(a),f.reSetIndexList(b))},f.reSetIndexList=function(a){f.ls[f.indexListName]=JSON.stringify(a)},d.config=function(a){f.extend(f.setDef,a)},d.stop=function(){d._stop=!0},d.start=function(){d._stop=!1},d.clear=function(a){function b(a){return a.replace(/\?|\&|\(|\)|\.|\*|\+|\:|\[|\]|\^|\$/g,function(a){return"\\"+a})}var c,d,e=localStorage,g=0,h="_netCache_",i=f.type;d="string"==i(a)?"^"+h+".*"+b(a.replace(h,"")):"object"==i(a)&&a.id?b(a.id):h;var j=new RegExp(d,"i"),k=f.getIndexList();for(c in e)j.test(c)&&(delete e[c],k.forEach(function(a){a==c&&k.splice(a,1)}),g++);return f.reSetIndexList(k),g},c.exports=d}),define("widget/query_box",["ui"],function(a,b,c){"use strict";function d(a,b){function c(){j.ok?j.ok():0,g()}function d(){j.cancle?j.cancle():0,g()}function f(a){var b=a||"您确定执行该操作?";h.find(".query-box-content").html(b),h.show(),e.center(h,{position:"fixed"}),j.onShow?j.onShow():""}function g(){h.hide(),j.onHide?j.onHide():""}var h,i,j,k;k=$(document),j=this,this.$root=$(a),h=this.$root,i=b||$("#common-mask");var l="#"+this.$root.attr("id");return k.on("click",l+" .confirm",c),k.on("click",l+" .cancle",d),this.show=f,this.hide=g,this}var e=a("ui");c.exports=d}),define("widget/scroll_sel",["iScroll"],function(a,b,c){"use strict";function d(a,b){var c,d,f={snap:!0,def_page:0,vScroll:!0,vScrollbar:!1,bouncelock:!0,snapThreshold:1,hScrollbar:!1},g=this,h=b||{},i={};this.$root=c=$(a),this.$scroll_sel_box=d=c.find(".scroll-sel-box"),this.iScrolls=[],this.scrollers=[],this.rst=[],i.onScrollStart=h.onScrollStart||!1,i.onScrollMove=h.onScrollMove||!1,i.onScrollEnd=h.onScrollEnd||!1,h.onScrollStart=function(a){this.scrollerItemH=this.scrollerH/this.scroller.children.length,this.sel_dval=32,i.onScrollStart?i.onScrollStart.call(this,a):""},h.onScrollMove=function(a){{var b=Math.floor(this.y/this.sel_dval);this.selPageY+b}i.onScrollMove?i.onScrollMove.call(this,a):""},h.onScrollEnd=function(a){var b=$(this.scroller).find(".scroll-sel-li"),c=this.currPageY,d=this.index;g.rst[d]=c,b.removeClass("active"),b.eq(this.currPageY).addClass("active");var j=g.iScrolls[d+1];if(j){var k=j.wrapper,l=$(k),m=l.find(".scroll-sel-list"),n=m.eq(c);m.addClass("hide"),n.removeClass("hide"),h.scroller=n[0];var o=new e.iScroll(k,lang.extend(f,h));o.index=d+1,l.css("overflow","visible"),o.scrollToElement(o.scroller.children[0])}i.onScrollEnd?i.onScrollEnd.call(this,a):""},d.each(function(a){var b=d.eq(a),c=new e.iScroll(b[0],lang.extend(f,h));c.index=a,c.selPageY=0,c.scrollerChildren=c.scroller.children,g.iScrolls.push(c),g.scrollers.push($(g.iScrolls[a].scroller)),b.css("overflow","visible");var i=c.scrollerChildren[f.def_page];c.scrollToElement(i),c.currPageY=f.def_page,g.rst.push(c.currPageY),function(){}(a)})}var e=a("iScroll");c.exports=d}),define("widget/ui",[],function(a,b){"use strict";b.center=function(a,b){var c=lang.extend({position:"absolute",top:"50%",left:"50%","margin-left":a.width()/2*-1,"margin-top":a.height()/2*-1},b);return a.css(c),a}}),define("widget/upload",[],function(a,b,c){"use strict";function d(a){a&&this.init(a)}var e=$(document),f=lang.extend;d.prototype.init=function(a){function b(a){var a=a||null;d.onCompItems?d.onCompItems(a):"",g.onCompItem?g.onCompItem(a):"",h.upload_num>=g.taskLen&&(d.onCompletes?d.onCompletes(a):"",g.onComplete?g.onComplete(a):""),h.upload_num++}function c(a){function c(a){var b=document.createElement("canvas"),c=a.naturalWidth,d=a.naturalHeight,e={sx:0,sy:0,sw:c,sh:d,dx:0,dy:0,dw:100,dh:100};f(e,g.imgCut);var h=c/d;e.dw||(e.dw=e.dh*h),e.dh||(e.dh=e.dw/h),b.width=e.dw,b.height=e.dh;var i=b.getContext("2d");return i.drawImage(a,e.sx,e.sy,e.sw,e.sh,e.dx,e.dy,e.dw,e.dh),b.toDataURL()}var d;if(0==g.imgType){var e=new Image;e.src=a.rst,e.className+=" kw-upload-img",d=$(e),j.append(d)}else d=i.find(".kw-upload-img").eq(a.i),setTimeout(function(){d.attr("src",a.rst)},50);g.imgCut&&(d.off("load"),d.on("load",function(){h.rst.push(c(this)),b(a)}))}var g=f({imgCut:{},imgType:0,fileType:"img"},a),h=this;this.upload_num=1;var i=g.$root,j=i.find(".kw-upload-box");return e.on("change",g.input,function(){function a(a){console.error(a.message),d.onNotypes?d.onNotypes():"",g.onNotype?g.onNotype():"",g.taskLen=0,b()}try{h.rst=[],0==g.imgType&&j.html("");var e=this,f=this.files;d.onFronts?d.onFronts():"",g.onFront?g.onFront():"",e.upload_num=1;for(var i=g.maxNum,k=f.length,l=g.taskLen=i&&k>=i?i:k,m=0;l>m;m++){var n=f[m].type;if(!n)return void a();!function(b){var d=new FileReader;d.onload=function(e){var f=e.target.result;switch(b.rst=f,b.type.match(/.*\//i)[0].slice(0,-1)){case"image":c(b);break;default:a()}d=null},d.readAsDataURL(e.files[m])}({i:m,type:n})}}catch(o){a(o)}}),this},d.prototype.config=function(a){f(d,a)},c.exports=d}),define("widget/url",[],function(a,b,c){"use strict";function d(){}d.param_url=function(){},c.exports=d}),define("widget/wx",["widget/jweixin-1.0.0"],function(a,b,c){function d(){f.onMenuShareAppMessage(e),f.onMenuShareTimeline(lang.extend({},e,{title:e.desc})),f.onMenuShareQQ(e)}var e,f=a("widget/jweixin-1.0.0.js"),g=lang.extend,h={title:"孙海渠道",desc:"用这个查渠道商信息，太方便了！",link:location.href,imgUrl:"http://m.pccn.com.cn/img/logo.png",type:""};!function(){function a(a){var b=a.data;f.config({debug:!1,appId:b.appId,timestamp:b.timestamp,nonceStr:b.nonceStr,signature:b.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","onVoiceRecordEnd","playVoice","onVoicePlayEnd","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"]})}net.send({url:C.api.wxGetJsConfig,cache:!1,data:{cur_href:encodeURIComponent(location.href.split("#")[0])},onSuccess:a})}(),f.error(function(){});var i,j=!1;f.setShare=function(a,b){e=g({},h,{link:location.href},a),d(),j||b||(i=a),j&&b&&i&&f.setShare(i)},f.ready(function(){j=!0,f.setShare({},"ready")}),c.exports=f});